{"version":3,"sources":["webpack:///./src/app/ms-back-office/modules/ms-releases/components/delete-release/delete-release.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/delete-release/delete-release.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/delete-release/delete-release.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-form/edit-release-form.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-form/edit-release-form.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-form/edit-release-form.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-modal/edit-release-modal.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-modal/edit-release-modal.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release-modal/edit-release-modal.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release/edit-release.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release/edit-release.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/edit-release/edit-release.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release-modal/new-release-modal.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release-modal/new-release-modal.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release-modal/new-release-modal.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release/new-release.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release/new-release.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/new-release/new-release.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/release-form/release-form.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/release-form/release-form.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/release-form/release-form.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-collection-table/releases-collection-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-collection-table/releases-collection-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-collection-table/releases-collection-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-table/releases-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-table/releases-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-releases/components/releases-table/releases-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/models/color.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/models/gender.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/ms-releases-routing.module.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/ms-releases.module.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/services/releases-images-resolve.service.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/services/releases-images.service.ts","webpack:///./src/app/ms-back-office/modules/ms-style/services/styles-resolve.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,mB;;;;;;;;;;;ACAA,+DAA+D,+N;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA+B;AACrC;AACzD,EAAE;AAC0D;AACL;AACvD,EAAE;AACmI;AAChC;AACf;AAOpB;AAElE,IAAM,QAAQ,GAAG,QAAQ,CAAC;AAE1B,IAAM,YAAY,GAAG,QAAQ,CAAC;AAE9B,IAAM,UAAU,GAAG,gHAAgH,CAAC;AAEpI,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,iBAAiB,GAAG,SAAS,CAAC;AAOpC;IAQE,gCACS,cAA8B,EAC7B,MAAiB,EAClB,eAAgC,EAC/B,oBAA0C,EAC3C,MAAc,EACb,SAA2B,EAC3B,MAAqB;QANtB,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAW;QAClB,oBAAe,GAAf,eAAe,CAAiB;QAC/B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC3C,WAAM,GAAN,MAAM,CAAQ;QACb,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAe;QAC7B,gDAAgD;IAClD,CAAC;IAED,gDAAe,GAAf;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,yCAAQ,GAAR;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;IAC/D,CAAC;IAED,2CAAU,GAAV;QAAA,iBAOC;QANC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAChE,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC1B,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,EACC,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAClF;IACH,CAAC;IAED,sCAAK,GAAL;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAC,CAAC,CAAC;IAC/G,CAAC;IAED,qDAAoB,GAApB;QAAA,iBAiBC;QAhBC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oIAAsB,EAAE;YACvD,IAAI,EAAE;gBACJ,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;aACxC;SACF,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,gBAAM;YAC1C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACX,KAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAa,GAAb;QAAA,iBAcC;QAbC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACjE,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,kBAAQ;gBACtD,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACjD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;gBACvC,KAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC,EACC,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;QACvF,CAAC,EACC,UAAC,KAAmB;YAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACzD,KAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CACF;IACH,CAAC;IAzEU,sBAAsB;QALlC,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;;;SAG3B,CAAC;yCAUyB,8DAAc;YACrB,2DAAS;YACD,0EAAe;YACT,oGAAoB;YACnC,sDAAM;YACF,oEAAgB;YACnB,qFAAa;OAfpB,sBAAsB,CA0ElC;IAAD,6BAAC;CAAA;AA1EkC;;;;;;;;;;;;AChCnC,gvDAAgvD,aAAa,+rBAA+rB,iBAAiB,kkBAAkkB,YAAY,+tBAA+tB,2BAA2B,2XAA2X,YAAY,0lCAA0lC,YAAY,izEAAizE,sBAAsB,wHAAwH,wBAAwB,yC;;;;;;;;;;;ACAztP,yBAAyB,kBAAkB,2BAA2B,EAAE,0CAA0C,iBAAiB,kCAAkC,EAAE,EAAE,kBAAkB,4BAA4B,EAAE,kBAAkB,gBAAgB,EAAE,oBAAoB,+BAA+B,EAAE,+CAA+C,+rC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACM1U;AAC0D;AACjF,EAAE;AACwD;AAEH;AAIW;AACY;AAC2C;AAGzH,kDAAkD;AAClD,8EAA8E;AAClB;AAGuE;AAC9B;AAElD;AACG;AAE0C;AACrB;AAGA;AAGD;AAG1E,IAAM,QAAQ,GAAG,OAAO,CAAC;AAOzB;IAA8C,4CAAkC;IA+D9E,kCACS,MAAiB,EACjB,aAA4B,EAC5B,oBAA0C,EAC1C,gBAA2B,EAC3B,aAA4B,EAC3B,WAAwB,EACzB,eAAgC,EAChC,oBAA0C,EAC1C,aAA4B,EACnC,gBAAkC;QAVpC,YAWE,kBAAM,gBAAgB,CAAC,SAExB;QAZQ,YAAM,GAAN,MAAM,CAAW;QACjB,mBAAa,GAAb,aAAa,CAAe;QAC5B,0BAAoB,GAApB,oBAAoB,CAAsB;QAC1C,sBAAgB,GAAhB,gBAAgB,CAAW;QAC3B,mBAAa,GAAb,aAAa,CAAe;QAC3B,iBAAW,GAAX,WAAW,CAAa;QACzB,qBAAe,GAAf,eAAe,CAAiB;QAChC,0BAAoB,GAApB,oBAAoB,CAAsB;QAC1C,mBAAa,GAAb,aAAa,CAAe;QAtErC,YAAM,GAAY,oDAAM,CAAC;QAEzB,sBAAgB,GAAa;YAC3B,KAAK;YACL,YAAY;YACZ,OAAO;YACP,MAAM;YACN,QAAQ;YACR,SAAS;YACT,SAAS;YACT,QAAQ;SACT,CAAC;QAMF,aAAO,GAAa,uDAAO,CAAC;QAUnB,oBAAc,GAAwB,EAAE,CAAC;QAEzC,cAAQ,GAAgB,EAAE,CAAC;QAI3B,eAAS,GAAwB,EAAE,CAAC;QAEpC,cAAQ,GAAG,KAAK,CAAC;QAoB1B,YAAM,GAAiB,EAAE,CAAC;QAE1B,iBAAW,GAAW,CAAC,CAAC;QAExB,mBAAa,GAAG,IAAI,0DAAW,EAAE,CAAC;;QAchC,uDAAuD;IACzD,CAAC;IAED,2CAAQ,GAAR;QAAA,iBAkBC;QAjBC,IAAI,CAAC,uBAAuB,GAAG;YAC7B;gBACE,IAAI,EAAE,UAAU;gBAChB,GAAG,EAAE,gBAAgB;gBACrB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,EAAE;aAChB;SACF,CAAC;QAEF,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK;YAC3B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACzC,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACzB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,EAAE,CAAC;IAEzB,CAAC;IAED,kDAAe,GAAf;IACA,CAAC;IAED,kDAAe,GAAf;QACE,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAC5D,GAAG,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACnC,WAAW,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YACnD,OAAO,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC3C,YAAY,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;YACrD,QAAQ,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC7C,MAAM,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACzC,KAAK,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACvC,KAAK,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACtF,GAAG,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACnC,WAAW,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YACnD,aAAa,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YACvD,QAAQ,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC7C,UAAU,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;SAClD,CAAC,CAAC;IACL,CAAC;IAED,+CAAY,GAAZ,UAAa,IAAU;QAAvB,iBAOC;QANC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACtF,CAAC,EACC,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;QAEvF,CAAC;IACH,CAAC;IAED,gDAAa,GAAb;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACzB,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC;gBACH,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAC3C,CAAC;YACD,KAAK,EAAC,IAAD,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,gDAAa,GAAb;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sGAAiB,EAAE;YAClD,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,KAAK;YACZ,UAAU,EAAE,mBAAmB;YAC/B,IAAI,EAAE;gBACJ,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;aACnD;SACF,CAAC,CAAC;IACL,CAAC;IAED,0CAAO,GAAP,UAAQ,EAAU;QAChB,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAI;gBACzB,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC,IAAI,CAAC;QACV,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACX,MAAM,CAAC;QACT,CAAC;IACH,CAAC;IAED,8CAAW,GAAX,UAAY,OAAe;QAA3B,iBAWC;QAVC,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,UAAC,QAAQ;YACnD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,eAAK;oBACjC,MAAM,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,CAAC;gBACjC,CAAC,CAAC,CAAC;YACL,CAAC;YACD,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YACzB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAW,GAAX,UAAY,OAAe;QACzB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC;IAEH,CAAC;IApKQ;QAAR,2DAAK,EAAE;kCAAc,KAAK;iEAAa;IAE/B;QAAR,2DAAK,EAAE;kCAAiB,KAAK;oEAAoB;IAEzC;QAAR,2DAAK,EAAE;kCAAW,KAAK;8DAAY;IAE3B;QAAR,2DAAK,EAAE;kCAAsB,kIAA4B;yEAAC;IAElD;QAAR,2DAAK,EAAE;kCAAY,KAAK;+DAAoB;IAEpC;QAAR,2DAAK,EAAE;;8DAAkB;IAEjB;QAAR,2DAAK,EAAE;;+DAAmB;IAElB;QAAR,2DAAK,EAAE;;6DAAiB;IAEhB;QAAR,2DAAK,EAAE;;0EAAsB;IAErB;QAAR,2DAAK,EAAE;kCAAS,KAAK;4DAAQ;IAErB;QAAR,2DAAK,EAAE;kCAAS,KAAK;4DAAQ;IAErB;QAAR,2DAAK,EAAE;kCAAQ,KAAK;2DAAO;IAEH;QAAxB,+DAAS,CAAC,8DAAY,CAAC;kCAAY,8DAAY;+DAAC;IAE7B;QAAnB,+DAAS,CAAC,yDAAO,CAAC;kCAAO,yDAAO;0DAAC;IArDvB,wBAAwB;QALpC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;;;SAG9B,CAAC;yCAiEiB,2DAAS;YACF,iFAAa;YACN,oGAAoB;YACxB,2DAAS;YACZ,iFAAa;YACd,0DAAW;YACR,0EAAe;YACV,sFAAoB;YAC3B,gFAAa;YACjB,oEAAgB;OAzEzB,wBAAwB,CAiMpC;IAAD,+BAAC;CAAA,CAjM6C,wHAAyB,GAiMtE;AAjMoC;;;;;;;;;;;;AChDrC,utB;;;;;;;;;;;ACAA,yBAAyB,kBAAkB,2BAA2B,iBAAiB,EAAE,+CAA+C,muB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAP;AAExE;AACzD,EAAE;AACqD;AACsB;AAE7C;AAChC,EAAE;AAC4E;AACZ;AACsB;AACa;AAEf;AACQ;AACN;AAEtB;AAEyB;AAIwC;AAKnI,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,mBAAmB,GAAG,eAAe,CAAC;AAS5C;IAuCE,mCACS,oBAA0C,EAC1C,cAA8B,EAC9B,MAAiB,EAChB,MAAqB,EACrB,eAAgC,EACjC,MAAc,EACb,oBAA0C,EAC1C,SAA2B,EAC3B,aAA4B,EAC7B,SAAkD,EACzB,UAAe;QAVxC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAW;QAChB,WAAM,GAAN,MAAM,CAAe;QACrB,oBAAe,GAAf,eAAe,CAAiB;QACjC,WAAM,GAAN,MAAM,CAAQ;QACb,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,cAAS,GAAT,SAAS,CAAkB;QAC3B,kBAAa,GAAb,aAAa,CAAe;QAC7B,cAAS,GAAT,SAAS,CAAyC;QACzB,eAAU,GAAV,UAAU,CAAK;QAxCjD,8CAA8C;QAC9C,mBAAc,GAAG,KAAK,CAAC;QAEvB,iBAAY,GAAG,IAAI,CAAC;QAEpB,aAAQ,GAAG,KAAK,CAAC;QAEjB,iBAAY,GAAG,SAAS,CAAC;QAEzB,mBAAc,GAAG,iBAAiB,CAAC;QAiCjC,gDAAgD;IAClD,CAAC;IAED,mDAAe,GAAf;IAEA,CAAC;IAED,4CAAQ,GAAR;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC;QACpE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QAC7D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;QACrD,IAAI,CAAC,OAAO,EAAE,CAAC;QAEf;;aAEK;IACP,CAAC;IAED,0CAAM,GAAN,UAAO,IAAa;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,0CAAM,GAAN;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,yCAAK,GAAL;QACE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,2CAAO,GAAP;QAAA,iBAcC;QAbC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAC3E,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC1B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK;oBAC3B,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;oBACpB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBACzC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;oBACzB,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YACD,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC;QACnC,CAAC,EACC,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;IACvF,CAAC;IAED,4CAAQ,GAAR,UAAS,WAAoB;QAA7B,iBA2GC;QA1GC,IAAI,aAAa,GAAY,KAAK,CAAC;QACnC,EAAE,CAAC,CAAC,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,IAAI,CAAC,CAAC,CAAC;YACtD,uDAAuD;YACvD,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;YACxB,IAAM,iBAAiB,GAAG,IAAI,KAAK,EAAmB,CAAC;YACvD,IAAM,UAAU,GAAG,IAAI,KAAK,EAAQ,CAAC;YACrC,qDAAqD;YACrD,GAAG,CAAC,CAAC,IAAM,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzC,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,yEAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,MAAM,GAAG,0EAAM,CAAC,SAAS,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;wBAC5B,aAAa,GAAG,IAAI,CAAC;wBACrB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,kBAAQ;4BACxD,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;4BAC7B,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC;4BACjC,sDAAsD;4BACtD,IAAI,SAAS,GAAc;gCACzB,SAAS,EAAE,KAAK,CAAC,MAAM;6BACxB;4BACD,KAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,KAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;gCAC3F,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;4BAC/B,CAAC,EACC,UAAC,KAAmB;gCAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gCACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;4BAC3C,CAAC,CAAC,CAAC;4BAEL,KAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,KAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,SAAS,CAAC,kBAAQ;gCAClF,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;4BACnC,CAAC,EACC,UAAC,KAAmB;gCAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gCACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;4BAC3C,CAAC,CAAC,CAAC;wBACP,CAAC,EACC,UAAC,KAAmB;4BAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;4BACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;wBAC3C,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9D,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACxC,CAAC;oBACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;oBACnC,aAAa,GAAG,IAAI,CAAC;oBACrB,IAAI,SAAS,GAAc;wBACzB,SAAS,EAAE,IAAI,CAAC,MAAM;qBACvB;oBACD,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;oBACpC;;yBAEK;gBACP,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEjC,qDAAQ,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,mBAAS;oBAC7C,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;wBAC7B,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;wBAC7B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;wBACxC,WAAW,CAAC,MAAM,GAAO,WAAW,CAAC,MAAM,SAAE,KAAK,EAAC;oBACrD,CAAC;oBACD,KAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBAClG,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;oBACnC,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;oBAEL,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;wBACnB,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;oBAC7B,CAAC;oBACD,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBAC7D,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC5B,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;wBACrB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;wBACvF,KAAI,CAAC,KAAK,EAAE,CAAC;oBACf,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;gBACP,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oBACnB,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;gBAC7B,CAAC;gBACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBAC7D,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;oBACrB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;oBACvF,KAAI,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CAAC,CAAC;YACP,CAAC;QACH,CAAC;IACH,CAAC;IAhLQ;QAAR,2DAAK,EAAE;kCAAY,KAAK;gEAAS;IAEzB;QAAR,2DAAK,EAAE;kCAAiB,KAAK;qEAAe;IAEsB;QAAlE,kEAAY,CAAC,mIAA4B,EAAE,EAAE,IAAI,EAAE,yDAAW,EAAE,CAAC;;kFAA6B;IArCpF,yBAAyB;QAPrC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;;;SAG/B,CAAC;QAED,0EAAK,CAAC,CAAC,wFAAkB,CAAC,CAAC;QAmDvB,wEAAM,CAAC,iEAAe,CAAC;yCAVK,sFAAoB;YAC1B,8DAAc;YACtB,2DAAS;YACR,qFAAa;YACJ,0EAAe;YACzB,sDAAM;YACS,oGAAoB;YAC/B,oEAAgB;YACZ,8FAAa;YAClB,8DAAY;OAjDrB,yBAAyB,CAmNrC;IAAD,gCAAC;CAAA;AAnNqC;;;;;;;;;;;;ACxCtC,myB;;;;;;;;;;;ACAA,yBAAyB,kBAAkB,2BAA2B,iBAAiB,EAAE,+CAA+C,2rB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAf;AAEhE;AACzD,EAAE;AACqD;AACK;AAE5B;AAChC,EAAE;AAC4E;AACZ;AACsB;AACa;AAEf;AACQ;AACN;AAEtB;AAEyB;AAIwC;AAMnI,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,mBAAmB,GAAG,eAAe,CAAC;AAS5C;IA6CE,8BACS,oBAA0C,EAC1C,cAA8B,EAC9B,MAAiB,EAChB,MAAqB,EACrB,eAAgC,EACjC,MAAc,EACb,oBAA0C,EAC1C,SAA2B,EAC3B,aAA4B;QAR7B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAW;QAChB,WAAM,GAAN,MAAM,CAAe;QACrB,oBAAe,GAAf,eAAe,CAAiB;QACjC,WAAM,GAAN,MAAM,CAAQ;QACb,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,cAAS,GAAT,SAAS,CAAkB;QAC3B,kBAAa,GAAb,aAAa,CAAe;QA5CtC,8CAA8C;QAC9C,mBAAc,GAAG,KAAK,CAAC;QAEvB,iBAAY,GAAG,IAAI,CAAC;QAEpB,aAAQ,GAAG,KAAK,CAAC;QAEjB,iBAAY,GAAG,SAAS,CAAC;QAEzB,mBAAc,GAAG,iBAAiB,CAAC;QAqCjC,gDAAgD;IAClD,CAAC;IAED,8CAAe,GAAf;IAEA,CAAC;IAED,uCAAQ,GAAR;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC;QACpE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QAC7D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;QACrD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,OAAO,EAAE,CAAC;QAEf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;QAChE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAEvE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK;YAC3B,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAM,GAAN,UAAO,IAAa;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,OAAO,IAAI,CAAC,SAAS,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,qCAAM,GAAN;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,oCAAK,GAAL;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QACjH,CAAC;IACH,CAAC;IAED,sCAAO,GAAP;QAAA,iBAcC;QAbC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAChE,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC1B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK;oBAC3B,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;oBACpB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBACzC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;oBACzB,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YACD,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC;QACnC,CAAC,EACC,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;IACvF,CAAC;IAED,uCAAQ,GAAR,UAAS,WAAoB;QAA7B,iBA2GC;QA1GC,IAAI,aAAa,GAAY,KAAK,CAAC;QACnC,EAAE,CAAC,CAAC,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,IAAI,CAAC,CAAC,CAAC;YACtD,uDAAuD;YACvD,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;YACxB,IAAM,iBAAiB,GAAG,IAAI,KAAK,EAAmB,CAAC;YACvD,IAAM,UAAU,GAAG,IAAI,KAAK,EAAQ,CAAC;YACrC,qDAAqD;YACrD,GAAG,CAAC,CAAC,IAAM,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzC,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,yEAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,MAAM,GAAG,0EAAM,CAAC,SAAS,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;wBAC5B,aAAa,GAAG,IAAI,CAAC;wBACrB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,kBAAQ;4BACxD,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;4BAC7B,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC;4BACjC,sDAAsD;4BACtD,IAAI,SAAS,GAAc;gCACzB,SAAS,EAAE,KAAK,CAAC,MAAM;6BACxB;4BACD,KAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,KAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;gCAC3F,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;4BAC/B,CAAC,EACC,UAAC,KAAmB;gCAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gCACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;4BAC3C,CAAC,CAAC,CAAC;4BAEL,KAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,KAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,SAAS,CAAC,kBAAQ;gCAClF,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;4BACnC,CAAC,EACC,UAAC,KAAmB;gCAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gCACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;4BAC3C,CAAC,CAAC,CAAC;wBACP,CAAC,EACC,UAAC,KAAmB;4BAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;4BACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;wBAC3C,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9D,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACxC,CAAC;oBACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;oBACnC,aAAa,GAAG,IAAI,CAAC;oBACrB,IAAI,SAAS,GAAc;wBACzB,SAAS,EAAE,IAAI,CAAC,MAAM;qBACvB;oBACD,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;oBACpC;;yBAEK;gBACP,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEjC,qDAAQ,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,mBAAS;oBAC7C,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;wBAC7B,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;wBAC7B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;wBACxC,WAAW,CAAC,MAAM,GAAO,WAAW,CAAC,MAAM,SAAE,KAAK,EAAC;oBACrD,CAAC;oBACD,KAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBAClG,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;oBACnC,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;oBAEL,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;wBACnB,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;oBAC7B,CAAC;oBACD,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBAC7D,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC5B,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;wBACrB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;wBACvF,KAAI,CAAC,KAAK,EAAE,CAAC;oBACf,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;gBACP,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oBACnB,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;gBAC7B,CAAC;gBACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBAC7D,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;oBACrB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;oBACvF,KAAI,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CAAC,CAAC;YACP,CAAC;QACH,CAAC;IACH,CAAC;IAtLQ;QAAR,2DAAK,EAAE;kCAAY,KAAK;2DAAS;IAEzB;QAAR,2DAAK,EAAE;kCAAiB,KAAK;gEAAe;IAEsB;QAAlE,kEAAY,CAAC,mIAA4B,EAAE,EAAE,IAAI,EAAE,yDAAW,EAAE,CAAC;;6EAA6B;IA3CpF,oBAAoB;QAPhC,+DAAS,CAAC;YACT,QAAQ,EAAE,cAAc;;;SAGzB,CAAC;QAED,0EAAK,CAAC,CAAC,wFAAkB,CAAC,CAAC;yCA+CK,sFAAoB;YAC1B,8DAAc;YACtB,2DAAS;YACR,qFAAa;YACJ,0EAAe;YACzB,sDAAM;YACS,oGAAoB;YAC/B,oEAAgB;YACZ,8FAAa;OAtD3B,oBAAoB,CA+NhC;IAAD,2BAAC;CAAA;AA/NgC;;;;;;;;;;;;ACzCjC,mY;;;;;;;;;;;ACAA,yBAAyB,kBAAkB,iBAAiB,2BAA2B,iBAAiB,EAAE,2BAA2B,kBAAkB,EAAE,yBAAyB,gBAAgB,qBAAqB,wBAAwB,EAAE,yBAAyB,oBAAoB,EAAE,cAAc,iBAAiB,2BAA2B,kBAAkB,iBAAiB,qBAAqB,uBAAuB,wBAAwB,EAAE,cAAc,oBAAoB,gBAAgB,iBAAiB,EAAE,uBAAuB,8BAA8B,EAAE,aAAa,8BAA8B,EAAE,iBAAiB,4BAA4B,EAAE,wBAAwB,4BAA4B,EAAE,+CAA+C,2uE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAzqB;AAE9B;AACzD,EAAE;AAC2E;AACjC;AACW;AACvD,EAAE;AACsF;AAEM;AAC5B;AACmC;AAEf;AACb;AACP;AACY;AAM9E,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,mBAAmB,GAAG,oBAAoB,CAAC;AASjD;IAsCE,oCAAoC;IAEpC,2CAA2C;IAE3C,kCACS,cAA8B,EAC9B,eAAgC,EAChC,oBAA0C,EACzC,oBAA0C,EAC3C,aAA4B,EAC5B,MAAc,EACb,SAA2B,EAC3B,MAAqB,EACtB,MAAiB,EACjB,SAAiD,EACxB,UAAe;QAVxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,yBAAoB,GAApB,oBAAoB,CAAsB;QACzC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC3C,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACb,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAe;QACtB,WAAM,GAAN,MAAM,CAAW;QACjB,cAAS,GAAT,SAAS,CAAwC;QACxB,eAAU,GAAV,UAAU,CAAK;QAnDjD,SAAI,GAAY;YACd,IAAI,EAAE,EAAE;YACR,WAAW,EAAE,EAAE;YACf,GAAG,EAAE,EAAE;YACP,GAAG,EAAE,KAAK;YACV,UAAU,EAAE,KAAK;SAClB,CAAC;QAQF,8CAA8C;QAC9C,mBAAc,GAAG,KAAK,CAAC;QAEvB,iBAAY,GAAG,IAAI,CAAC;QAEpB,aAAQ,GAAG,KAAK,CAAC;QAEjB,iBAAY,GAAG,eAAe,CAAC;QAE/B,mBAAc,GAAG,iBAAiB,CAAC;IA6BnC,CAAC;IAED,2CAAQ,GAAR;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;QAC/D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;IACnE,CAAC;IAED,yCAAM,GAAN,UAAO,IAAa;QAClB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,yCAAM,GAAN;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,wCAAK,GAAL;QACE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,gDAAa,GAAb,UAAc,WAAoB;QAAlC,iBAwEC;QAvEC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAChC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAC9D,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;YAClC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;YACxB,IAAM,iBAAiB,GAAG,IAAI,KAAK,EAAmB,CAAC;YACvD,GAAG,CAAC,CAAC,IAAM,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzC,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBACxD,+BAA+B;wBAC/B,mCAAmC;wBACnC,sDAAsD;wBACtD,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;wBAClE,eAAe;wBACf,IAAI,SAAS,GAAc;4BACzB,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG;yBAC7B;wBACD,KAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,KAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;4BAC3F,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;wBAC/B,CAAC,EACC,UAAC,KAAmB;4BAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;4BACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;wBAC3C,CAAC,CAAC,CAAC;oBACP,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;gBACP,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAM,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC9D,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxC,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEjC,qDAAQ,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,mBAAS;oBAC7C,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;wBAC7B,yCAAyC;wBACzC,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;wBAC7B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;wBACxC,WAAW,CAAC,MAAM,GAAO,WAAW,CAAC,MAAM,SAAE,KAAK,EAAC;oBACrD,CAAC;oBACD,uEAAuE;oBACvE,wBAAwB;oBACxB,KAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBACtG,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;oBACL,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,KAAI,CAAC,KAAK,EAAE,CAAC;oBACb,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAE7C,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CACF,CAAC;YACJ,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,EACC,UAAC,KAAmB;YAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;QAC3C,CAAC,CAAC,CAAC;IAGP,CAAC;IAlJU,wBAAwB;QAPpC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;;;SAG9B,CAAC;QAED,yEAAK,CAAC,CAAC,uFAAkB,CAAC,CAAC;QAsDvB,wEAAM,CAAC,iEAAe,CAAC;yCAVD,8DAAc;YACb,2EAAe;YACV,uFAAoB;YACnB,oGAAoB;YAC5B,6FAAa;YACpB,sDAAM;YACF,oEAAgB;YACnB,qFAAa;YACd,2DAAS;YACN,8DAAY;OApDrB,wBAAwB,CAoJpC;IAAD,+BAAC;CAAA;AApJoC;;;;;;;;;;;;AClCrC,qY;;;;;;;;;;;ACAA,yBAAyB,kBAAkB,iBAAiB,2BAA2B,iBAAiB,EAAE,2BAA2B,kBAAkB,EAAE,yBAAyB,gBAAgB,qBAAqB,wBAAwB,EAAE,yBAAyB,oBAAoB,EAAE,cAAc,iBAAiB,2BAA2B,kBAAkB,iBAAiB,qBAAqB,uBAAuB,wBAAwB,EAAE,cAAc,oBAAoB,gBAAgB,iBAAiB,EAAE,uBAAuB,8BAA8B,EAAE,aAAa,8BAA8B,EAAE,iBAAiB,4BAA4B,EAAE,wBAAwB,4BAA4B,EAAE,+CAA+C,msE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAjrB;AAEtB;AACzD,EAAE;AAC0D;AAChB;AACW;AACvD,EAAE;AACsF;AAEM;AAC5B;AACmC;AAEf;AACb;AACP;AACY;AAO9E,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,mBAAmB,GAAG,oBAAoB,CAAC;AASjD;IA4CE,oCAAoC;IAEpC,2CAA2C;IAE3C,6BACS,cAA8B,EAC9B,eAAgC,EAChC,oBAA0C,EACzC,oBAA0C,EAC3C,aAA4B,EAC5B,MAAc,EACb,SAA2B,EAC3B,MAAqB,EACtB,MAAiB;QARjB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,yBAAoB,GAApB,oBAAoB,CAAsB;QACzC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC3C,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACb,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAe;QACtB,WAAM,GAAN,MAAM,CAAW;QAvD1B,SAAI,GAAY;YACd,IAAI,EAAE,EAAE;YACR,WAAW,EAAE,EAAE;YACf,GAAG,EAAE,EAAE;YACP,GAAG,EAAE,KAAK;YACV,UAAU,EAAE,KAAK;SAClB,CAAC;QAUF,8CAA8C;QAC9C,mBAAc,GAAG,KAAK,CAAC;QAEvB,iBAAY,GAAG,IAAI,CAAC;QAEpB,aAAQ,GAAG,KAAK,CAAC;QAEjB,iBAAY,GAAG,eAAe,CAAC;QAE/B,mBAAc,GAAG,iBAAiB,CAAC;IA+BnC,CAAC;IAED,sCAAQ,GAAR;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;QAC/D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;QACjE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QAEvD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;QAChE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IACzE,CAAC;IAED,oCAAM,GAAN,UAAO,IAAa;QAClB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,oCAAM,GAAN;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,mCAAK,GAAL;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QACjH,CAAC;IACH,CAAC;IAED,2CAAa,GAAb,UAAc,WAAoB;QAAlC,iBAwEC;QAvEC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAChC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAC9D,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;YAClC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;YACxB,IAAM,iBAAiB,GAAG,IAAI,KAAK,EAAmB,CAAC;YACvD,GAAG,CAAC,CAAC,IAAM,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzC,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBACxD,+BAA+B;wBAC/B,mCAAmC;wBACnC,sDAAsD;wBACtD,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;wBAClE,eAAe;wBACf,IAAI,SAAS,GAAc;4BACzB,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG;yBAC7B;wBACD,KAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,KAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,kBAAQ;4BAC3F,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;wBAC/B,CAAC,EACC,UAAC,KAAmB;4BAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;4BACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;wBAC3C,CAAC,CAAC,CAAC;oBACP,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;gBACP,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAM,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC9D,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxC,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEjC,qDAAQ,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,mBAAS;oBAC7C,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;wBAC7B,yCAAyC;wBACzC,IAAI,KAAK,GAAG,IAAI,8DAAY,CAAC;wBAC7B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;wBACxC,WAAW,CAAC,MAAM,GAAO,WAAW,CAAC,MAAM,SAAE,KAAK,EAAC;oBACrD,CAAC;oBACD,uEAAuE;oBACvE,wBAAwB;oBACxB,KAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBACtG,CAAC,EACC,UAAC,KAAmB;wBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC3C,CAAC,CAAC,CAAC;oBACL,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,KAAI,CAAC,KAAK,EAAE,CAAC;oBACb,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAE7C,CAAC,EACC,UAAC,KAAmB;oBAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACzD,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;gBAC3C,CAAC,CACF,CAAC;YACJ,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,EACC,UAAC,KAAmB;YAClB,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;YACpE,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,UAAU,CAAC;QAC3C,CAAC,CAAC,CAAC;IAGP,CAAC;IA9JU,mBAAmB;QAP/B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;;;SAGxB,CAAC;QAED,yEAAK,CAAC,CAAC,uFAAkB,CAAC,CAAC;yCAkDD,8DAAc;YACb,2EAAe;YACV,uFAAoB;YACnB,oGAAoB;YAC5B,6FAAa;YACpB,sDAAM;YACF,oEAAgB;YACnB,qFAAa;YACd,2DAAS;OAzDf,mBAAmB,CAgK/B;IAAD,0BAAC;CAAA;AAhK+B;;;;;;;;;;;;ACnChC,q2DAAq2D,aAAa,yhBAAyhB,iBAAiB,ykBAAykB,YAAY,m6BAAm6B,2BAA2B,oYAAoY,YAAY,wnCAAwnC,YAAY,ghDAAghD,sBAAsB,wHAAwH,wBAAwB,mM;;;;;;;;;;;ACAznO,yBAAyB,kBAAkB,2BAA2B,EAAE,kBAAkB,4BAA4B,EAAE,kBAAkB,gBAAgB,EAAE,0CAA0C,iBAAiB,kCAAkC,EAAE,EAAE,oBAAoB,+BAA+B,EAAE,+CAA+C,2qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArP;AACd;AAC9F,EAAE;AAC0D;AACF;AAEH;AACvD,EAAE;AAC4E;AAC2C;AAE9C;AAIxB;AACG;AACY;AACmC;AAGL;AAEtB;AAG1E,IAAM,QAAQ,GAAG,OAAO,CAAC;AASzB;IAA0C,wCAAkC;IAgDxE,8BACW,MAAiB,EACjB,aAA4B,EAC5B,aAA4B,EAC5B,oBAA0C,EACzC,WAAwB,EACzB,eAAgC,EAChC,aAA4B,EACnC,gBAAkC;QARtC,YASI,kBAAM,gBAAgB,CAAC,SAE1B;QAVU,YAAM,GAAN,MAAM,CAAW;QACjB,mBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAa,GAAb,aAAa,CAAe;QAC5B,0BAAoB,GAApB,oBAAoB,CAAsB;QACzC,iBAAW,GAAX,WAAW,CAAa;QACzB,qBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAa,GAAb,aAAa,CAAe;QArDvC,sBAAgB,GAAa;YACzB,MAAM;YACN,aAAa;YACb,KAAK;YACL,QAAQ;YACR,QAAQ;YACR,KAAK;YACL,SAAS;SACZ,CAAC;QAQF,aAAO,GAAa,sDAAO,CAAC;QAE5B,YAAM,GAAY,oDAAM,CAAC;QAoBzB,iBAAW,GAAW,CAAC,CAAC;QAIxB,cAAQ,GAAmB,EAAE,CAAC;QAE9B,mBAAa,GAAG,IAAI,0DAAW,EAAE,CAAC;;QAY9B,uDAAuD;IAC3D,CAAC;IAED,uCAAQ,GAAR;QAAA,iBA2BC;QA1BG,IAAI,iBAAiB,GAAU;YAC3B;gBACI,IAAI,EAAE,UAAU;gBAChB,GAAG,EAAE,gBAAgB;gBACrB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,EAAE;aAClB;SACJ,CAAC;QAEF,IAAI,CAAC,uBAAuB,GAAG,iBAAiB,CAAC;QAEjD,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,sCAAsC;QACtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,UAAe;YAC5E,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC,SAAS,CAAC;YACxC,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC;YAChC,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,KAAI,CAAC,WAAW,GAAG,CAAC,IAAI,KAAI,CAAC,eAAe,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClG,KAAI,CAAC,eAAe,CAAC,iBAAiB;oBAClC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAC5E,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,kBAAQ;oBACpD,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACrD,CAAC,EACG,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;YAC3F,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8CAAe,GAAf;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,8CAAe,GAAf;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,GAAG,IAAI,wDAAS,CAAC;YAC3B,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACrC,GAAG,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACnC,WAAW,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YACnD,OAAO,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC9E,YAAY,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;YAC7F,QAAQ,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC7C,MAAM,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACzC,KAAK,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACvC,KAAK,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACtF,GAAG,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACnC,WAAW,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YACjD,aAAa,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YACvD,UAAU,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;SACpD,CAAC,CAAC;IAEP,CAAC;IAED,4CAAa,GAAb;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7B,CAAC;IACL,CAAC;IAED,uCAAQ,GAAR;QACI;;;;;;;;qBAQa;IACjB,CAAC;IAED,wCAAS,GAAT;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sGAAiB,EAAE;YAChD,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;SAC5B,CAAC,CAAC;IACP,CAAC;IAED,0CAAW,GAAX,UAAY,OAAe;QAA3B,iBAWC;QAVG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,UAAC,QAAQ;YACjD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACV,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,eAAK;oBAC/B,MAAM,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,CAAC;gBACnC,CAAC,CAAC,CAAC;YACP,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YAC3B,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAAW,GAAX,UAAY,OAAe;QACnB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;IAET,CAAC;IA9IQ;QAAR,2DAAK,EAAE;kCAAS,KAAK;wDAAQ;IAErB;QAAR,2DAAK,EAAE;kCAAc,KAAK;6DAAa;IAE/B;QAAR,2DAAK,EAAE;;8DAAsB;IAErB;QAAR,2DAAK,EAAE;kCAAS,KAAK;wDAAQ;IAErB;QAAR,2DAAK,EAAE;;yDAAiB;IAEhB;QAAR,2DAAK,EAAE;kCAAa,KAAK;4DAAW;IAEZ;QAAxB,+DAAS,CAAC,8DAAY,CAAC;kCAAY,8DAAY;2DAAC;IAE7B;QAAnB,+DAAS,CAAC,yDAAO,CAAC;kCAAO,yDAAO;sDAAC;IApCzB,oBAAoB;QAPhC,+DAAS,CAAC;YACP,QAAQ,EAAE,cAAc;;;YAGxB,eAAe,EAAE,qEAAuB,CAAC,MAAM;SAClD,CAAC;yCAmDqB,2DAAS;YACF,gFAAa;YACb,6EAAa;YACN,qGAAoB;YAC5B,0DAAW;YACR,0EAAe;YACjB,gFAAa;YACjB,oEAAgB;OAxD7B,oBAAoB,CAqKhC;IAAD,2BAAC;CAAA,CArKyC,wHAAyB,GAqKlE;AArKgC;;;;;;;;;;;;ACnCjC,21BAA21B,gBAAgB,0vBAA0vB,eAAe,0PAA0P,6BAA6B,qRAAqR,6BAA6B,+RAA+R,uCAAuC,2RAA2R,sBAAsB,mRAAmR,iBAAiB,oSAAoS,4CAA4C,+RAA+R,mDAAmD,2OAA2O,2BAA2B,+wBAA+wB,2BAA2B,2lB;;;;;;;;;;;ACA1yJ,yBAAyB,kBAAkB,2BAA2B,iBAAiB,EAAE,WAAW,gBAAgB,EAAE,qBAAqB,oBAAoB,uBAAuB,4BAA4B,EAAE,aAAa,eAAe,EAAE,wBAAwB,yBAAyB,EAAE,kBAAkB,0BAA0B,EAAE,mBAAmB,2BAA2B,EAAE,mBAAmB,2BAA2B,EAAE,oBAAoB,4BAA4B,EAAE,uBAAuB,iCAAiC,EAAE,SAAS,4BAA4B,4BAA4B,EAAE,+CAA+C,+8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAnjB;AACtC;AACC;AACzD,EAAE;AAC0D;AACF;AAEZ;AAIgC;AACuB;AAErG,EAAE;AACgE;AAEZ;AAIsC;AACG;AAE/F,IAAM,QAAQ,GAAG,QAAQ,CAAC;AAE1B,IAAM,YAAY,GAAG,QAAQ,CAAC;AAE9B,IAAM,UAAU,GAAG,+CAA+C,CAAC;AAEnE,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,IAAM,iBAAiB,GAAG,SAAS,CAAC;AAOpC;IA0CI,0CACW,cAA8B,EAC9B,aAA4B,EAC5B,MAAiB,EACjB,oBAA0C,EAC1C,eAAgC;QAJhC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAW;QACjB,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,oBAAe,GAAf,eAAe,CAAiB;QAvC3C,qBAAgB,GAAa;YACzB,MAAM;YACN,WAAW;YACX,KAAK;YACL,SAAS;YACT,SAAS;YACT,cAAc;YACd,YAAY;YACZ,OAAO;YACP,aAAa;YACb,WAAW;SAEd,CAAC;QAMF,YAAO,GAAa,sDAAO,CAAC;QAU5B,gBAAW,GAAW,CAAC,CAAC;QAIxB,aAAQ,GAAmB,EAAE,CAAC;IAS9B,CAAC;IAED,mDAAQ,GAAR;QAAA,iBAsBC;QArBG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;QACjE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QAEvD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC3C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,mEAAY,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAM,IAAI,YAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC,CAAC;QAChH,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAE7B,sCAAsC;QACtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,UAAe;YAC5E,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC,SAAS,CAAC;YACxC,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC;YAChC,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,KAAI,CAAC,WAAW,GAAG,CAAC,IAAI,KAAI,CAAC,eAAe,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClG,KAAI,CAAC,eAAe,CAAC,iBAAiB;oBAClC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAC5E,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,kBAAQ;oBACpD,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACrD,CAAC,EACG,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;YAC3F,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,0DAAe,GAAf;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,sDAAW,GAAX;QACI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;IAC1C,CAAC;IAED,gEAAqB,GAArB;QACI,IAAI,KAAK,GAAQ,EAAE,CAAC;QACpB,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,0DAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,MAAM,CAAC,IAAI,wDAAS,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,mDAAQ,GAAR;QAAA,iBAUC;QATG,IAAI,CAAC,eAAe,CAAC,WAAW,CAC5B,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EACpC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EACrC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,QAA8B;YACxF,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,CAAC,EACG,UAAC,GAAiB;YACd,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC;QAC1D,CAAC,CAAC,CAAC;IACf,CAAC;IAED,mDAAQ,GAAR;QACI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,iDAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,iDAAM,GAAN;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,mDAAQ,GAAR,UAAS,EAAU;QACf,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAK;gBACzB,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IAED,wDAAa,GAAb,UAAc,EAAU;QACpB,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAU;gBACnC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC;YAChC,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IAED,mDAAQ,GAAR,UAAS,EAAU;QACf,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAK;gBACzB,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IAED,6DAAkB,GAAlB;QAAA,iBAaC;QAZG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uGAAwB,EAAE;YACvD,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE;gBACF,oBAAoB;gBACpB,YAAY,EAAE,IAAI,CAAC,YAAY;aAElC;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC;YAClC,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,2DAAgB,GAAhB,UAAkB,SAAiB;QAAnC,iBAaC;QAZG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2GAAyB,EAAE;YACxD,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE;gBACF,oBAAoB;gBACpB,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,SAAS,EAAE,SAAS;aACvB;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC;YAClC,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAzJwB;QAAxB,+DAAS,CAAC,8DAAY,CAAC;kCAAY,8DAAY;uEAAC;IAE7B;QAAnB,+DAAS,CAAC,yDAAO,CAAC;kCAAO,yDAAO;kEAAC;IAEzB;QAAR,2DAAK,EAAE;;0EAAsB;IAhCrB,gCAAgC;QAL5C,+DAAS,CAAC;YACP,QAAQ,EAAE,2BAA2B;;;SAGxC,CAAC;yCA4C6B,8DAAc;YACf,6EAAa;YACpB,2DAAS;YACK,oGAAoB;YACzB,0EAAe;OA/ClC,gCAAgC,CAsL5C;IAAD,uCAAC;CAAA;AAtL4C;;;;;;;;;;;;ACvC7C,i0BAAi0B,YAAY,qXAAqX,iBAAiB,iWAAiW,aAAa,s0BAAs0B,gBAAgB,iuBAAiuB,eAAe,qRAAqR,6BAA6B,qRAAqR,6BAA6B,+RAA+R,uCAAuC,2RAA2R,sBAAsB,mRAAmR,iBAAiB,oSAAoS,4CAA4C,+RAA+R,mDAAmD,6OAA6O,2BAA2B,0xBAA0xB,2BAA2B,6pB;;;;;;;;;;;ACAr2M,yBAAyB,kBAAkB,2BAA2B,iBAAiB,EAAE,WAAW,gBAAgB,EAAE,qBAAqB,oBAAoB,uBAAuB,4BAA4B,EAAE,aAAa,eAAe,EAAE,wBAAwB,yBAAyB,EAAE,kBAAkB,0BAA0B,EAAE,mBAAmB,2BAA2B,EAAE,mBAAmB,2BAA2B,EAAE,oBAAoB,4BAA4B,EAAE,uBAAuB,iCAAiC,EAAE,SAAS,4BAA4B,4BAA4B,EAAE,+CAA+C,24D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1jB;AAC/B;AACC;AACzD,EAAE;AACwD;AAEZ;AAE9C,EAAE;AAC4E;AACuB;AAErG,EAAE;AACgE;AAEZ;AAKtD,IAAM,QAAQ,GAAG,OAAO,CAAC;AAOzB;IAsCI,gCACW,cAA8B,EAC9B,aAA4B,EAC5B,oBAA0C,EAC1C,eAAgC;QAHhC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,oBAAe,GAAf,eAAe,CAAiB;QAlC3C,qBAAgB,GAAa;YACzB,MAAM;YACN,WAAW;YACX,KAAK;YACL,SAAS;YACT,SAAS;YACT,cAAc;YACd,YAAY;YACZ,OAAO;YACP,aAAa;YACb,WAAW;YACX,SAAS;SACZ,CAAC;QAMF,YAAO,GAAa,sDAAO,CAAC;QAM5B,gBAAW,GAAW,CAAC,CAAC;QAIxB,aAAQ,GAAmB,EAAE,CAAC;IAQ9B,CAAC;IAED,yCAAQ,GAAR;QAAA,iBAsBC;QArBG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;QACjE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QAEvD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC3C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,mEAAY,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAM,IAAI,YAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC,CAAC;QAChH,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAE7B,sCAAsC;QACtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,UAAe;YAC5E,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC,SAAS,CAAC;YACxC,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC;YAChC,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,KAAI,CAAC,WAAW,GAAG,CAAC,IAAI,KAAI,CAAC,eAAe,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClG,KAAI,CAAC,eAAe,CAAC,iBAAiB;oBAClC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAC5E,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,kBAAQ;oBACpD,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACrD,CAAC,EACG,UAAC,KAAmB,IAAK,YAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAxD,CAAwD,CAAC,CAAC;YAC3F,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,gDAAe,GAAf;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,4CAAW,GAAX;QACI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;IAC1C,CAAC;IAED,sDAAqB,GAArB;QACI,IAAI,KAAK,GAAQ,EAAE,CAAC;QACpB,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC;QACnC,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC;QACpC,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC;QACvC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC;QAC5C,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC;QACxC,MAAM,CAAC,IAAI,wDAAS,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,yCAAQ,GAAR;QAAA,iBAUC;QATG,IAAI,CAAC,eAAe,CAAC,WAAW,CAC5B,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EACpC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EACrC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,QAA8B;YACxF,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,CAAC,EACG,UAAC,GAAiB;YACd,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC;QAC1D,CAAC,CAAC,CAAC;IACf,CAAC;IAED,yCAAQ,GAAR;QACI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,uCAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,uCAAM,GAAN;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,yCAAQ,GAAR,UAAS,EAAU;QACf,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAK;gBACzB,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IAED,8CAAa,GAAb,UAAc,EAAU;QACpB,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAU;gBACnC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC;YAChC,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IAED,yCAAQ,GAAR,UAAS,EAAU;QACf,IAAI,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAK;gBACzB,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC,IAAI,CAAC;QACZ,CAAC;QACD,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACX,CAAC;IAEL,CAAC;IA1HwB;QAAxB,+DAAS,CAAC,8DAAY,CAAC;kCAAY,8DAAY;6DAAC;IAE7B;QAAnB,+DAAS,CAAC,yDAAO,CAAC;kCAAO,yDAAO;wDAAC;IA9BzB,sBAAsB;QALlC,+DAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;;;SAG7B,CAAC;yCAwC6B,8DAAc;YACf,6EAAa;YACN,oGAAoB;YACzB,0EAAe;OA1ClC,sBAAsB,CAuJlC;IAAD,6BAAC;CAAA;AAvJkC;;;;;;;;;;;;;AC3BnC;AAAA;AAAA;AAAA;IAAA;IAIA,CAAC;IAAD,YAAC;AAAD,CAAC;;AAAA,CAAC;AAEK,IAAM,MAAM,GAAY;IAC3B,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;IACzC,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;IACvC,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;IACzC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE;IAC3C,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE;IACrC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE;IAC3C,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;IACzC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE;CAC9C,CAAC;;;;;;;;;;;;;ACfF;AAAA;AAAA;AAAA;IAAA;IAGA,CAAC;IAAD,aAAC;AAAD,CAAC;;AAAA,CAAC;AAEK,IAAM,OAAO,GAAa;IAC7B,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE;IACzB,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE;IAC3B,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE;CAChC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTuC;AACc;AACvD,EAAE;AAC4F;AACN;AACH;AACS;AAC9F,EAAE;AACqF;AACH;AACH;AACkB;AACM;AACtB;AACa;AAChB;AAEhF,IAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,0GAAsB;QACjC,OAAO,EAAE;YACL,MAAM,EAAE,4FAAoB;YAC5B,MAAM,EAAE,+FAAoB;YAC5B,UAAU,EAAE,4GAAwB;YACpC,WAAW,EAAE,8GAAyB;YACtC,MAAM,EAAE,+FAAoB;SAC/B;KACJ;IACD;QACI,IAAI,EAAE,QAAQ;QACd,SAAS,EAAE,iGAAmB;QAC9B,OAAO,EAAE;YACL,MAAM,EAAE,4FAAoB;YAC5B,MAAM,EAAE,+FAAoB;YAC5B,UAAU,EAAE,4GAAwB;YACpC,WAAW,EAAE,8GAAyB;YACtC,MAAM,EAAE,+FAAoB;SAE/B;QACD,IAAI,EAAE,EAAE,iBAAiB,EAAE,CAAC,KAAK,CAAC,EAAE;KACvC;IACD;QACI,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,oGAAoB;QAC/B,kCAAkC;QAClC,OAAO,EAAE;YACL,MAAM,EAAE,4FAAoB;YAC5B,SAAS,EAAE,sFAAgB;YAC3B,MAAM,EAAE,+FAAoB;YAC5B,WAAW,EAAE,8GAAyB;YACtC,gBAAgB,EAAE,qHAA8B;YAChD,UAAU,EAAE,4GAAwB;YACpC,MAAM,EAAE,+FAAoB;YAC5B,KAAK,EAAE,4FAAmB;SAC7B;QACD,IAAI,EAAE,EAAE,iBAAiB,EAAE,CAAC,QAAQ,CAAC,EAAE;KAC1C;IACD;QACI,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,0GAAsB;QACjC,kCAAkC;QAClC,OAAO,EAAE;YACL,MAAM,EAAE,4FAAoB;YAC5B,SAAS,EAAE,sFAAgB;SAC9B;QACD,IAAI,EAAE,EAAE,iBAAiB,EAAE,CAAC,QAAQ,CAAC,EAAE;KAC1C;CACJ,CAAC;AAMF;IAAA;IAAuC,CAAC;IAA3B,uBAAuB;QAJnC,8DAAQ,CAAC;YACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SAC1B,CAAC;OACW,uBAAuB,CAAI;IAAD,8BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EK;AACM;AACmB;AAClE,EAAE;AACsD;AACc;AACX;AACgB;AACpB;AACJ;AACQ;AACJ;AACJ;AACU;AACA;AACN;AAI5B;AAE2B;AACtD,EAAE;AACyG;AACD;AACX;AACT;AACtF,EAAE;AAC4F;AACgC;AACvD;AACiB;AACH;AACiB;AACd;AACiB;AACH;AACR;AAE/B;AAC2B;AAkE1F;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAhE5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,kEAAmB;gBACnB,qEAAgB;gBAChB,uEAAqB;gBACrB,mFAAoB;gBACpB,wEAAe;gBACf,qEAAa;gBACb,mEAAiB;gBACjB,qEAAmB;gBACnB,iEAAe;gBACf,oEAAkB;gBAClB,oEAAa;gBACb,gEAAc;gBACd,qEAAmB;gBACnB,oEAAkB;gBAClB,gEAAc;gBACd,wEAAe;gBACf,sEAAoB;gBACpB,oEAAa;gBACb,gEAAc;gBACd,2EAAgB;gBAChB,2EAAgB;gBAChB,oEAAe;gBACf,oFAAuB;gBACvB,EAAE;gBACF,gHAAsB;gBACtB,qGAAmB;gBACnB,iHAA0B;gBAC1B,4FAAgB;gBAChB,2EAAc;aAEf;YACD,YAAY,EAAE;gBACZ,2GAAsB;gBACtB,qGAAoB;gBACpB,mHAAwB;gBACxB,sHAAyB;gBACzB,kGAAmB;gBACnB,mHAAwB;gBACxB,qGAAoB;gBACpB,2GAAsB;gBACtB,2IAAgC;aAEjC;YACD,OAAO,EAAE;gBACP,2GAAsB;gBACtB,qGAAoB;gBACpB,mHAAwB;gBACxB,sHAAyB;gBACzB,kGAAmB;gBACnB,mHAAwB;gBACxB,qGAAoB;gBACpB,2GAAsB;gBACtB,2IAAgC;aACjC;YACD,eAAe,EAAE;gBACf,sGAAiB;gBACjB,mHAAwB;gBACxB,sHAAyB;aAC1B;SACF,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1Gc;AAE3C,EAAE;AAC+C;AACX;AACiB;AACvD,EAAE;AACgG;AACjC;AACjE,wCAAwC;AAExC,IAAM,QAAQ,GAAG,OAAO,CAAC;AAKzB;IACI,wCACY,oBAA0C,EAC1C,SAA2B,EAC3B,oBAA0C;QAF1C,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,cAAS,GAAT,SAAS,CAAkB;QAC3B,yBAAoB,GAApB,oBAAoB,CAAsB;QAClD,gDAAgD;IACpD,CAAC;IAED,gDAAO,GAAP,UAAQ,KAA6B;QAArC,iBAQC;QAPG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAC/E,0DAAG,CAAC,gBAAM,IAAI,aAAM,CAAC,IAAI,EAAX,CAAW,CAAC,EAC1B,iEAAU,CAAC,UAAC,GAAG;YACX,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YACvD,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC;QACR,CAAC;IACL,CAAC;IAhBQ,8BAA8B;QAH1C,gEAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;yCAGoC,6EAAoB;YAC/B,oEAAgB;YACL,oGAAoB;OAJ7C,8BAA8B,CAkB1C;IAAD,qCAAC;CAAA;AAlB0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AAC3C,EAAE;AACqD;AAClB;AACrC,EAAE;AACyE;AAEgC;AAEpG,IAAM,SAAS,GAAG,KAAK,CAAC;AAK/B;IAgBI,8BACY,aAA4B,EAC5B,IAA8B;QAD9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,SAAI,GAAJ,IAAI,CAA0B;QAd1C,mBAAc,GAAQ,EAAE,CAAC;QAEzB,uBAAkB,GAAW,MAAM,CAAC;QAEpC,0BAAqB,GAAW,KAAK,CAAC;QAEtC,sBAAiB,GAAW,CAAC,CAAC;QAE9B,qBAAgB,GAAW,EAAE,CAAC;QAEvB,uBAAkB,GAAG,IAAI,oDAAe,CAA6B,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;QAKpG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC;IACjF,CAAC;IAED,gDAAiB,GAAjB,UAAkB,MAAW,EAAE,UAAkB,EAAE,aAAqB,EAAE,SAAiB,EAAE,QAAgB;QACzG,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC;QAC3C,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;QACnC,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC;QAEjC,IAAI,WAAW,GAAG,IAAI,CAAC,iBAAiB,CACpC,MAAM,EACN,UAAU,EAAE,aAAa,EACzB,SAAS,EAAE,QAAQ,CAAC,CAAC;QACzB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAA6B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC;IACrF,CAAC;IAED,mDAAoB,GAApB;QACI,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CACzB,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,EACnD,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACvD,CAAC;IAED,+CAAgB,GAAhB,UAAiB,EAAU,EAAE,IAAkB;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAe,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,oDAAqB,GAArB,UAAsB,EAAU,EAAE,IAAe;QAC7C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAM,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7F,CAAC;IAED,kDAAmB,GAAnB,UAAoB,EAAU,EAAE,IAAoB;QAChD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAe,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,8CAAe,GAAf,UAAgB,EAAU;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAwB,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;IAC7E,CAAC;IAED,kDAAmB,GAAnB,UAAoB,EAAU;QAC1B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAwB,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,UAAU,CAAC,CAAC;IACpF,CAAC;IAED,gDAAiB,GAAjB,UAAkB,IAAkB;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAe,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IACjG,CAAC;IAED,iDAAkB,GAAlB,UAAmB,EAAU,EAAE,OAAe;QAC1C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAM,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,UAAU,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC;IACrF,CAAC;IAED,gDAAiB,GAAjB,UAAkB,MAAY,EAAE,UAAmB,EAAE,aAAsB,EAAE,SAAkB,EAAE,QAAiB;QAC9G,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACtC,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,SAAO,MAAM,CAAC,GAAK,CAAC;QACvC,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACxC,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,UAAQ,MAAM,CAAC,IAAM,CAAC;QACzC,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1C,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,WAAS,MAAM,CAAC,KAAO,CAAC;QAC3C,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACpD,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,gBAAc,MAAM,CAAC,UAAY,CAAC;QACrD,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAChD,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,cAAY,MAAM,CAAC,QAAU,CAAC;QACjD,CAAC;QAED,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACb,IAAI,QAAQ,GAAG,EAAE,CAAC;YAElB,EAAE,CAAC,CAAC,aAAa,KAAK,MAAM,CAAC,CAAC,CAAC;gBAC3B,QAAQ,GAAG,GAAG,CAAC;YACnB,CAAC;YACD,QAAQ,IAAI,UAAU,CAAC;YACvB,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,cAAY,QAAU,CAAC;QAC1C,CAAC;QAED,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC;YAC1B,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,YAAU,SAAS,GAAG,QAAU,CAAC;QACpD,CAAC;QAED,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC;YACzB,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;YAClD,WAAW,IAAI,WAAS,QAAU,CAAC;QACvC,CAAC;QAED,MAAM,CAAC,WAAW,CAAC;IACvB,CAAC;IAED,mDAAoB,GAApB;QACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAsB,IAAI,CAAC,WAAW,CAAC;aACtD,IAAI,CAAC,0DAAG,CAAC,kBAAQ;YACd,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC;IAjIQ,oBAAoB;QAHhC,gEAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;yCAkB6B,6EAAa;YACtB,6GAAwB;OAlBjC,oBAAoB,CAmIhC;IAAD,2BAAC;CAAA;AAnIgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdU;AAE3C,EAAE;AAC+C;AACX;AACiB;AACvD,EAAE;AACgG;AACjD;AACjD,wCAAwC;AAExC,IAAM,QAAQ,GAAG,OAAO,CAAC;AAKzB;IACI,8BACY,aAA4B,EAC5B,SAA2B,EAC3B,oBAA0C;QAF1C,kBAAa,GAAb,aAAa,CAAe;QAC5B,cAAS,GAAT,SAAS,CAAkB;QAC3B,yBAAoB,GAApB,oBAAoB,CAAsB;QAClD,gDAAgD;IACpD,CAAC;IAED,sCAAO,GAAP,UAAQ,KAA6B;QAArC,iBAOC;QANG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CACzC,0DAAG,CAAC,gBAAM,IAAI,aAAM,EAAN,CAAM,CAAC,EACrB,iEAAU,CAAC,UAAC,GAAG;YACX,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YACvD,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC;IAfQ,oBAAoB;QAHhC,gEAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;yCAG6B,6DAAa;YACjB,oEAAgB;YACL,oGAAoB;OAJ7C,oBAAoB,CAgBhC;IAAD,2BAAC;CAAA;AAhBgC","file":"default~ms-collections-ms-collections-module~ms-releases-ms-releases-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtcmVsZWFzZXMvY29tcG9uZW50cy9kZWxldGUtcmVsZWFzZS9kZWxldGUtcmVsZWFzZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\n\n\n//import { setTranslations } from '../../../../../ngx-translate';\n//import { TRANSLATIONS } from './i18n/delete-user.component.translations';\nimport { Release } from '../../models/releases';\nimport { ReleasesService } from '../../services/releases.service';\n\nconst titleKey = 'Delete';\n\nconst deleteBtnKey = 'Delete';\n\nconst messageKey = 'Are you sure you want to delete this Release?<br><br> Note that all linked offers will be deleted too.<br><br>';\n\nconst errorKey = 'Error';\n\nconst deletedMessageKey = 'Deleted';\n\n@Component({\n  selector: 'delete-release',\n  templateUrl: './delete-release.component.html',\n  styleUrls: ['./delete-release.component.scss']\n})\nexport class DeleteReleaseComponent implements AfterViewInit, OnInit {\n\n  data: Release;\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  releaseId: string;\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    private dialog: MatDialog,\n    public releasesService: ReleasesService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngAfterViewInit() {\n    this.getRelease();\n  }\n\n  ngOnInit() {\n    this.releaseId = this.activatedRoute.snapshot.data.releaseId;\n  }\n\n  getRelease() {\n    this.releasesService.getRelease(this.releaseId).subscribe(response => {\n      this.data = response.data;\n      this.confirmDeleteRelease();\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n    )\n  }\n\n  close(){\n    this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, {relativeTo: this.activatedRoute});\n  }\n\n  confirmDeleteRelease() {\n    this.modalRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        titleKey: titleKey,\n        okBtnKey: deleteBtnKey,\n        messageKey: messageKey,\n        messageParam: { param: this.data.name }\n      }\n    });\n   \n    this.modalRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.deleteRelease();\n      } else {\n        this.close();\n      }\n    });\n  }\n\n  deleteRelease(): void {\n    this.releasesService.deleteRelease(this.data.id).subscribe(response => {\n      this.releasesService.reloadReleases().subscribe(response => {\n        this.releasesService.releasesList.next(response);\n        this.toastr.success(deletedMessageKey);\n        this.close();\n      },\n        (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.close();\n      }\n    )\n  }\n}\n\n","module.exports = \"<form class=\\\"flex-grow-1 min-height-0 display-flex flex-direction-column\\\" [askBeforeRefresh]=\\\"formGroup.dirty\\\" [formGroup]=\\\"formGroup\\\"\\r\\n  novalidate role=\\\"form\\\" (ngSubmit)=\\\"submitClicked()\\\" autocomplete=\\\"off\\\" inputFocus>\\r\\n\\r\\n  <div fxLayout=\\\"row\\\" class=\\\"max-width-75pct customized justify-content-space-between flex-grow-0 padding-bottom-25px\\\">\\r\\n    <span class=\\\"flex-grow-1\\\"></span>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column\\\">\\r\\n\\r\\n    <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n      <div fxFlex fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\r\\n\\r\\n        <div [fxFlex]=\\\"50\\\" fxFlex fxLayout=\\\"column\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n            <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-35px\\\">\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Release Name</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>SKU</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"sku\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Gender</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"gender\\\">\\r\\n\\r\\n                  <mat-option>...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let gender of genders\\\" [value]=\\\"gender.id\\\">\\r\\n\\r\\n                    {{gender.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <div>\\r\\n\\r\\n                <mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"hot\\\">Hot</mat-slide-toggle>\\r\\n\\r\\n              </div>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Collection</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"collectionId\\\">\\r\\n\\r\\n                  <mat-option>...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\r\\n\\r\\n                    {{collection.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                  <mat-label>Style</mat-label>\\r\\n\\r\\n                  <mat-select placeholder=\\\"Select\\\" formControlName=\\\"styleId\\\" required>\\r\\n  \\r\\n                    <mat-option (click)=\\\"selectBrand('')\\\">...</mat-option>\\r\\n  \\r\\n                    <mat-option *ngFor=\\\"let style of styles\\\" [value]=\\\"style.id\\\" (click)=\\\"selectBrand(style.brand)\\\">\\r\\n  \\r\\n                      {{style.name}}\\r\\n  \\r\\n                    </mat-option>\\r\\n  \\r\\n                  </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-25px\\\">\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <input matInput [matDatepicker]=\\\"picker\\\" placeholder=\\\"Release Date\\\" formControlName=\\\"releaseDate\\\">\\r\\n\\r\\n                <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n\\r\\n                <mat-datepicker #picker></mat-datepicker>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <!--div>\\r\\n\\r\\n            <mat-checkbox class=\\\"padding-bottom-15px\\\" value=\\\"primary\\\" matTooltip=\\\"{{ 'Upcomming' | translate }}\\\">Upcoming</mat-checkbox>\\r\\n\\r\\n          </div-->\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Colors</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"color\\\" multiple>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let color of colors\\\" [value]=\\\"color.id\\\">\\r\\n\\r\\n                    {{color.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\r\\n\\r\\n                <mat-label>Supplier Color</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"supplierColor\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\" *ngIf=\\\"!formGroup.get('customized').value\\\">\\r\\n\\r\\n                <mat-label>Price</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"number\\\" formControlName=\\\"price\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Brand</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" matNativeControl [formControl]=\\\"selectedBrand\\\">\\r\\n\\r\\n                  <mat-option (click)=\\\"selectStyle('')\\\">...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\" (click)=\\\"selectStyle(brand.id)\\\">\\r\\n\\r\\n                    {{brand.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <!--mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"children\\\">Children</mat-slide-toggle-->\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div>\\r\\n\\r\\n            <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n              <mat-label>Description</mat-label>\\r\\n\\r\\n              <textarea matInput formControlName=\\\"description\\\"></textarea>\\r\\n\\r\\n            </mat-form-field>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-25px\\\">\\r\\n\\r\\n          <div>\\r\\n\\r\\n            <mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"customized\\\">Customized</mat-slide-toggle>\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div [fxFlex]=\\\"50\\\" class=\\\"border max-width-480px margin-bottom-20px\\\">\\r\\n\\r\\n            <div class=\\\"display-flex justify-content-center\\\">\\r\\n\\r\\n              <h3 class=\\\"margin-buttom-0px\\\">Main Image</h3>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <images-card class=\\\"flex-grow-1 padding-10px\\\" formControlName=\\\"faces\\\" name=\\\"faces\\\" (deletedFace)=\\\"onDeleteFace($event)\\\" [principal]=\\\"principal\\\"></images-card>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <!--div class=\\\"align-items-center padding-top-25px padding-bottom-25px\\\" [fxFlex]=\\\"100\\\"\\r\\n        fxLayout=\\\"column\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n        <button mat-stroked-button type=\\\"button\\\" class=\\\"max-width-480px\\\" (click)=\\\"MakeANewOffer()\\\">Add an offer to this Release</button>\\r\\n\\r\\n      </div-->\\r\\n\\r\\n      <div class=\\\"mb-20\\\" fxFlex fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n        <offers-release-table [releaseId]=\\\"releaseId\\\" [offerId]=\\\"offerId\\\" [release]=\\\"data\\\" [collections]=\\\"collections\\\" [customized]=\\\"formGroup.get('customized').value\\\"\\r\\n          [shops]=\\\"shops\\\"></offers-release-table>\\r\\n\\r\\n      </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n    <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save' | translate }}</button>\\r\\n\\r\\n    <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"cancelClicked()\\\">{{ 'Cancel' | translate }}</button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column; }\\n\\n@media screen and (max-width: 959px) {\\n  .customized {\\n    max-width: 480px !important; } }\\n\\n.height-34px {\\n  height: 34px !important; }\\n\\n.width-100pc {\\n  width: 100%; }\\n\\nmat-form-field {\\n  max-width: 100% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL2VkaXQtcmVsZWFzZS1mb3JtL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLXJlbGVhc2VzXFxjb21wb25lbnRzXFxlZGl0LXJlbGVhc2UtZm9ybVxcZWRpdC1yZWxlYXNlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCLEVBQ3ZCOztBQUVEO0VBQ0U7SUFDSSw0QkFBMkIsRUFDOUIsRUFBQTs7QUFHSDtFQUNFLHdCQUF1QixFQUN4Qjs7QUFFRDtFQUNFLFlBQVcsRUFDWjs7QUFFRDtFQUNFLDJCQUEwQixFQUMzQiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtcmVsZWFzZXMvY29tcG9uZW50cy9lZGl0LXJlbGVhc2UtZm9ybS9lZGl0LXJlbGVhc2UtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1OXB4KSB7XHJcbiAgLmN1c3RvbWl6ZWQge1xyXG4gICAgICBtYXgtd2lkdGg6IDQ4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG4uaGVpZ2h0LTM0cHgge1xyXG4gIGhlaWdodDogMzRweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ud2lkdGgtMTAwcGMge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5tYXQtZm9ybS1maWVsZCB7XHJcbiAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbiJdfQ== */\"","import {\r\n  AfterViewInit,\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\n//\r\nimport { MatPaginator, MatSort } from '@angular/material';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subscription } from 'rxjs';\r\n//\r\nimport { EditReleaseModel, Release, ReleaseImage } from '../../models/releases';\r\nimport { ReleasesService } from '../../services/releases.service';\r\nimport { ReleasesImgesService } from '../../services/releases-images.service';\r\nimport { BaseReactiveFormComponent } from '../../../../../ui/components/base-reactive-form/base-reactive-form-component';\r\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\r\nimport { Face, State } from '../../../../../ui/modules/images-card/models/face';\r\n//import { setTranslations } from 'ngx-translate';\r\n//import { TRANSLATIONS } from './i18n/edit-case-form.component.translations';\r\nimport { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { ConfirmDialogData } from '../../../../../ui/modules/confirm-dialog/models/confirm-dialog-data';\r\nimport { PropertyCase } from '../../models/property-case';\r\nimport { ImageCardEditActionDirective } from '../../../../../ui/modules/images-card/directives/images-card-edit-actions.directive';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\nimport { COLORS, Color } from '../../models/color';\r\nimport { GENDERS, Gender } from '../../models/gender';\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\nimport { NewOfferComponent } from '../../../ms-offers/components/new-offer/new-offer.component';\r\nimport { OffersService } from \"../../../ms-offers/services/offers.service\";\r\nimport { Offer, OffersListResponse } from \"../../../ms-offers/models/offer\";\r\nimport { Brand } from '../../../ms-brands/models/brand';\r\nimport { BrandsService } from '../../../ms-brands/services/brands.service';\r\nimport { Shop } from '../../../ms-shops/models/shops';\r\nimport { Style } from '../../../ms-style/models/style';\r\nimport { StylesService } from '../../../ms-style/services/styles.service';\r\n\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Component({\r\n  selector: 'edit-release-form',\r\n  templateUrl: './edit-release-form.component.html',\r\n  styleUrls: ['./edit-release-form.component.scss'],\r\n})\r\nexport class EditReleaseFormComponent extends BaseReactiveFormComponent<Release> implements AfterViewInit, OnInit {\r\n\r\n  colors: Color[] = COLORS;\r\n\r\n  displayedColumns: string[] = [\r\n    'SKU',\r\n    'COLLECTION',\r\n    'COLOR',\r\n    'SHOP',\r\n    'STATUS',\r\n    'SHIPING',\r\n    'UPDATED',\r\n    'ACTION'\r\n  ];\r\n\r\n  faces: FormControl;\r\n\r\n  filter: FormGroup;\r\n\r\n  genders: Gender[] = GENDERS;\r\n\r\n  originalData: Release;\r\n\r\n  modalRef: MatDialogRef<ConfirmDialogComponent | NewOfferComponent>;\r\n\r\n  principal: Face;\r\n\r\n  @Input() collections: Array<Collection>;\r\n\r\n  @Input() caseProperties: Array<PropertyCase> = [];\r\n\r\n  @Input() faceList: Array<Face> = [];\r\n\r\n  @Input() imageCardEditAction: ImageCardEditActionDirective;\r\n\r\n  @Input() imageList: Array<ReleaseImage> = [];\r\n\r\n  @Input() overview = false;\r\n\r\n  @Input() releaseId: string;\r\n\r\n  @Input() offerId: string;\r\n\r\n  @Input() uploadingImagesState;\r\n\r\n  @Input() brands: Array<Brand>;\r\n\r\n  @Input() styles: Array<Style>;\r\n\r\n  @Input() shops: Array<Shop>;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  offersList: Subscription;\r\n\r\n  offers: Array<Offer> = [];\r\n\r\n  totalLength: number = 0;\r\n\r\n  selectedBrand = new FormControl();\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    public brandsService: BrandsService,\r\n    public errorHandlingService: ErrorHandlingService,\r\n    public matDialogService: MatDialog,\r\n    public offersService: OffersService,\r\n    private formBuilder: FormBuilder,\r\n    public releasesService: ReleasesService,\r\n    public releasesImgesService: ReleasesImgesService,\r\n    public stylesService: StylesService,\r\n    translateService: TranslateService) {\r\n    super(translateService);\r\n    //setTranslations(this.translateService, TRANSLATIONS);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.validationErrorMessages = [\r\n      {\r\n        type: 'required',\r\n        key: 'Required Field',\r\n        params: null,\r\n        translation: ''\r\n      }\r\n    ];\r\n\r\n    this.imageList.forEach((image) => {\r\n      if (image.imgUrl === this.data.mainImage) {\r\n        this.principal = image;\r\n      }\r\n    });\r\n\r\n    this.createFormGroup();\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  createFormGroup() {\r\n    this.data.faces = this.imageList;\r\n    this.faces = this.formBuilder.control(this.imageList);\r\n    this.formGroup = this.formBuilder.group({\r\n      faces: this.faces,\r\n      name: new FormControl(this.data.name, [Validators.required]),\r\n      sku: new FormControl(this.data.sku),\r\n      description: new FormControl(this.data.description),\r\n      styleId: new FormControl(this.data.styleId),\r\n      collectionId: new FormControl(this.data.collectionId),\r\n      children: new FormControl(this.data.children),\r\n      gender: new FormControl(this.data.gender),\r\n      price: new FormControl(this.data.price),\r\n      color: new FormControl(this.data.color ? this.data.color.split(',') : this.data.color),\r\n      hot: new FormControl(this.data.hot),\r\n      releaseDate: new FormControl(this.data.releaseDate),\r\n      supplierColor: new FormControl(this.data.supplierColor),\r\n      upcoming: new FormControl(this.data.upcoming),\r\n      customized: new FormControl(this.data.customized),\r\n    });\r\n  }\r\n\r\n  onDeleteFace(face: Face) {\r\n    if (face.id) {\r\n      this.releasesImgesService.deleteReleaseImage(this.data.id, face.id).subscribe(response => {\r\n      },\r\n        (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n\r\n    }\r\n  }\r\n\r\n  submitClicked() {\r\n    if (this.formGroup.valid) {\r\n      let id = this.data.id;\r\n      this.data = this.formGroup.value;\r\n      this.data.id = id;\r\n      try {\r\n        this.data.color = this.data.color.join();\r\n      }\r\n      catch{ }\r\n      this.accept.emit(this.data);\r\n    } else {\r\n      this.triggerValidation();\r\n    }\r\n  }\r\n\r\n  MakeANewOffer() {\r\n    this.modalRef = this.dialog.open(NewOfferComponent, {\r\n      height: '90%',\r\n      width: '90%',\r\n      panelClass: 'no-padding-dialog',\r\n      data: {\r\n        brands: this.brands,\r\n        shops: this.shops,\r\n        collections: this.collections,\r\n        releaseId: this.releaseId,\r\n        customized: this.formGroup.get('customized').value,\r\n      }\r\n    });\r\n  }\r\n\r\n  getShop(id: string) {\r\n    try {\r\n      return this.shops.find(shop => {\r\n        return shop.id === id;\r\n      }).name;\r\n    }\r\n    catch (err) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  selectStyle(brandId: string) {\r\n    this.stylesService.getAllStyles().subscribe((response) => {\r\n      if (brandId) {\r\n        this.styles = response.filter(style => {\r\n          return style.brand === brandId;\r\n        });\r\n      }\r\n      else {\r\n        this.styles = response;\r\n      }\r\n    });\r\n  }\r\n\r\n  selectBrand(brandId: string) {\r\n    if (brandId) {\r\n      this.selectedBrand.setValue(brandId);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","module.exports = \"<h1>EDIT RELEASE</h1>\\n<edit-release-form class=\\\"flex-grow-1\\\" *ngIf=\\\"data\\\"\\n                [collections]=\\\"collections\\\"\\n                [caseProperties]=\\\"caseProperties\\\"\\n                [data]=\\\"data\\\"\\n                [releaseId]=\\\"releaseId\\\"\\n                [imageList]=\\\"imageList\\\"\\n                [brands]=\\\"brands\\\"\\n                [shops]=\\\"shops\\\"                \\n                [overview]=\\\"false\\\"\\n                (accept)=\\\"submit($event)\\\"\\n                (cancel)=\\\"cancel()\\\"\\n                [validationErrors]=\\\"validationErrors\\\"\\n                [imageCardEditAction]=\\\"imageCardEditActionTemplate\\\"\\n                (dataChange)=\\\"dataChanged()\\\">\\n</edit-release-form>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL2VkaXQtcmVsZWFzZS1tb2RhbC9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1yZWxlYXNlc1xcY29tcG9uZW50c1xcZWRpdC1yZWxlYXNlLW1vZGFsXFxlZGl0LXJlbGVhc2UtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDYiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtcmVsZWFzZXMvY29tcG9uZW50cy9lZGl0LXJlbGVhc2UtbW9kYWwvZWRpdC1yZWxlYXNlLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4LWdyb3c6IDE7XHJcbn0iXX0= */\"","import { AfterViewInit, Component, ContentChild, EventEmitter, Input, Inject, Output, OnInit, TemplateRef } from '@angular/core';\r\nimport { ValidationErrors } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n//\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { forkJoin } from 'rxjs';\r\n//\r\nimport { ReleasesImgesService } from '../../services/releases-images.service';\r\nimport { ReleasesService } from '../../services/releases.service';\r\nimport { Face, State, Status } from '../../../../../ui/modules/images-card/models/face';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\r\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\r\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\r\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\r\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\nimport { Release, EditReleaseModel, ReleaseImage, MainImage } from '../../models/releases';\r\n//import { setTranslations } from 'ngx-translate';\r\n//import { TRANSLATIONS } from './i18n/edit-case.component.translations';\r\nimport { PropertyCase } from '../../models/property-case';\r\nimport { ImageCardEditActionDirective } from '../../../../../ui/modules/images-card/directives/images-card-edit-actions.directive';\r\nimport { NewOfferComponent } from '../../../ms-offers/components/new-offer/new-offer.component';\r\nimport { Brand } from '../../../ms-brands/models/brand';\r\nimport { Shop } from '../../../ms-shops/models/shops';\r\n\r\nconst errorKey = 'Error';\r\n\r\nconst savedCaseMessageKey = 'Saved Changes';\r\n\r\n@Component({\r\n  selector: 'edit-release-modal',\r\n  templateUrl: './edit-release-modal.component.html',\r\n  styleUrls: ['./edit-release-modal.component.scss']\r\n})\r\n\r\n@Mixin([CanDeactivateMixin])\r\nexport class EditReleaseModalComponent implements AfterViewInit, OnInit, CanDeactivateMixin {\r\n\r\n  collections: Collection[];\r\n\r\n  data: Release;\r\n\r\n  imageList: ReleaseImage[];\r\n\r\n  validationErrors: ValidationErrors;\r\n\r\n  // Begin Mixin code of the CanDeactivate class\r\n  unsavedChanges = false;\r\n\r\n  cancelBtnKey = 'No';\r\n\r\n  okBtnKey = 'Yes';\r\n\r\n  saveTitleKey = 'Discard';\r\n\r\n  saveMessageKey = 'Discard Changes';\r\n\r\n  modalRef: MatDialogRef<EditReleaseModalComponent | ConfirmDialogComponent | NewOfferComponent>;\r\n\r\n  canDeactivate: () => Observable<boolean> | boolean;\r\n\r\n  dataChanged: () => void;\r\n\r\n  brands: Array<Brand>;\r\n\r\n  shops: Array<Shop>;\r\n\r\n  releaseId: string;\r\n\r\n  @Input() galleries: Array<string>;\r\n\r\n  @Input() caseProperties: Array<PropertyCase>;\r\n\r\n  @ContentChild(ImageCardEditActionDirective, { read: TemplateRef }) imageCardEditActionTemplate;\r\n\r\n  constructor(\r\n    public releasesImgesService: ReleasesImgesService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public dialog: MatDialog,\r\n    private toastr: ToastrService,\r\n    private releasesService: ReleasesService,\r\n    public router: Router,\r\n    private errorHandlingService: ErrorHandlingService,\r\n    private translate: TranslateService,\r\n    private imagesService: ImagesService,\r\n    public dialogRef: MatDialogRef<EditReleaseModalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: any\r\n  ) {\r\n    //setTranslations(this.translate, TRANSLATIONS);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.brands = this.activatedRoute.snapshot.data.brands;  \r\n    this.collections = this.activatedRoute.snapshot.data.collections;    \r\n    this.imageList = this.activatedRoute.snapshot.data.releaseAllImages;\r\n    this.releaseId = this.activatedRoute.snapshot.data.releaseId;    \r\n    this.shops = this.activatedRoute.snapshot.data.shops;\r\n    this.getCase();\r\n\r\n    /*this.imageList.forEach((image) => {\r\n      image.fileName = \"\";\r\n    });*/\r\n  }\r\n\r\n  submit(data: Release) {\r\n    delete data.updatedAt;\r\n    delete data.createdAt;\r\n    this.editCase(data);\r\n  }\r\n\r\n  cancel() {\r\n    this.close();\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  getCase() {\r\n    this.releasesService.getRelease(this.dialogData.releaseId).subscribe(response => {\r\n      this.data = response.data;\r\n      if (this.data.mainImage) {\r\n        this.imageList.forEach((image) => {\r\n          image.fileName = \"\";\r\n          if (image.imgUrl === this.data.mainImage) {\r\n            image.mainImage = true;\r\n          }\r\n        });\r\n      }\r\n      this.data.faces = this.imageList;\r\n    },\r\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n  }\r\n\r\n  editCase(releaseData: Release) {\r\n    let mainImageFlag: boolean = false;\r\n    if (releaseData !== undefined && releaseData !== null) {\r\n      // Saving the images of the case before saving the case\r\n      releaseData.images = [];\r\n      const imagesObservables = new Array<Observable<any>>();\r\n      const addedFaces = new Array<Face>();\r\n      // Uploading the images to command and control server\r\n      for (const position in releaseData.faces) {\r\n        const face = releaseData.faces[position];\r\n        if (face.state === State.New) {\r\n          face.status = Status.Uploading;\r\n          if (face.mainImage === true) {\r\n            mainImageFlag = true;\r\n            this.imagesService.postImage(face.file).subscribe(response => {\r\n              let image = new ReleaseImage;\r\n              image.imgUrl = response.data.url;\r\n              //releaseData.images = [...releaseData.images, image];\r\n              let mainImage: MainImage = {\r\n                mainImage: image.imgUrl\r\n              }\r\n              this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\r\n                console.log(\"new principal\");\r\n              },\r\n                (error: HandledError) => {\r\n                  this.errorHandlingService.handleUiError(errorKey, error);\r\n                  this.validationErrors = error.formErrors;\r\n                });\r\n\r\n              this.releasesImgesService.postReleaseImage(this.releaseId, image).subscribe(response => {\r\n                console.log(\"salvando imagenes\");\r\n              },\r\n                (error: HandledError) => {\r\n                  this.errorHandlingService.handleUiError(errorKey, error);\r\n                  this.validationErrors = error.formErrors;\r\n                });\r\n            },\r\n              (error: HandledError) => {\r\n                this.errorHandlingService.handleUiError(errorKey, error);\r\n                this.validationErrors = error.formErrors;\r\n              });\r\n          } else {\r\n            const subscription$ = this.imagesService.postImage(face.file);\r\n            imagesObservables.push(subscription$);\r\n          }\r\n          addedFaces.push(face);\r\n        } else if (face.mainImage === true) {\r\n          mainImageFlag = true;\r\n          let mainImage: MainImage = {\r\n            mainImage: face.imgUrl\r\n          }\r\n          releaseData.mainImage = face.imgUrl;\r\n          /*this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\r\n            console.log(\"old principal\");\r\n          });*/\r\n        }\r\n      }\r\n      if (imagesObservables.length > 0) {\r\n\r\n        forkJoin(imagesObservables).subscribe(responses => {\r\n          for (const item in responses) {\r\n            let image = new ReleaseImage;\r\n            image.imgUrl = responses[item].data.url;\r\n            releaseData.images = [...releaseData.images, image]\r\n          }\r\n          this.releasesImgesService.postReleaseImageAll(releaseData.id, releaseData.images).subscribe(response => {\r\n            console.log(\"salvando imagenes\");\r\n          },\r\n            (error: HandledError) => {\r\n              this.errorHandlingService.handleUiError(errorKey, error);\r\n              this.validationErrors = error.formErrors;\r\n            });\r\n\r\n          if (!mainImageFlag) {\r\n            releaseData.mainImage = \"\";\r\n          }\r\n          this.releasesService.putRelease(releaseData).subscribe(response => {\r\n            this.unsavedChanges = false;\r\n            this.data = response;\r\n            this.translate.get(savedCaseMessageKey).subscribe(value => this.toastr.success(value));\r\n            this.close();\r\n          },\r\n            (error: HandledError) => {\r\n              this.errorHandlingService.handleUiError(errorKey, error);\r\n              this.validationErrors = error.formErrors;\r\n            });\r\n        },\r\n          (error: HandledError) => {\r\n            this.errorHandlingService.handleUiError(errorKey, error);\r\n            this.validationErrors = error.formErrors;\r\n          });\r\n      } else {\r\n        if (!mainImageFlag) {\r\n          releaseData.mainImage = \"\";\r\n        }\r\n        this.releasesService.putRelease(releaseData).subscribe(response => {\r\n          this.unsavedChanges = false;\r\n          this.data = response;\r\n          this.translate.get(savedCaseMessageKey).subscribe(value => this.toastr.success(value));\r\n          this.close();\r\n        },\r\n          (error: HandledError) => {\r\n            this.errorHandlingService.handleUiError(errorKey, error);\r\n            this.validationErrors = error.formErrors;\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<h1>EDIT RELEASE</h1>\\n<edit-release-form class=\\\"flex-grow-1\\\" *ngIf=\\\"data\\\"\\n                [collections]=\\\"collections\\\"\\n                [caseProperties]=\\\"caseProperties\\\"\\n                [data]=\\\"data\\\"\\n                [releaseId]=\\\"releaseId\\\"\\n                [styles]=\\\"styles\\\"\\n                [offerId]=\\\"offerId\\\"\\n                [imageList]=\\\"imageList\\\"\\n                [brands]=\\\"brands\\\"\\n                [shops]=\\\"shops\\\"                \\n                [overview]=\\\"false\\\"\\n                (accept)=\\\"submit($event)\\\"\\n                (cancel)=\\\"cancel()\\\"\\n                [validationErrors]=\\\"validationErrors\\\"\\n                [imageCardEditAction]=\\\"imageCardEditActionTemplate\\\"\\n                (dataChange)=\\\"dataChanged()\\\">\\n</edit-release-form>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL2VkaXQtcmVsZWFzZS9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1yZWxlYXNlc1xcY29tcG9uZW50c1xcZWRpdC1yZWxlYXNlXFxlZGl0LXJlbGVhc2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDYiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtcmVsZWFzZXMvY29tcG9uZW50cy9lZGl0LXJlbGVhc2UvZWRpdC1yZWxlYXNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4LWdyb3c6IDE7XHJcbn0iXX0= */\"","import { AfterViewInit, Component, ContentChild, EventEmitter, Input, Output, OnInit, TemplateRef } from '@angular/core';\nimport { ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { TranslateService } from '@ngx-translate/core';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs/Observable';\nimport { forkJoin } from 'rxjs';\n//\nimport { ReleasesImgesService } from '../../services/releases-images.service';\nimport { ReleasesService } from '../../services/releases.service';\nimport { Face, State, Status } from '../../../../../ui/modules/images-card/models/face';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { Release, EditReleaseModel, ReleaseImage, MainImage } from '../../models/releases';\n//import { setTranslations } from 'ngx-translate';\n//import { TRANSLATIONS } from './i18n/edit-case.component.translations';\nimport { PropertyCase } from '../../models/property-case';\nimport { ImageCardEditActionDirective } from '../../../../../ui/modules/images-card/directives/images-card-edit-actions.directive';\nimport { NewOfferComponent } from '../../../ms-offers/components/new-offer/new-offer.component';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Shop } from '../../../ms-shops/models/shops';\nimport { Style } from '../../../ms-style/models/style';\n\nconst errorKey = 'Error';\n\nconst savedCaseMessageKey = 'Saved Changes';\n\n@Component({\n  selector: 'edit-release',\n  templateUrl: './edit-release.component.html',\n  styleUrls: ['./edit-release.component.scss']\n})\n\n@Mixin([CanDeactivateMixin])\nexport class EditReleaseComponent implements AfterViewInit, OnInit, CanDeactivateMixin {\n\n  collections: Collection[];\n\n  data: Release;\n\n  imageList: ReleaseImage[];\n\n  validationErrors: ValidationErrors;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard';\n\n  saveMessageKey = 'Discard Changes';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent | NewOfferComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  brands: Array<Brand>;\n\n  shops: Array<Shop>;\n\n  styles: Array<Style>;\n\n  releaseId: string;\n\n  offerId: string;\n\n  returnUrl: string;\n\n  @Input() galleries: Array<string>;\n\n  @Input() caseProperties: Array<PropertyCase>;\n\n  @ContentChild(ImageCardEditActionDirective, { read: TemplateRef }) imageCardEditActionTemplate;\n\n  constructor(\n    public releasesImgesService: ReleasesImgesService,\n    public activatedRoute: ActivatedRoute,\n    public dialog: MatDialog,\n    private toastr: ToastrService,\n    private releasesService: ReleasesService,\n    public router: Router,\n    private errorHandlingService: ErrorHandlingService,\n    private translate: TranslateService,\n    private imagesService: ImagesService,\n  ) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  ngOnInit() {\n    this.brands = this.activatedRoute.snapshot.data.brands;\n    this.collections = this.activatedRoute.snapshot.data.collections;\n    this.imageList = this.activatedRoute.snapshot.data.releaseAllImages;\n    this.releaseId = this.activatedRoute.snapshot.data.releaseId;\n    this.shops = this.activatedRoute.snapshot.data.shops;\n    this.styles = this.activatedRoute.snapshot.data.styles;\n    this.getCase();\n\n    this.offerId = this.activatedRoute.snapshot.queryParams.offerId;\n    this.returnUrl = this.activatedRoute.snapshot.queryParams['returnUrl'];\n\n    this.imageList.forEach((image) => {\n      image.fileName = \"\";\n    });\n  }\n\n  submit(data: Release) {\n    delete data.updatedAt;\n    delete data.createdAt;\n    this.editCase(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    if (this.returnUrl && this.returnUrl.length > 0) {\n      this.router.navigateByUrl(this.returnUrl);\n    } else {\n      this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, { relativeTo: this.activatedRoute });\n    }\n  }\n\n  getCase() {\n    this.releasesService.getRelease(this.releaseId).subscribe(response => {\n      this.data = response.data;\n      if (this.data.mainImage) {\n        this.imageList.forEach((image) => {\n          image.fileName = \"\";\n          if (image.imgUrl === this.data.mainImage) {\n            image.mainImage = true;\n          }\n        });\n      }\n      this.data.faces = this.imageList;\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n  }\n\n  editCase(releaseData: Release) {\n    let mainImageFlag: boolean = false;\n    if (releaseData !== undefined && releaseData !== null) {\n      // Saving the images of the case before saving the case\n      releaseData.images = [];\n      const imagesObservables = new Array<Observable<any>>();\n      const addedFaces = new Array<Face>();\n      // Uploading the images to command and control server\n      for (const position in releaseData.faces) {\n        const face = releaseData.faces[position];\n        if (face.state === State.New) {\n          face.status = Status.Uploading;\n          if (face.mainImage === true) {\n            mainImageFlag = true;\n            this.imagesService.postImage(face.file).subscribe(response => {\n              let image = new ReleaseImage;\n              image.imgUrl = response.data.url;\n              //releaseData.images = [...releaseData.images, image];\n              let mainImage: MainImage = {\n                mainImage: image.imgUrl\n              }\n              this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\n                console.log(\"new principal\");\n              },\n                (error: HandledError) => {\n                  this.errorHandlingService.handleUiError(errorKey, error);\n                  this.validationErrors = error.formErrors;\n                });\n\n              this.releasesImgesService.postReleaseImage(this.releaseId, image).subscribe(response => {\n                console.log(\"salvando imagenes\");\n              },\n                (error: HandledError) => {\n                  this.errorHandlingService.handleUiError(errorKey, error);\n                  this.validationErrors = error.formErrors;\n                });\n            },\n              (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n                this.validationErrors = error.formErrors;\n              });\n          } else {\n            const subscription$ = this.imagesService.postImage(face.file);\n            imagesObservables.push(subscription$);\n          }\n          addedFaces.push(face);\n        } else if (face.mainImage === true) {\n          mainImageFlag = true;\n          let mainImage: MainImage = {\n            mainImage: face.imgUrl\n          }\n          releaseData.mainImage = face.imgUrl;\n          /*this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\n            console.log(\"old principal\");\n          });*/\n        }\n      }\n      if (imagesObservables.length > 0) {\n\n        forkJoin(imagesObservables).subscribe(responses => {\n          for (const item in responses) {\n            let image = new ReleaseImage;\n            image.imgUrl = responses[item].data.url;\n            releaseData.images = [...releaseData.images, image]\n          }\n          this.releasesImgesService.postReleaseImageAll(releaseData.id, releaseData.images).subscribe(response => {\n            console.log(\"salvando imagenes\");\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n\n          if (!mainImageFlag) {\n            releaseData.mainImage = \"\";\n          }\n          this.releasesService.putRelease(releaseData).subscribe(response => {\n            this.unsavedChanges = false;\n            this.data = response;\n            this.translate.get(savedCaseMessageKey).subscribe(value => this.toastr.success(value));\n            this.close();\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n        },\n          (error: HandledError) => {\n            this.errorHandlingService.handleUiError(errorKey, error);\n            this.validationErrors = error.formErrors;\n          });\n      } else {\n        if (!mainImageFlag) {\n          releaseData.mainImage = \"\";\n        }\n        this.releasesService.putRelease(releaseData).subscribe(response => {\n          this.unsavedChanges = false;\n          this.data = response;\n          this.translate.get(savedCaseMessageKey).subscribe(value => this.toastr.success(value));\n          this.close();\n        },\n          (error: HandledError) => {\n            this.errorHandlingService.handleUiError(errorKey, error);\n            this.validationErrors = error.formErrors;\n          });\n      }\n    }\n  }\n\n}\n","module.exports = \"\\n<release-form class=\\\"flex-grow-1\\\"\\n    [brands]=\\\"brands\\\"\\n    [categories]=\\\"categories\\\"\\n    [collections]=\\\"collections\\\"\\n    [collectionId]=\\\"dialogData.collectionId\\\"\\n    [data]=\\\"data\\\"        \\n    (accept)=\\\"submit($event)\\\"\\n    (cancel)=\\\"cancel()\\\"\\n    [validationErrors]=\\\"validationErrors\\\"\\n    (dataChange)=\\\"dataChanged()\\\">\\n</release-form>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n.mat-dialog-container {\\n  padding: 10px; }\\n\\n.mat-dialog-content {\\n  height: 60%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n.max-width-60-pct {\\n  max-width: 60% !important; }\\n\\n.border {\\n  border: 1px solid #f1f1f1; }\\n\\ntd.mat-cell {\\n  border: none !important; }\\n\\nth.mat-header-cell {\\n  border: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL25ldy1yZWxlYXNlLW1vZGFsL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLXJlbGVhc2VzXFxjb21wb25lbnRzXFxuZXctcmVsZWFzZS1tb2RhbFxcbmV3LXJlbGVhc2UtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixhQUNGLEVBQUM7O0FBRUQ7RUFDRSxjQUFhLEVBQ2Q7O0FBRUQ7RUFDRSxZQUFXO0VBQ1gsaUJBQWdCO0VBQ2hCLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLGdCQUFlLEVBQ2hCOztBQUVEO0VBQ0UsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixjQUFhO0VBQ2IsYUFBWTtFQUNaLGlCQUFnQjtFQUNoQixtQkFBa0I7RUFDbEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWU7RUFDZixZQUFXO0VBQ1gsYUFBWSxFQUNiOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0Usd0JBQXVCLEVBQ3hCOztBQUNEO0VBQ0Usd0JBQXVCLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL25ldy1yZWxlYXNlLW1vZGFsL25ldy1yZWxlYXNlLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IDEwMCVcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiA2MCU7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MnZoO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctYWN0aW9ucyB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1jYXJkIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgd2lkdGg6IDE1MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxuICBcclxuICAubWF4LXdpZHRoLTYwLXBjdHtcclxuICAgIG1heC13aWR0aDogNjAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5ib3JkZXJ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xyXG4gIH1cclxuICBcclxuICB0ZC5tYXQtY2VsbHtcclxuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICB0aC5tYXQtaGVhZGVyLWNlbGx7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcbiJdfQ== */\"","import { Component, Input, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { ValidationErrors, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { forkJoin, Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent, } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { MainImage, Release, ReleaseImage } from '../../models/releases';\nimport { ReleasesService } from '../../services/releases.service';\nimport { ReleasesImgesService } from '../../services/releases-images.service';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Category } from '../../../ms-categories/models/category';\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { BaseRouteComponent } from '../../../../../routing/components/base-route-component';\n\nconst errorKey = 'Error';\n\nconst savedUserMessageKey = 'Saved User Message';\n\n@Component({\n  selector: 'new-release-modal',\n  templateUrl: './new-release-modal.component.html',\n  styleUrls: ['./new-release-modal.component.scss']\n})\n\n@Mixin([CanDeactivateMixin])\nexport class NewReleaseModalComponent implements CanDeactivateMixin, OnInit {\n\n  data: Release = {\n    name: \"\",\n    description: \"\",\n    sku: \"\",\n    hot: false,\n    customized: false,\n  };\n\n  brands: Array<Brand>;\n\n  categories: Array<Category>;\n\n  collections: Array<Collection>;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  releaseId: string;\n  // end\n\n  validationErrors: ValidationErrors;\n\n  //@Input() brands: Array<Brand>;TODO\n\n  //@Output() close = new EventEmitter();TODO\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    public releasesService: ReleasesService,\n    public releasesImgesService: ReleasesImgesService,\n    private errorHandlingService: ErrorHandlingService,\n    public imagesService: ImagesService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<NewReleaseModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public dialogData: any) {\n  }\n\n  ngOnInit() {\n    this.brands = this.activatedRoute.snapshot.data.brands;\n    this.categories = this.activatedRoute.snapshot.data.categories;\n    this.collections = this.activatedRoute.snapshot.data.collections;    \n  }\n\n  submit(data: Release) {\n    this.createRelease(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  createRelease(releaseData: Release) {\n    console.log(\"create...........\")\n    this.releasesService.postRelease(releaseData).subscribe(response => {\n      this.releaseId = response.data.id;\n      releaseData.images = [];\n      const imagesObservables = new Array<Observable<any>>();\n      for (const position in releaseData.faces) {\n        const face = releaseData.faces[position];\n        if (face.mainImage === true) {\n          this.imagesService.postImage(face.file).subscribe(response => {\n            //let image = new ReleaseImage;\n            //image.imgUrl = response.data.url;\n            //releaseData.images = [...releaseData.images, image];\n            console.log(\"main image........................................\");\n            //console.log()\n            let mainImage: MainImage = {\n              mainImage: response.data.url\n            }\n            this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\n              console.log(\"new principal\");\n            },\n              (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n                this.validationErrors = error.formErrors;\n              });\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n        } else {\n          const subscription$ = this.imagesService.postImage(face.file);\n          imagesObservables.push(subscription$);\n        }\n      }\n      if (imagesObservables.length > 0) {\n\n        forkJoin(imagesObservables).subscribe(responses => {\n          for (const item in responses) {\n            //const image = responses[item].data.url;\n            let image = new ReleaseImage;\n            image.imgUrl = responses[item].data.url;\n            releaseData.images = [...releaseData.images, image]\n          }\n          //this.releasesService.postRelease(releaseData).subscribe(response => {\n          //send images realeases \n          this.releasesImgesService.postReleaseImageAll(response.data.id, releaseData.images).subscribe(response => {\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n          this.unsavedChanges = false;\n          this.close();\n          this.toastr.success((savedUserMessageKey));\n\n        },\n          (error: HandledError) => {\n            this.errorHandlingService.handleUiError(errorKey, error);\n            this.validationErrors = error.formErrors;\n          }\n        );\n      }else{\n        this.close();\n      }\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.validationErrors = error.formErrors;\n      });\n\n\n  }\n  \n}\n","module.exports = \"\\n<release-form class=\\\"flex-grow-1\\\"\\n    [brands]=\\\"brands\\\"\\n    [categories]=\\\"categories\\\"\\n    [collections]=\\\"collections\\\"\\n    [styles]=\\\"styles\\\"\\n    [styleId]=\\\"styleId\\\"\\n    [data]=\\\"data\\\"        \\n    (accept)=\\\"submit($event)\\\"\\n    (cancel)=\\\"cancel()\\\"\\n    [validationErrors]=\\\"validationErrors\\\"\\n    (dataChange)=\\\"dataChanged()\\\">\\n</release-form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n.mat-dialog-container {\\n  padding: 10px; }\\n\\n.mat-dialog-content {\\n  height: 60%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n.max-width-60-pct {\\n  max-width: 60% !important; }\\n\\n.border {\\n  border: 1px solid #f1f1f1; }\\n\\ntd.mat-cell {\\n  border: none !important; }\\n\\nth.mat-header-cell {\\n  border: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL25ldy1yZWxlYXNlL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLXJlbGVhc2VzXFxjb21wb25lbnRzXFxuZXctcmVsZWFzZVxcbmV3LXJlbGVhc2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixhQUNGLEVBQUM7O0FBRUQ7RUFDRSxjQUFhLEVBQ2Q7O0FBRUQ7RUFDRSxZQUFXO0VBQ1gsaUJBQWdCO0VBQ2hCLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLGdCQUFlLEVBQ2hCOztBQUVEO0VBQ0UsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixjQUFhO0VBQ2IsYUFBWTtFQUNaLGlCQUFnQjtFQUNoQixtQkFBa0I7RUFDbEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWU7RUFDZixZQUFXO0VBQ1gsYUFBWSxFQUNiOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0Usd0JBQXVCLEVBQ3hCOztBQUNEO0VBQ0Usd0JBQXVCLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL25ldy1yZWxlYXNlL25ldy1yZWxlYXNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IDEwMCVcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiA2MCU7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MnZoO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctYWN0aW9ucyB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1jYXJkIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgd2lkdGg6IDE1MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxuICBcclxuICAubWF4LXdpZHRoLTYwLXBjdHtcclxuICAgIG1heC13aWR0aDogNjAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5ib3JkZXJ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xyXG4gIH1cclxuICBcclxuICB0ZC5tYXQtY2VsbHtcclxuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICB0aC5tYXQtaGVhZGVyLWNlbGx7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcbiJdfQ== */\"","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { ValidationErrors, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { forkJoin, Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent, } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { MainImage, Release, ReleaseImage } from '../../models/releases';\nimport { ReleasesService } from '../../services/releases.service';\nimport { ReleasesImgesService } from '../../services/releases-images.service';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Category } from '../../../ms-categories/models/category';\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { BaseRouteComponent } from '../../../../../routing/components/base-route-component';\nimport { Style } from '../../../ms-style/models/style';\n\nconst errorKey = 'Error';\n\nconst savedUserMessageKey = 'Saved User Message';\n\n@Component({\n  selector: 'new-release',\n  templateUrl: './new-release.component.html',\n  styleUrls: ['./new-release.component.scss']\n})\n\n@Mixin([CanDeactivateMixin])\nexport class NewReleaseComponent implements CanDeactivateMixin, OnInit {\n\n  data: Release = {\n    name: \"\",\n    description: \"\",\n    sku: \"\",\n    hot: false,\n    customized: false,\n  };\n\n  brands: Array<Brand>;\n\n  categories: Array<Category>;\n\n  collections: Array<Collection>;\n\n  styles: Array<Style>;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  releaseId: string;\n\n  styleId: string;\n\n  returnUrl: string;\n  // end\n\n  validationErrors: ValidationErrors;\n\n  //@Input() brands: Array<Brand>;TODO\n\n  //@Output() close = new EventEmitter();TODO\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    public releasesService: ReleasesService,\n    public releasesImgesService: ReleasesImgesService,\n    private errorHandlingService: ErrorHandlingService,\n    public imagesService: ImagesService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    public dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.brands = this.activatedRoute.snapshot.data.brands;\n    this.categories = this.activatedRoute.snapshot.data.categories;\n    this.collections = this.activatedRoute.snapshot.data.collections;\n    this.styles = this.activatedRoute.snapshot.data.styles;\n\n    this.styleId = this.activatedRoute.snapshot.queryParams.styleId;\n    this.returnUrl = this.activatedRoute.snapshot.queryParams['returnUrl'];\n  }\n\n  submit(data: Release) {\n    this.createRelease(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    if (this.returnUrl && this.returnUrl.length > 0) {\n      this.router.navigateByUrl(this.returnUrl);\n    } else {\n      this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, { relativeTo: this.activatedRoute });\n    }\n  }\n\n  createRelease(releaseData: Release) {\n    console.log(\"create...........\")\n    this.releasesService.postRelease(releaseData).subscribe(response => {\n      this.releaseId = response.data.id;\n      releaseData.images = [];\n      const imagesObservables = new Array<Observable<any>>();\n      for (const position in releaseData.faces) {\n        const face = releaseData.faces[position];\n        if (face.mainImage === true) {\n          this.imagesService.postImage(face.file).subscribe(response => {\n            //let image = new ReleaseImage;\n            //image.imgUrl = response.data.url;\n            //releaseData.images = [...releaseData.images, image];\n            console.log(\"main image........................................\");\n            //console.log()\n            let mainImage: MainImage = {\n              mainImage: response.data.url\n            }\n            this.releasesImgesService.patchReleaseMainImage(this.releaseId, mainImage).subscribe(response => {\n              console.log(\"new principal\");\n            },\n              (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n                this.validationErrors = error.formErrors;\n              });\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n        } else {\n          const subscription$ = this.imagesService.postImage(face.file);\n          imagesObservables.push(subscription$);\n        }\n      }\n      if (imagesObservables.length > 0) {\n\n        forkJoin(imagesObservables).subscribe(responses => {\n          for (const item in responses) {\n            //const image = responses[item].data.url;\n            let image = new ReleaseImage;\n            image.imgUrl = responses[item].data.url;\n            releaseData.images = [...releaseData.images, image]\n          }\n          //this.releasesService.postRelease(releaseData).subscribe(response => {\n          //send images realeases \n          this.releasesImgesService.postReleaseImageAll(response.data.id, releaseData.images).subscribe(response => {\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n          this.unsavedChanges = false;\n          this.close();\n          this.toastr.success((savedUserMessageKey));\n\n        },\n          (error: HandledError) => {\n            this.errorHandlingService.handleUiError(errorKey, error);\n            this.validationErrors = error.formErrors;\n          }\n        );\n      } else {\n        this.close();\n      }\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error, 'release');\n        this.validationErrors = error.formErrors;\n      });\n\n\n  }\n\n}\n","module.exports = \"<form class=\\\"flex-grow-1 min-height-0 display-flex flex-direction-column\\\" [askBeforeRefresh]=\\\"formGroup.dirty\\\" [formGroup]=\\\"formGroup\\\"\\r\\n  novalidate role=\\\"form\\\" (ngSubmit)=\\\"submitClicked()\\\" autocomplete=\\\"off\\\" inputFocus>\\r\\n\\r\\n  <div fxLayout=\\\"row\\\" class=\\\"max-width-75pct customized justify-content-space-between flex-grow-0 padding-bottom-10px\\\">\\r\\n    <h1 *ngIf=\\\"!formGroup.get('customized').value\\\">RELEASE CREATOR</h1>\\r\\n    <h1 *ngIf=\\\"formGroup.get('customized').value\\\">CUSTOMIZED RELEASE</h1>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column\\\">\\r\\n\\r\\n    <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n      <div fxFlex fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\r\\n\\r\\n        <div [fxFlex]=\\\"50\\\" fxFlex fxLayout=\\\"column\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n            <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-35px\\\">\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Release Name</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>SKU</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"sku\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Gender</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"gender\\\">\\r\\n\\r\\n                  <mat-option>...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let gender of genders\\\" [value]=\\\"gender.id\\\">\\r\\n\\r\\n                    {{gender.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\" *ngIf=\\\"!collectionId\\\">\\r\\n\\r\\n                <mat-label>Collection</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"collectionId\\\">\\r\\n\\r\\n                  <mat-option>...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\r\\n\\r\\n                    {{collection.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\" *ngIf=\\\"!styleId\\\">\\r\\n\\r\\n                <mat-label>Style</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"styleId\\\" required>\\r\\n\\r\\n                  <mat-option (click)=\\\"selectBrand('')\\\">...</mat-option>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let style of styles\\\" [value]=\\\"style.id\\\" (click)=\\\"selectBrand(style.brand)\\\">\\r\\n\\r\\n                    {{style.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>              \\r\\n\\r\\n              <div>\\r\\n\\r\\n                <mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"hot\\\">Hot</mat-slide-toggle>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-25px\\\">\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <input matInput [matDatepicker]=\\\"picker\\\" placeholder=\\\"Release Date\\\" formControlName=\\\"releaseDate\\\">\\r\\n\\r\\n                <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n\\r\\n                <mat-datepicker #picker></mat-datepicker>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <!--div>\\r\\n\\r\\n            <mat-checkbox class=\\\"padding-bottom-15px\\\" value=\\\"primary\\\" matTooltip=\\\"{{ 'Upcomming' | translate }}\\\">Upcoming</mat-checkbox>\\r\\n\\r\\n          </div-->\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Colors</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select\\\" formControlName=\\\"color\\\" multiple required>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let color of colors\\\" [value]=\\\"color.id\\\">\\r\\n\\r\\n                    {{color.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\r\\n\\r\\n                <mat-label>Supplier Color</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\" formControlName=\\\"supplierColor\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\" *ngIf=\\\"!formGroup.get('customized').value\\\">\\r\\n\\r\\n                <mat-label>Price</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"number\\\" formControlName=\\\"price\\\" required>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                  <mat-label>Brand</mat-label>\\r\\n  \\r\\n                  <mat-select placeholder=\\\"Select\\\" matNativeControl  [formControl]=\\\"selectedBrand\\\">\\r\\n  \\r\\n                    <mat-option  (click)=\\\"selectStyle('')\\\">...</mat-option>\\r\\n  \\r\\n                    <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\"  (click)=\\\"selectStyle(brand.id)\\\">\\r\\n  \\r\\n                      {{brand.name}}\\r\\n  \\r\\n                    </mat-option>\\r\\n  \\r\\n                  </mat-select>\\r\\n  \\r\\n                </mat-form-field>\\r\\n\\r\\n              <!--mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"children\\\">Children</mat-slide-toggle-->\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n            <mat-label>Description</mat-label>\\r\\n\\r\\n            <textarea matInput formControlName=\\\"description\\\"></textarea>\\r\\n\\r\\n          </mat-form-field>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n        <div [fxFlex]=\\\"50\\\" class=\\\"margin-right-25px\\\">\\r\\n          <div>\\r\\n            <mat-slide-toggle class=\\\"padding-top-15px padding-bottom-15px\\\" formControlName=\\\"customized\\\">Customized</mat-slide-toggle>\\r\\n          </div>\\r\\n          <div [fxFlex]=\\\"50\\\" class=\\\"border margin-right-25px max-width-480px margin-bottom-20px\\\">\\r\\n            <div class=\\\"display-flex justify-content-center\\\">\\r\\n              <h3 class=\\\"margin-buttom-0px\\\">Main Image</h3>\\r\\n            </div>\\r\\n            <images-card class=\\\"flex-grow-1 padding-10px\\\" formControlName=\\\"faces\\\" name=\\\"faces\\\"></images-card>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n    <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save' | translate }}</button>\\r\\n\\r\\n    <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"cancelClicked()\\\">{{ 'Cancel' | translate }}</button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n<http-request-indicator [urlExpressions]=\\\"[\\r\\n      configService.config.apiConfigs.releases.apiEndpoint + '.*']\\\">\\r\\n</http-request-indicator>\\r\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.height-34px {\\n  height: 34px !important; }\\n\\n.width-100pc {\\n  width: 100%; }\\n\\n@media screen and (max-width: 959px) {\\n  .customized {\\n    max-width: 480px !important; } }\\n\\nmat-form-field {\\n  max-width: 100% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL3JlbGVhc2UtZm9ybS9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1yZWxlYXNlc1xcY29tcG9uZW50c1xccmVsZWFzZS1mb3JtXFxyZWxlYXNlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0k7SUFDSSw0QkFBMkIsRUFDOUIsRUFBQTs7QUFHTDtFQUNJLDJCQUEwQixFQUMzQiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtcmVsZWFzZXMvY29tcG9uZW50cy9yZWxlYXNlLWZvcm0vcmVsZWFzZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5oZWlnaHQtMzRweCB7XHJcbiAgICBoZWlnaHQ6IDM0cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLndpZHRoLTEwMHBjIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5NTlweCkge1xyXG4gICAgLmN1c3RvbWl6ZWQge1xyXG4gICAgICAgIG1heC13aWR0aDogNDgwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxubWF0LWZvcm0tZmllbGQge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfSJdfQ== */\"","import { AfterViewInit, ChangeDetectionStrategy, Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { MatPaginator, MatSort } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { ConfigService } from '../../../../../config/services/config.service';\nimport { BaseReactiveFormComponent } from '../../../../../ui/components/base-reactive-form/base-reactive-form-component';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { BrandsService } from '../../../ms-brands/services/brands.service';\nimport { Category } from '../../../ms-categories/models/category';\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { Shop } from '../../../ms-shops/models/shops';\nimport { COLORS, Color } from '../../models/color';\nimport { GENDERS, Gender } from '../../models/gender';\nimport { ReleasesService } from \"../../services/releases.service\";\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { Release, ReleasesListResponse } from \"../../models/releases\";\nimport { NewOfferComponent } from '../../../ms-offers/components/new-offer/new-offer.component';\nimport { Style } from '../../../ms-style/models/style';\nimport { StylesService } from '../../../ms-style/services/styles.service';\n\n\nconst errorKey = 'Error';\n\n@Component({\n    selector: 'release-form',\n    templateUrl: './release-form.component.html',\n    styleUrls: ['./release-form.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class ReleaseFormComponent extends BaseReactiveFormComponent<Release> implements AfterViewInit, OnInit {\n\n    displayedColumns: string[] = [\n        'name',\n        'description',\n        'sku',\n        'images',\n        'gender',\n        'hot',\n        'actions',\n    ];\n\n    shop: Shop;\n\n    faces: FormControl;\n\n    filter: FormGroup;\n\n    genders: Gender[] = GENDERS;\n\n    colors: Color[] = COLORS;\n\n    @Input() brands: Array<Brand>;\n\n    @Input() collections: Array<Collection>;\n\n    @Input() collectionId: string;\n\n    @Input() styles: Array<Style>;\n\n    @Input() styleId: string;\n\n    @Input() categories: Array<Category>;\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n\n    @ViewChild(MatSort) sort: MatSort;\n\n    modalRef: MatDialogRef<NewOfferComponent>;\n\n    totalLength: number = 0;\n\n    releasesList: Subscription;\n\n    releases: Array<Release> = [];\n\n    selectedBrand = new FormControl();\n\n    constructor(\n        public dialog: MatDialog,\n        public brandsService: BrandsService,\n        public configService: ConfigService,\n        public errorHandlingService: ErrorHandlingService,\n        private formBuilder: FormBuilder,\n        public releasesService: ReleasesService,\n        public stylesService: StylesService,\n        translateService: TranslateService) {\n        super(translateService);\n        //setTranslations(this.translateService, TRANSLATIONS);\n    }\n\n    ngOnInit() {\n        let validationsErrors: any[] = [\n            {\n                type: 'required',\n                key: 'Required Field',\n                params: null,\n                translation: ''\n            }\n        ];\n\n        this.validationErrorMessages = validationsErrors;\n\n        this.createFormGroup();\n\n        // Begin observing style list changes.\n        this.releasesList = this.releasesService.releasesList.subscribe((stylesList: any) => {\n            this.totalLength = stylesList.dataCount;\n            this.releases = stylesList.data;\n            if (this.releases.length === 0 && this.totalLength > 0 && this.releasesService.previousPageSize > 0) {\n                this.releasesService.previousPageIndex =\n                    Math.ceil(this.totalLength / this.releasesService.previousPageSize) - 1;\n                this.releasesService.reloadReleases().subscribe(response => {\n                    this.releasesService.releasesList.next(response);\n                },\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n            }\n        });\n    }\n\n    ngAfterViewInit() {\n        this.loadPage();\n    }\n\n    createFormGroup() {\n        this.faces = this.formBuilder.control(this.data.faces);\n        this.formGroup = new FormGroup({\n            faces: this.faces,\n            name: new FormControl(this.data.name),\n            sku: new FormControl(this.data.sku),\n            description: new FormControl(this.data.description),\n            styleId: new FormControl(this.data.styleId ? this.styleId : this.data.styleId),\n            collectionId: new FormControl(this.collectionId ? this.collectionId : this.data.collectionId),\n            children: new FormControl(this.data.children),\n            gender: new FormControl(this.data.gender),\n            price: new FormControl(this.data.price),\n            color: new FormControl(this.data.color ? this.data.color.split(',') : this.data.color),\n            hot: new FormControl(this.data.hot),\n            releaseDate: new FormControl(this.data.updatedAt),\n            supplierColor: new FormControl(this.data.supplierColor),\n            customized: new FormControl(this.data.customized),\n        });\n\n    }\n\n    submitClicked() {\n        if (this.formGroup.valid) {\n            this.data = this.formGroup.value;\n            this.data.color = this.data.color.join();\n            this.accept.emit(this.data);\n        } else {\n            console.log(\"no valido\");\n            this.triggerValidation();\n        }\n    }\n\n    loadPage() {\n        /*this.releasesService.getReleases(\n            Object.assign({}, ''),\n            this.sort.active, this.sort.direction,\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: ReleasesListResponse) => {\n                this.releasesService.releasesList.next(response);\n            },\n                (err: HandledError) => {\n                    this.errorHandlingService.handleUiError(errorKey, err)\n                });*/\n    }\n\n    showModal() {\n        this.modalRef = this.dialog.open(NewOfferComponent, {\n            height: '90%',\n            width: '90%',\n            data: { face: this.shop }\n        });\n    }\n\n    selectStyle(brandId: string) {\n        this.stylesService.getAllStyles().subscribe((response) => {\n            if (brandId) {\n                this.styles = response.filter(style => {\n                    return style.brand === brandId;\n                });\n            }\n            else {\n                this.styles = response;\n            }\n        });\n    }\n\n    selectBrand(brandId: string) {\n            if (brandId) {\n                this.selectedBrand.setValue(brandId);              \n            }           \n      \n    }\n}\n\n","module.exports = \"<div class=\\\"display-flex justify-content-end padding-right-25px padding-top-25px\\\">\\n\\n    <button mat-stroked-button type=\\\"button\\\" class=\\\"max-width-480px\\\" (click)=\\\"addNewReleaseModal()\\\">Add a Release to this Collection</button>\\n\\n</div>\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\n\\n    <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"releases\\\" matSort [matSortActive]=\\\"releasesService.previousSortColumn\\\"\\n        [matSortDirection]=\\\"releasesService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\n\\n        <ng-container matColumnDef=\\\"name\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                RELEASE NAME\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.name }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"mainImage\\\">\\n            <th mat-header-cell *matHeaderCellDef></th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"display-flex flex-grow-1 height-100pct padding-left-0px width-100pct\\\">\\n                <div class=\\\"position-relative margin-top-5px\\\">\\n                    <img [src]=\\\"element.mainImage\\\" class=\\\"height-90pct width-90pct margin-auto\\\" alt=\\\"50\\\">\\n                </div>\\n            </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"sku\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                SKU\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.sku }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"styleId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                STYLE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> {{ getStyle(element.styleId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"brandId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                BRAND\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getBrand(element.brandId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"collectionId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                COLLECTION\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getCollection(element.collectionId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"categoryId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                CATEGORY\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.categoryId }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"color\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                COLOR\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.color }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"releaseDate\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                OFFICIAL RELEASE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.releaseDate | date: 'dd/MM/yyyy' }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"createdAt\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                CREATION DATE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.createdAt | date: 'dd/MM/yyyy HH:mm:ss' }} </td>\\n        </ng-container>\\n        <!--ng-container matColumnDef=\\\"HOT\\\">\\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n            HOT\\n          </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{ element.hot? 'Yes':'No' }} </td>\\n      </ng-container-->\\n\\n        <ng-container matColumnDef=\\\"actions\\\">\\n            <th mat-header-cell *matHeaderCellDef>\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"min-width-80px\\\">\\n                <button mat-icon-button type=\\\"button\\\" color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\" (click)=\\\"editReleaseModal(element.id)\\\">\\n                    <mat-icon>edit</mat-icon>\\n                </button>\\n                <button mat-icon-button type=\\\"button\\\" color=\\\"primary\\\" [matTooltip]=\\\"Delete\\\">\\n                    <mat-icon>delete</mat-icon>\\n                </button>\\n            </td>\\n        </ng-container>\\n\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\n        </tr>\\n\\n    </table>\\n\\n</div>\\n\\n<div class=\\\"margin-right-25px padding-top-5px padding-bottom-5px flex-shrink-0 display-flex\\\">\\n    <span class=\\\"flex-grow-1\\\"></span>\\n    <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\n        (page)=\\\"onPage()\\\">\\n    </mat-paginator>\\n</div>\\n\\n<http-request-indicator [urlExpressions]=\\\"[\\n        configService.config.apiConfigs.releases.apiEndpoint + '.*']\\\">\\n</http-request-indicator>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\n.width-90pct {\\n  width: 90% !important; }\\n\\n.width-100pct {\\n  width: 100% !important; }\\n\\n.height-90pct {\\n  height: 90% !important; }\\n\\n.height-100pct {\\n  height: 100% !important; }\\n\\n.padding-left-0px {\\n  padding-left: 0px !important; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL3JlbGVhc2VzLWNvbGxlY3Rpb24tdGFibGUvRTpcXFBST0dSQU1BQ0lPTiBJSUlcXG1vcmVzbmVha2Vycy1iYWNrb2ZmaWNlL3NyY1xcYXBwXFxtcy1iYWNrLW9mZmljZVxcbW9kdWxlc1xcbXMtcmVsZWFzZXNcXGNvbXBvbmVudHNcXHJlbGVhc2VzLWNvbGxlY3Rpb24tdGFibGVcXHJlbGVhc2VzLWNvbGxlY3Rpb24tdGFibGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZjs7QUFFRDtFQUNJLFlBQVcsRUFDZDs7QUFFRDtFQUNJLGdCQUFlO0VBQ2YsbUJBQWtCO0VBQ2xCLHdCQUF1QixFQUMxQjs7QUFFRDs7RUFFSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxxQkFDSixFQUFDOztBQUVEO0VBQ0ksc0JBQXFCLEVBQ3hCOztBQUVEO0VBQ0ksdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksNkJBQ0osRUFBQzs7QUFFRDtFQUNJLHdCQUF1QjtFQUN2Qix3QkFBdUIsRUFDMUIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLXJlbGVhc2VzL2NvbXBvbmVudHMvcmVsZWFzZXMtY29sbGVjdGlvbi10YWJsZS9yZWxlYXNlcy1jb2xsZWN0aW9uLXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbnRkLFxyXG50aCB7XHJcbiAgICB3aWR0aDogMjUlO1xyXG59XHJcblxyXG4ucGFkZGluZy1ib3R0b20tMTB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweFxyXG59XHJcblxyXG4ud2lkdGgtOTBwY3R7XHJcbiAgICB3aWR0aDogOTAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi53aWR0aC0xMDBwY3R7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaGVpZ2h0LTkwcGN0e1xyXG4gICAgaGVpZ2h0OiA5MCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmhlaWdodC0xMDBwY3R7XHJcbiAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnBhZGRpbmctbGVmdC0wcHh7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDBweCAhaW1wb3J0YW50XHJcbn1cclxuXHJcbmltZ3tcclxuICAgIGhlaWdodDogNjBweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\"","import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n//\r\nimport { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { MatPaginator, MatSort } from '@angular/material';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n//\r\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\r\nimport { ConfigService } from '../../../../../config/services/config.service';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\n//\r\nimport { ReleasesService } from \"../../services/releases.service\";\r\nimport { Release, ReleasesListResponse } from \"../../models/releases\";\r\nimport { GENDERS, Gender } from '../../models/gender';\r\nimport { Brand } from '../../../ms-brands/models/brand';\r\nimport { Style } from '../../../ms-style/models/style';\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\nimport { NewReleaseModalComponent } from '../new-release-modal/new-release-modal.component';\r\nimport { EditReleaseModalComponent } from '../edit-release-modal/edit-release-modal.component';\r\n\r\nconst titleKey = 'Delete';\r\n\r\nconst deleteBtnKey = 'Delete';\r\n\r\nconst messageKey = 'Are you sure you want to delete this Release?';\r\n\r\nconst errorKey = 'Error';\r\n\r\nconst deletedMessageKey = 'Deleted';\r\n\r\n@Component({\r\n    selector: 'releases-collection-table',\r\n    templateUrl: './releases-collection-table.component.html',\r\n    styleUrls: ['./releases-collection-table.component.scss']\r\n})\r\nexport class ReleasesCollectionTableComponent implements OnInit {\r\n\r\n    brands: Array<Brand>;\r\n\r\n    styles: Array<Style>;\r\n\r\n    collections: Array<Collection>;\r\n\r\n    displayedColumns: string[] = [     \r\n        'name',\r\n        'mainImage',\r\n        'sku',\r\n        'styleId',\r\n        'brandId',\r\n        'collectionId',\r\n        'categoryId',\r\n        'color',\r\n        'releaseDate',\r\n        'createdAt',\r\n        //'actions'\r\n    ];\r\n\r\n    filter: FormGroup;\r\n\r\n    filterValueChanges: Subscription;\r\n\r\n    genders: Gender[] = GENDERS;\r\n\r\n    @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n    @ViewChild(MatSort) sort: MatSort;\r\n\r\n    @Input() collectionId: string;\r\n\r\n    modalRef: MatDialogRef<NewReleaseModalComponent | EditReleaseModalComponent | ConfirmDialogComponent>;\r\n    \r\n    totalLength: number = 0;\r\n\r\n    releasesList: Subscription;\r\n\r\n    releases: Array<Release> = [];\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public configService: ConfigService,\r\n        public dialog: MatDialog,\r\n        public errorHandlingService: ErrorHandlingService,\r\n        public releasesService: ReleasesService,        \r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.brands = this.activatedRoute.snapshot.data.brands;\r\n        this.collections = this.activatedRoute.snapshot.data.collections;\r\n        this.styles = this.activatedRoute.snapshot.data.styles;\r\n\r\n        this.filter = this.createFilterFormGroup();\r\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\r\n        this.paginator.pageIndex = 0;\r\n\r\n        // Begin observing style list changes.\r\n        this.releasesList = this.releasesService.releasesList.subscribe((stylesList: any) => {\r\n            this.totalLength = stylesList.dataCount;\r\n            this.releases = stylesList.data;\r\n            if (this.releases.length === 0 && this.totalLength > 0 && this.releasesService.previousPageSize > 0) {\r\n                this.releasesService.previousPageIndex =\r\n                    Math.ceil(this.totalLength / this.releasesService.previousPageSize) - 1;\r\n                this.releasesService.reloadReleases().subscribe(response => {\r\n                    this.releasesService.releasesList.next(response);\r\n                },\r\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    ngAfterViewInit() {\r\n        this.loadPage();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.releasesList.unsubscribe();\r\n        this.filterValueChanges.unsubscribe();\r\n    }\r\n\r\n    createFilterFormGroup() {\r\n        let group: any = {};\r\n        group['collectionId'] = new FormControl(this.collectionId);\r\n        return new FormGroup(group);\r\n    }\r\n\r\n    loadPage() {\r\n        this.releasesService.getReleases(\r\n            Object.assign({}, this.filter.value),\r\n            this.sort.active, this.sort.direction,\r\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: ReleasesListResponse) => {\r\n                this.releasesService.releasesList.next(response);\r\n            },\r\n                (err: HandledError) => {\r\n                    this.errorHandlingService.handleUiError(errorKey, err)\r\n                });\r\n    }\r\n\r\n    onFilter() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onSort() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onPage() {\r\n        this.loadPage();\r\n    }\r\n\r\n    getBrand(id: string) {\r\n        try {\r\n            return this.brands.find(brand => {\r\n                return brand.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getCollection(id: string) {\r\n        try {\r\n            return this.collections.find(collection => {\r\n                return collection.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getStyle(id: string) {\r\n        try {\r\n            return this.styles.find(style => {\r\n                return style.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    addNewReleaseModal() {\r\n        this.modalRef = this.dialog.open(NewReleaseModalComponent, {\r\n            height: '90%',\r\n            width: '90%',\r\n            data: {\r\n                //shops: this.shops,\r\n                collectionId: this.collectionId,\r\n                //customized: this.customized\r\n            }\r\n        });\r\n        this.modalRef.afterClosed().subscribe(() => {\r\n            this.loadPage();\r\n        });\r\n    }\r\n\r\n    editReleaseModal( releaseId: string ) {\r\n        this.modalRef = this.dialog.open(EditReleaseModalComponent, {\r\n            height: '90%',\r\n            width: '90%',\r\n            data: {\r\n                //shops: this.shops,\r\n                collectionId: this.collectionId,\r\n                releaseId: releaseId\r\n            }\r\n        });\r\n        this.modalRef.afterClosed().subscribe(() => {\r\n            this.loadPage();\r\n        });\r\n    }\r\n}\r\n\r\n","module.exports = \"<h1>Releases Table</h1>\\n\\n<mat-toolbar class=\\\"margin-right-25px margin-bottom-10px width-auto flex-shrink-0 background-color-secondary color-primary mat-elevation-z2\\\"\\n    [formGroup]=\\\"filter\\\">\\n\\n    <mat-icon matPrefix color=\\\"primary\\\">search</mat-icon>\\n    <mat-form-field>\\n        <input matInput formControlName=\\\"sku\\\" placeholder=\\\"SKU\\\">\\n    </mat-form-field>\\n\\n    <mat-form-field>\\n        <mat-label>RELEASE NAME</mat-label>\\n        <input matInput formControlName=\\\"name\\\" placeholder=\\\"Name\\\">\\n    </mat-form-field>\\n\\n    <mat-form-field>\\n        <mat-label>BRAND</mat-label>\\n        <mat-select placeholder=\\\"Select\\\" formControlName=\\\"brandId\\\">\\n            <mat-option>...</mat-option>\\n            <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\">\\n                {{brand.name}}\\n            </mat-option>\\n        </mat-select>\\n    </mat-form-field>\\n\\n    <mat-form-field>\\n        <mat-label>COLLECTION</mat-label>\\n        <mat-select placeholder=\\\"Select\\\" formControlName=\\\"collectionId\\\">\\n            <mat-option>...</mat-option>\\n            <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\n                {{collection.name}}\\n            </mat-option>\\n        </mat-select>\\n    </mat-form-field>\\n\\n    <mat-form-field>\\n        <mat-label>GENDER</mat-label>\\n        <mat-select placeholder=\\\"Select\\\" formControlName=\\\"genderId\\\">\\n            <mat-option>...</mat-option>\\n            <mat-option *ngFor=\\\"let gender of genders\\\" [value]=\\\"gender.id\\\">\\n                {{gender.name}}\\n            </mat-option>\\n        </mat-select>\\n    </mat-form-field>\\n    <span class=\\\"flex-grow-1\\\"></span>\\n    <button mat-raised-button color=\\\"primary\\\" [routerLink]=\\\"['../create']\\\">CREATE A NEW RELEASE</button>\\n</mat-toolbar>\\n\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\n\\n    <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"releases\\\" matSort [matSortActive]=\\\"releasesService.previousSortColumn\\\"\\n        [matSortDirection]=\\\"releasesService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\n\\n        <ng-container matColumnDef=\\\"name\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                RELEASE NAME\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.name }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"mainImage\\\">\\n            <th mat-header-cell *matHeaderCellDef></th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"display-flex flex-grow-1 height-100pct padding-left-0px width-100pct\\\">\\n                <div class=\\\"position-relative margin-top-5px\\\">\\n                    <img [src]=\\\"element.mainImage\\\" class=\\\"margin-auto\\\" alt=\\\"50\\\">\\n                </div>\\n            </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"sku\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                SKU\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.sku }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"styleId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                STYLE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getStyle(element.styleId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"brandId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                BRAND\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getBrand(element.brandId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"collectionId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                COLLECTION\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getCollection(element.collectionId) }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"categoryId\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                CATEGORY\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.categoryId }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"color\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                COLOR\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.color }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"releaseDate\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                OFFICIAL RELEASE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.releaseDate | date: 'dd/MM/yyyy' }} </td>\\n        </ng-container>\\n\\n        <ng-container matColumnDef=\\\"createdAt\\\">\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n                CREATION DATE\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.createdAt | date: 'dd/MM/yyyy HH:mm:ss' }} </td>\\n        </ng-container>\\n\\n        <!--ng-container matColumnDef=\\\"HOT\\\">\\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n            HOT\\n          </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{ element.hot? 'Yes':'No' }} </td>\\n      </ng-container-->\\n\\n        <ng-container matColumnDef=\\\"actions\\\">\\n            <th mat-header-cell *matHeaderCellDef>\\n            </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"min-width-80px\\\">\\n                <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\" [routerLink]=\\\"['../edit', element.id]\\\">\\n                    <mat-icon>edit</mat-icon>\\n                </button>\\n                <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Delete\\\" [routerLink]=\\\"['../delete', element.id]\\\">\\n                    <mat-icon>delete</mat-icon>\\n                </button>\\n            </td>\\n        </ng-container>\\n\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\n        </tr>\\n\\n    </table>\\n\\n</div>\\n\\n<div class=\\\"margin-right-25px padding-top-5px padding-bottom-5px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\n    <span class=\\\"flex-grow-1\\\"></span>\\n    <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\n        (page)=\\\"onPage()\\\">\\n    </mat-paginator>\\n</div>\\n\\n<http-request-indicator [urlExpressions]=\\\"[\\n        configService.config.apiConfigs.releases.apiEndpoint + '.*']\\\">\\n</http-request-indicator>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\n.width-90pct {\\n  width: 90% !important; }\\n\\n.width-100pct {\\n  width: 100% !important; }\\n\\n.height-90pct {\\n  height: 90% !important; }\\n\\n.height-100pct {\\n  height: 100% !important; }\\n\\n.padding-left-0px {\\n  padding-left: 0px !important; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1yZWxlYXNlcy9jb21wb25lbnRzL3JlbGVhc2VzLXRhYmxlL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLXJlbGVhc2VzXFxjb21wb25lbnRzXFxyZWxlYXNlcy10YWJsZVxccmVsZWFzZXMtdGFibGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZjs7QUFFRDtFQUNJLFlBQVcsRUFDZDs7QUFFRDtFQUNJLGdCQUFlO0VBQ2YsbUJBQWtCO0VBQ2xCLHdCQUF1QixFQUMxQjs7QUFFRDs7RUFFSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxxQkFDSixFQUFDOztBQUVEO0VBQ0ksc0JBQXFCLEVBQ3hCOztBQUVEO0VBQ0ksdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksdUJBQXNCLEVBQ3pCOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksNkJBQ0osRUFBQzs7QUFFRDtFQUNJLHdCQUF1QjtFQUN2Qix3QkFBdUIsRUFDMUIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLXJlbGVhc2VzL2NvbXBvbmVudHMvcmVsZWFzZXMtdGFibGUvcmVsZWFzZXMtdGFibGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxufVxyXG5cclxudGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZCB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxudGQsXHJcbnRoIHtcclxuICAgIHdpZHRoOiAyNSU7XHJcbn1cclxuXHJcbi5wYWRkaW5nLWJvdHRvbS0xMHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4XHJcbn1cclxuXHJcbi53aWR0aC05MHBjdHtcclxuICAgIHdpZHRoOiA5MCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLndpZHRoLTEwMHBjdHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5oZWlnaHQtOTBwY3R7XHJcbiAgICBoZWlnaHQ6IDkwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaGVpZ2h0LTEwMHBjdHtcclxuICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucGFkZGluZy1sZWZ0LTBweHtcclxuICAgIHBhZGRpbmctbGVmdDogMHB4ICFpbXBvcnRhbnRcclxufVxyXG5cclxuaW1ne1xyXG4gICAgaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n//\r\nimport { MatPaginator, MatSort } from '@angular/material';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n//\r\nimport { ConfigService } from '../../../../../config/services/config.service';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\n//\r\nimport { ReleasesService } from \"../../services/releases.service\";\r\nimport { Release, ReleasesListResponse } from \"../../models/releases\";\r\nimport { GENDERS, Gender } from '../../models/gender';\r\nimport { Brand } from '../../../ms-brands/models/brand';\r\nimport { Style } from '../../../ms-style/models/style';\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Component({\r\n    selector: 'releases-table',\r\n    templateUrl: './releases-table.component.html',\r\n    styleUrls: ['./releases-table.component.scss']\r\n})\r\nexport class ReleasesTableComponent implements OnInit {\r\n\r\n    brands: Array<Brand>;\r\n\r\n    styles: Array<Style>;\r\n\r\n    collections: Array<Collection>;\r\n\r\n    displayedColumns: string[] = [     \r\n        'name',\r\n        'mainImage',\r\n        'sku',\r\n        'styleId',\r\n        'brandId',\r\n        'collectionId',\r\n        'categoryId',\r\n        'color',\r\n        'releaseDate',\r\n        'createdAt',\r\n        'actions'\r\n    ];\r\n\r\n    filter: FormGroup;\r\n\r\n    filterValueChanges: Subscription;\r\n\r\n    genders: Gender[] = GENDERS;\r\n\r\n    @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n    @ViewChild(MatSort) sort: MatSort;\r\n\r\n    totalLength: number = 0;\r\n\r\n    releasesList: Subscription;\r\n\r\n    releases: Array<Release> = [];\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public configService: ConfigService,\r\n        public errorHandlingService: ErrorHandlingService,\r\n        public releasesService: ReleasesService,        \r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.brands = this.activatedRoute.snapshot.data.brands;\r\n        this.collections = this.activatedRoute.snapshot.data.collections;\r\n        this.styles = this.activatedRoute.snapshot.data.styles;\r\n\r\n        this.filter = this.createFilterFormGroup();\r\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\r\n        this.paginator.pageIndex = 0;\r\n\r\n        // Begin observing style list changes.\r\n        this.releasesList = this.releasesService.releasesList.subscribe((stylesList: any) => {\r\n            this.totalLength = stylesList.dataCount;\r\n            this.releases = stylesList.data;\r\n            if (this.releases.length === 0 && this.totalLength > 0 && this.releasesService.previousPageSize > 0) {\r\n                this.releasesService.previousPageIndex =\r\n                    Math.ceil(this.totalLength / this.releasesService.previousPageSize) - 1;\r\n                this.releasesService.reloadReleases().subscribe(response => {\r\n                    this.releasesService.releasesList.next(response);\r\n                },\r\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    ngAfterViewInit() {\r\n        this.loadPage();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.releasesList.unsubscribe();\r\n        this.filterValueChanges.unsubscribe();\r\n    }\r\n\r\n    createFilterFormGroup() {\r\n        let group: any = {};\r\n        group['sku'] = new FormControl('');\r\n        group['name'] = new FormControl('');\r\n        group['brandId'] = new FormControl('');\r\n        group['collectionId'] = new FormControl('');\r\n        group['genderId'] = new FormControl('');\r\n        return new FormGroup(group);\r\n    }\r\n\r\n    loadPage() {\r\n        this.releasesService.getReleases(\r\n            Object.assign({}, this.filter.value),\r\n            this.sort.active, this.sort.direction,\r\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: ReleasesListResponse) => {\r\n                this.releasesService.releasesList.next(response);\r\n            },\r\n                (err: HandledError) => {\r\n                    this.errorHandlingService.handleUiError(errorKey, err)\r\n                });\r\n    }\r\n\r\n    onFilter() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onSort() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onPage() {\r\n        this.loadPage();\r\n    }\r\n\r\n    getBrand(id: string) {\r\n        try {\r\n            return this.brands.find(brand => {\r\n                return brand.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getCollection(id: string) {\r\n        try {\r\n            return this.collections.find(collection => {\r\n                return collection.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getStyle(id: string) {\r\n        try {\r\n            return this.styles.find(style => {\r\n                return style.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n}\r\n\r\n","export class Color {\r\n    id?: string;\r\n    name?: string;\r\n    color?: string;\r\n};\r\n\r\nexport const COLORS: Color[] = [\r\n    { id: 'black', name: 'black', color: '' },\r\n    { id: 'blue', name: 'blue', color: '' },\r\n    { id: 'green', name: 'green', color: '' },    \r\n    { id: 'orange', name: 'orange', color: '' },\r\n    { id: 'red', name: 'red', color: '' },    \r\n    { id: 'violet', name: 'violet', color: '' },    \r\n    { id: 'white', name: 'white', color: '' },\r\n    { id: 'yellow', name: 'yellow', color: '' }\r\n];\r\n","export class Gender {\r\n    id?: string;\r\n    name?: string;\r\n};\r\n\r\nexport const GENDERS: Gender[] = [\r\n    { id: 'm', name: 'Male' },\r\n    { id: 'f', name: 'Female' },\r\n    { id: 'c', name: 'Children' }\r\n];\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n//\nimport { DeleteReleaseComponent } from './components/delete-release/delete-release.component';\nimport { EditReleaseComponent } from './components/edit-release/edit-release.component';\nimport { NewReleaseComponent } from './components/new-release/new-release.component';\nimport { ReleasesTableComponent } from './components/releases-table/releases-table.component';\n//\nimport { ConfigResolveService } from '../../../config/services/config-resolve.service';\nimport { BrandsResolveService } from '../ms-brands/services/brands-resolve.service';\nimport { ShopsResolveService } from '../ms-shops/services/shops-resolve.service';\nimport { CollectionsResolveService } from '../ms-collections/services/collections-resolve.service';\nimport { ReleaseAllImagesResolveService } from '../ms-releases/services/releases-images-resolve.service';\nimport { StylesResolveService } from '../ms-style/services/styles-resolve.service';\nimport { CategoriesResolveService } from '../ms-categories/services/categories-resolve.service';\nimport { IdResolveService } from '../../../routing/services/id-resolve.service';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ReleasesTableComponent,\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n            categories: CategoriesResolveService,\n            collections: CollectionsResolveService,\n            styles: StylesResolveService\n        }\n    },\n    {\n        path: 'create',\n        component: NewReleaseComponent,\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n            categories: CategoriesResolveService,\n            collections: CollectionsResolveService,\n            styles: StylesResolveService\n\n        },\n        data: { closeRouteCommand: ['../'] }\n    },\n    {\n        path: 'edit/:id',\n        component: EditReleaseComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            releaseId: IdResolveService,\n            brands: BrandsResolveService,\n            collections: CollectionsResolveService,\n            releaseAllImages: ReleaseAllImagesResolveService,\n            categories: CategoriesResolveService,\n            styles: StylesResolveService,\n            shops: ShopsResolveService,\n        },\n        data: { closeRouteCommand: ['../../'] }\n    },\n    {\n        path: 'delete/:id',\n        component: DeleteReleaseComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            releaseId: IdResolveService,\n        },\n        data: { closeRouteCommand: ['../../'] }\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class MsReleasesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n//\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule, MatPaginatorModule } from '@angular/material';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatTableModule } from '@angular/material';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCardModule } from '@angular/material/card';\nimport {\n  MatAutocompleteModule, MatCheckboxModule, MatDatepickerModule, MatDialogModule,\n  MatNativeDateModule, MatRadioModule, MatSliderModule, MatSlideToggleModule\n} from '@angular/material';\n\nimport { TranslateModule } from '@ngx-translate/core';\n//\nimport { HttpRequestIndicatorModule } from '../../../http-request-indicator/http-request-indicator.module';\nimport { AskBeforeRefreshModule } from '../../../ui/modules/ask-before-refresh/ask-before-refresh.module';\nimport { ErrorMessagesModule } from '../../../ui/modules/error-messages/error-messages.module';\nimport { ImagesCardModule } from '../../../ui/modules/images-card/images-card.module';\n//\nimport { ReleasesTableComponent } from './components/releases-table/releases-table.component';\nimport { ReleasesCollectionTableComponent } from './components/releases-collection-table/releases-collection-table.component';\nimport { MsReleasesRoutingModule } from './ms-releases-routing.module';\nimport { ReleaseFormComponent } from './components/release-form/release-form.component';\nimport { NewReleaseComponent } from './components/new-release/new-release.component';\nimport { NewReleaseModalComponent } from './components/new-release-modal/new-release-modal.component';\nimport { EditReleaseComponent } from './components/edit-release/edit-release.component';\nimport { EditReleaseModalComponent } from './components/edit-release-modal/edit-release-modal.component';\nimport { EditReleaseFormComponent } from './components/edit-release-form/edit-release-form.component';\nimport { DeleteReleaseComponent } from './components/delete-release/delete-release.component';\n\nimport { MsOffersModule } from '../ms-offers/ms-offers.module';\nimport { NewOfferComponent } from '../ms-offers/components/new-offer/new-offer.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FlexLayoutModule,\n    MatAutocompleteModule,\n    MatBottomSheetModule,\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatDatepickerModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatNativeDateModule,\n    MatPaginatorModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatSlideToggleModule,\n    MatSortModule,\n    MatTableModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    TranslateModule,\n    MsReleasesRoutingModule,\n    //\n    AskBeforeRefreshModule,\n    ErrorMessagesModule,\n    HttpRequestIndicatorModule,\n    ImagesCardModule, \n    MsOffersModule  \n     \n  ],\n  declarations: [\n    DeleteReleaseComponent,\n    EditReleaseComponent,\n    EditReleaseFormComponent,\n    EditReleaseModalComponent,\n    NewReleaseComponent,\n    NewReleaseModalComponent,\n    ReleaseFormComponent,\n    ReleasesTableComponent,\n    ReleasesCollectionTableComponent\n\n  ],\n  exports: [\n    DeleteReleaseComponent,\n    EditReleaseComponent,\n    EditReleaseFormComponent,\n    EditReleaseModalComponent,\n    NewReleaseComponent,\n    NewReleaseModalComponent,\n    ReleaseFormComponent,\n    ReleasesTableComponent,\n    ReleasesCollectionTableComponent\n  ],\n  entryComponents: [\n    NewOfferComponent,\n    NewReleaseModalComponent,\n    EditReleaseModalComponent\n  ]\n})\nexport class MsReleasesModule { }\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n//\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//\r\nimport { ErrorHandlingService } from '../../../../error-handling/services/error-handling.service';\r\nimport { ReleasesImgesService } from './releases-images.service';\r\n//import { setTranslationsstyles.service\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ReleaseAllImagesResolveService implements Resolve<any> {\r\n    constructor(\r\n        private releasesImgesService: ReleasesImgesService,\r\n        private translate: TranslateService,\r\n        private errorHandlingService: ErrorHandlingService) {\r\n        //setTranslations(this.translate, TRANSLATIONS);\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<any> | Promise<any> | any {\r\n        return this.releasesImgesService.getReleaseAllImages(route.paramMap.get('id')).pipe(\r\n            map(brands => brands.data),\r\n            catchError((err) => {\r\n                this.errorHandlingService.handleUiError(errorKey, err);\r\n                return of(null);\r\n            }));\r\n        ;\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n//\r\nimport { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { Release, ReleasesImagesListResponse, ReleaseResponse, ReleaseImage, ReleaseImagesResponse, MainImage } from '../models/releases';\r\nimport { ErrorHandlingHttpService } from '../../../../error-handling/services/error-handling-http.service';\r\n\r\nexport const ASCENDING = 'asc';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ReleasesImgesService {\r\n\r\n    apiEndpoint: string;\r\n\r\n    previousFilter: any = {};\r\n\r\n    previousSortColumn: string = 'name';\r\n\r\n    previousSortDirection: string = 'asc';\r\n\r\n    previousPageIndex: number = 0;\r\n\r\n    previousPageSize: number = 10;\r\n\r\n    public releasesImagesList = new BehaviorSubject<ReleasesImagesListResponse>({ dataCount: 0, data: [] });\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private http: ErrorHandlingHttpService) {\r\n        this.apiEndpoint = this.configService.config.apiConfigs.releases.apiEndpoint;\r\n    }\r\n\r\n    getReleasesImages(filter: any, sortColumn: string, sortDirection: string, pageIndex: number, pageSize: number): Observable<ReleasesImagesListResponse> {\r\n        this.previousFilter = filter;\r\n        this.previousSortColumn = sortColumn;\r\n        this.previousSortDirection = sortDirection;\r\n        this.previousPageIndex = pageIndex;\r\n        this.previousPageSize = pageSize;\r\n\r\n        let queryParams = this.formatQueryParams(\r\n            filter,\r\n            sortColumn, sortDirection,\r\n            pageIndex, pageSize);\r\n        return this.http.get<ReleasesImagesListResponse>(this.apiEndpoint + queryParams);\r\n    }\r\n\r\n    reloadReleasesImages(): Observable<ReleasesImagesListResponse> {\r\n        console.log(\"reload\");\r\n        return this.getReleasesImages(\r\n            this.previousFilter,\r\n            this.previousSortColumn, this.previousSortDirection,\r\n            this.previousPageIndex, this.previousPageSize);\r\n    }\r\n\r\n    postReleaseImage(id: string, data: ReleaseImage): Observable<ReleaseImage> {\r\n        return this.http.post<ReleaseImage>(this.apiEndpoint + id + '/images/', JSON.stringify(data));\r\n    }\r\n\r\n    patchReleaseMainImage(id: string, data: MainImage): Observable<any> {\r\n        return this.http.patch<any>(this.apiEndpoint + id + '/mainImage/', JSON.stringify(data));\r\n    }\r\n\r\n    postReleaseImageAll(id: string, data: ReleaseImage[]): Observable<ReleaseImage> {\r\n        return this.http.post<ReleaseImage>(this.apiEndpoint + id + '/images/', JSON.stringify(data));\r\n    }\r\n\r\n    getReleaseImage(id: string): Observable<ReleaseImagesResponse> {\r\n        return this.http.get<ReleaseImagesResponse>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    getReleaseAllImages(id: string): Observable<ReleaseImagesResponse> {\r\n        return this.http.get<ReleaseImagesResponse>(this.apiEndpoint + id + '/images/');\r\n    }\r\n\r\n    patchReleaseImage(data: ReleaseImage): Observable<ReleaseImage> {\r\n        return this.http.patch<ReleaseImage>(this.apiEndpoint + data.id + '/', JSON.stringify(data));\r\n    }\r\n\r\n    deleteReleaseImage(id: string, idImage: string): Observable<any> {\r\n        return this.http.delete<any>(this.apiEndpoint + id + '/images/' + idImage + '/');\r\n    }\r\n\r\n    formatQueryParams(filter?: any, sortColumn?: string, sortDirection?: string, pageIndex?: number, pageSize?: number): string {\r\n        let queryParams = '';\r\n\r\n        if (filter.sku && filter.sku.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `sku=${filter.sku}`;\r\n        }\r\n\r\n        if (filter.name && filter.name.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `name=${filter.name}`;\r\n        }\r\n\r\n        if (filter.brand && filter.brand.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `brand=${filter.brand}`;\r\n        }\r\n\r\n        if (filter.collection && filter.collection.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `collection=${filter.collection}`;\r\n        }\r\n\r\n        if (filter.category && filter.category.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `category=${filter.category}`;\r\n        }\r\n\r\n        if (sortColumn) {\r\n            let ordering = '';\r\n\r\n            if (sortDirection === 'desc') {\r\n                ordering = '-';\r\n            }\r\n            ordering += sortColumn;\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `ordering=${ordering}`;\r\n        }\r\n\r\n        if (pageIndex !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `offset=${pageIndex * pageSize}`;\r\n        }\r\n\r\n        if (pageSize !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `limit=${pageSize}`;\r\n        }\r\n\r\n        return queryParams;\r\n    }\r\n\r\n    getAllReleasesImages(): Observable<Release[]> {\r\n        return this.http.get<{ data: Release[] }>(this.apiEndpoint)\r\n            .pipe(map(response => {\r\n                return response.data;\r\n            }));\r\n    }\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n//\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//\r\nimport { ErrorHandlingService } from '../../../../error-handling/services/error-handling.service';\r\nimport { StylesService } from './styles.service';\r\n//import { setTranslationsstyles.service\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class StylesResolveService implements Resolve<any> {\r\n    constructor(\r\n        private stylesService: StylesService,\r\n        private translate: TranslateService,\r\n        private errorHandlingService: ErrorHandlingService) {\r\n        //setTranslations(this.translate, TRANSLATIONS);\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n        return this.stylesService.getAllStyles().pipe(\r\n            map(brands => brands),\r\n            catchError((err) => {\r\n                this.errorHandlingService.handleUiError(errorKey, err);\r\n                return of(null);\r\n            }));\r\n    }\r\n}\r\n"],"sourceRoot":""}