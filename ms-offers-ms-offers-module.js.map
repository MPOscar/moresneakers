{"version":3,"sources":["webpack:///./src/app/ms-back-office/modules/ms-brands/services/brands-resolve.service.ts","webpack:///./src/app/ms-back-office/modules/ms-brands/services/brands.service.ts","webpack:///./src/app/ms-back-office/modules/ms-shops/models/currency.ts","webpack:///./src/app/ms-back-office/modules/ms-shops/models/shops.ts"],"names":[],"mappings":"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","file":"ms-offers-ms-offers-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n//\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//\r\nimport { ErrorHandlingService } from '../../../../error-handling/services/error-handling.service';\r\nimport { BrandsService } from './brands.service';\r\n//import { setTranslations } from '@c/ngx-translate';\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class BrandsResolveService implements Resolve<any> {\r\n    constructor(\r\n        private brandsService: BrandsService,\r\n        private translate: TranslateService,\r\n        private errorHandlingService: ErrorHandlingService) {\r\n        //setTranslations(this.translate, TRANSLATIONS);\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n        return this.brandsService.getAllBrands().pipe(\r\n            map(brands => brands),\r\n            catchError((err) => {\r\n                this.errorHandlingService.handleUiError(errorKey, err);\r\n                return of(null);\r\n            }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ErrorHandlingHttpService } from '../../../../error-handling/services/error-handling-http.service';\r\n//\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { Brand } from '../models/brand';\r\nimport { BrandsListResponse, BrandResponse } from '../models/brand';\r\n\r\nexport const ASCENDING = 'asc';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BrandsService {\r\n\r\n    apiEndpoint: string;\r\n\r\n    previousFilter: any = {};\r\n\r\n    previousSortColumn: string = 'createdAt';\r\n\r\n    previousSortDirection: string = 'desc';\r\n\r\n    previousPageIndex: number = 0;\r\n\r\n    previousPageSize: number = 10;\r\n\r\n    public brandsList = new BehaviorSubject<BrandsListResponse>({ dataCount: 0, data: [] });\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private http: ErrorHandlingHttpService) {\r\n            this.apiEndpoint = this.configService.config.apiConfigs.brands.apiEndpoint;\r\n    }\r\n\r\n    //\r\n    // Begin functions that most services have.\r\n    //\r\n\r\n    getBrands(filter: any, sortColumn: string, sortDirection: string, pageIndex: number, pageSize: number): Observable<BrandsListResponse> {\r\n        this.previousFilter = filter;\r\n        this.previousSortColumn = sortColumn;\r\n        this.previousSortDirection = sortDirection;\r\n        this.previousPageIndex = pageIndex;\r\n        this.previousPageSize = pageSize;\r\n\r\n        let queryParams = this.formatQueryParams(\r\n            filter,\r\n            sortColumn, sortDirection,\r\n            pageIndex, pageSize);\r\n\r\n        return this.http.get<BrandsListResponse>(this.apiEndpoint + queryParams);\r\n    }\r\n\r\n    //\r\n    // Call this function to repeat the previous query, after deleting\r\n    // a brand for example.\r\n    //\r\n\r\n    reloadBrands(): Observable<BrandsListResponse> {\r\n        return this.getBrands(\r\n            this.previousFilter,\r\n            this.previousSortColumn, this.previousSortDirection,\r\n            this.previousPageIndex, this.previousPageSize);\r\n    }\r\n\r\n    postBrand(data: Brand): Observable<Brand> {\r\n        return this.http.post<Brand>(this.apiEndpoint, JSON.stringify(data));\r\n    }\r\n\r\n    getBrand(id: string): Observable<BrandResponse> {\r\n        return this.http.get<BrandResponse>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    postBrandLinkedShops(id: string, data: Array<string>): Observable<Brand> {\r\n        return this.http.post<Brand>(this.apiEndpoint + id + '/shops/', JSON.stringify(data));\r\n    }\r\n\r\n    getBrandLinkedShops(id: string): Observable<any> {\r\n        return this.http.get<any>(this.apiEndpoint + id + '/shops/');\r\n    }\r\n\r\n    putBrand(data: Brand): Observable<Brand> {\r\n        return this.http.put<Brand>(this.apiEndpoint + data.id + '/', JSON.stringify(data));\r\n    }\r\n\r\n    deleteBrand(id: string): Observable<any> {\r\n        return this.http.delete<any>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    formatQueryParams(filter?: any, sortColumn?: string, sortDirection?: string, pageIndex?: number, pageSize?: number): string {\r\n        let queryParams = '';\r\n\r\n        if (filter.name && filter.name.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `name=${filter.name}`;\r\n        }\r\n\r\n        /*if (filter.collection && filter.collection.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `collection=${filter.collection}`;\r\n        }*/\r\n\r\n        if (sortColumn) {\r\n            let ordering = '';\r\n\r\n            if (sortDirection === 'desc') {\r\n                ordering = '-';\r\n            }\r\n            ordering += sortColumn;\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `ordering=${ordering}`;\r\n        }\r\n\r\n        if (pageIndex !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `offset=${pageIndex * pageSize}`;\r\n        }\r\n\r\n        if (pageSize !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `limit=${pageSize}`;\r\n        }\r\n\r\n        return queryParams;\r\n    }\r\n\r\n    //\r\n    // End functions that most services have.\r\n    //\r\n\r\n    //\r\n    // Begin special functions specific to only this service.\r\n    //\r\n\r\n    getAllBrands(): Observable<Brand[]> {\r\n        return this.http.get<{ data: Brand[] }>(this.apiEndpoint)\r\n            .pipe(map(response => {\r\n                return response.data;\r\n            }));\r\n    }\r\n\r\n    //\r\n    // End special functions specific to only this service.\r\n    //\r\n\r\n}\r\n\r\n","export class Currency {\r\n    id?: string;\r\n    name?: string;\r\n};\r\n\r\nexport const CURRENCY: Currency[] = [\r\n    { id: 'USD', name: 'USD' },\r\n    { id: 'EUR', name: 'EUR' },\r\n];\r\n","import { Face, State, Status } from '../../../../ui/modules/images-card/models/face';\r\n\r\nexport class WeekHours {\r\n  dayOfWeek?: number;\r\n  openHour?: string;\r\n  closeHour?: string;\r\n  shopId?: string;\r\n  notWorking?: boolean;\r\n}\r\n\r\nexport class ShopImage {\r\n  id?: string;\r\n\r\n  createdBy?: string;\r\n\r\n  updatedBy?: string;\r\n\r\n  createdAt?: string;\r\n\r\n  updatedAt?: string;\r\n\r\n  fileName?: string;\r\n\r\n  imgUrl?: string\r\n\r\n  state?: State;\r\n\r\n  status?: Status;\r\n\r\n  file?: File;\r\n\r\n  mainImage?: boolean;\r\n}\r\n\r\nexport class Shop {\r\n\r\n  active?: boolean;\r\n\r\n  address?: string;\r\n\r\n  brand?: string;\r\n\r\n  category?: string;\r\n\r\n  createdAt?: Date;\r\n\r\n  currency?: string;\r\n\r\n  createdBy?: Date;\r\n\r\n  description?: string;\r\n\r\n  faces?: Array<Face>;\r\n\r\n  id?: string;\r\n\r\n  images?: Array<Face>;\r\n\r\n  makeDeal?: boolean;\r\n\r\n  mainImage?: string;\r\n\r\n  name: string;\r\n\r\n  rank?: string;\r\n\r\n  region?: string;\r\n\r\n  country?: string;\r\n\r\n  shippingDetails?: string;\r\n\r\n  shippingCountries?: string;\r\n\r\n  countries?: any;\r\n\r\n  trackingListBaseUrl?: string;\r\n\r\n  updatedAt?: Date;\r\n\r\n  workingHours?: Array<WeekHours>;\r\n\r\n  linked?: boolean;\r\n\r\n  checked?: boolean;\r\n\r\n  zipCode?: string;\r\n  \r\n}\r\n\r\nexport class ShopsListResponse {\r\n  data: Shop[];\r\n  dataCount: number;\r\n}\r\n\r\nexport class ShopsResponse {\r\n  data: Shop;\r\n}\r\n\r\nexport class ShopsImagesListResponse {\r\n  data: Array<Face>;\r\n  dataCount: number;\r\n}\r\n\r\n\r\nexport class ShopImagesResponse {\r\n  data: Face[];\r\n}\r\n\r\nexport class EditShopModel extends Shop {\r\n\r\n  deletedFaces?: Array<string>;\r\n}"],"sourceRoot":""}