{"version":3,"sources":["webpack:///./src/app/ms-back-office/modules/ms-style/services/styles.service.ts","webpack:///./src/app/ui/modules/images-card/services/images.service.ts"],"names":[],"mappings":"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","file":"ms-releases-ms-releases-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n//\r\nimport { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { Style, StylesListResponse, StyleResponse } from '../models/style';\r\nimport { ErrorHandlingHttpService } from '../../../../error-handling/services/error-handling-http.service';\r\n//import { User, UsersListResponse, UsersListItem } from '../models/user';\r\n\r\nexport const ASCENDING = 'asc';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class StylesService {\r\n\r\n    apiEndpoint: string;\r\n\r\n    //selectedStyles = new BehaviorSubject<Array<UsersListItem>>([]);TODO\r\n\r\n    previousFilter: any = {}; \r\n\r\n    previousSortColumn: string = 'updatedAt';\r\n\r\n    previousSortDirection: string = 'desc';\r\n\r\n    previousPageIndex: number = 0;\r\n\r\n    previousPageSize: number = 10;\r\n\r\n    public stylesList = new BehaviorSubject<StylesListResponse>({ dataCount: 0, data: [] });\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private http: ErrorHandlingHttpService) {\r\n            this.apiEndpoint = this.configService.config.apiConfigs.styles.apiEndpoint;\r\n        }\r\n\r\n    getStyles(filter: any, sortColumn: string, sortDirection: string, pageIndex: number, pageSize: number): Observable<StylesListResponse> {\r\n        this.previousFilter = filter;\r\n        this.previousSortColumn = sortColumn;\r\n        this.previousSortDirection = sortDirection;\r\n        this.previousPageIndex = pageIndex;\r\n        this.previousPageSize = pageSize;\r\n\r\n        let queryParams = this.formatQueryParams(\r\n            filter,\r\n            sortColumn, sortDirection,\r\n            pageIndex, pageSize);\r\n        return this.http.get<StylesListResponse>(this.apiEndpoint + queryParams);\r\n    }\r\n\r\n    reloadStyles(): Observable<StylesListResponse> {\r\n        console.log(\"reload\");\r\n        return this.getStyles(\r\n            this.previousFilter,\r\n            this.previousSortColumn, this.previousSortDirection,\r\n            this.previousPageIndex, this.previousPageSize);\r\n    }\r\n\r\n    postStyle(data: Style): Observable<any> {\r\n        return this.http.post<any>(this.apiEndpoint, JSON.stringify(data));\r\n    }\r\n\r\n    postStyleLinkedShops(id: string, data: Array<string>): Observable<Style> {\r\n        return this.http.post<Style>(this.apiEndpoint + id + '/shops/', JSON.stringify(data));\r\n    }\r\n\r\n    getStyleLinkedShops(id: string): Observable<any> {\r\n        return this.http.get<any>(this.apiEndpoint + id + '/shops/');\r\n    }\r\n\r\n    getStyle(id: string): Observable<StyleResponse> {\r\n        return this.http.get<StyleResponse>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    putStyle(data: Style): Observable<Style> {\r\n        return this.http.put<Style>(this.apiEndpoint + data.id + '/', JSON.stringify(data));\r\n    }\r\n    \r\n    deleteStyle(id: string): Observable<any> {\r\n        return this.http.delete<any>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    formatQueryParams(filter?: any, sortColumn?: string, sortDirection?: string, pageIndex?: number, pageSize?: number): string {\r\n        let queryParams = '';\r\n\r\n        if (sortColumn) {\r\n            let ordering = '';\r\n\r\n            if (sortDirection === 'desc') {\r\n                ordering = '-';\r\n            }\r\n            ordering += sortColumn;\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `ordering=${ordering}`;\r\n        }\r\n\r\n        if (pageIndex !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `offset=${pageIndex * pageSize}`;\r\n        }\r\n\r\n        if (pageSize !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `limit=${pageSize}`;\r\n        }\r\n        \r\n        if (filter.sku && filter.sku.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `sku=${filter.sku}`;\r\n        }\r\n\r\n        if (filter.name && filter.name.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `name=${filter.name}`;\r\n        }\r\n\r\n        if (filter.brand && filter.brand.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `brand=${filter.brand}`;\r\n        }\r\n\r\n        if (filter.collection && filter.collection.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `collection=${filter.collection}`;\r\n        }\r\n\r\n        if (filter.category && filter.category.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `category=${filter.category}`;\r\n        }\r\n\r\n        return queryParams;\r\n    }\r\n\r\n    getAllStyles(): Observable<Style[]> {\r\n        return this.http.get<{ data: Style[] }>(this.apiEndpoint)\r\n            .pipe(map(response => {\r\n                return response.data;\r\n            }));\r\n    }\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n//\r\nimport { Observable } from 'rxjs';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { HttpHeadersInterceptorService, RequestOptions } from '../../../../error-handling/interceptors/http-headers-interceptor.service';\r\n\r\nimport { Face } from '../models/face';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImagesService {\r\n  baseUrl: string;\r\n\r\n  toEditFace: Face;\r\n\r\n  constructor(private http: HttpClient,\r\n              private httpHeaders: HttpHeadersInterceptorService,\r\n              private configService: ConfigService,\r\n  ) {\r\n    this.baseUrl = this.configService.config.apiConfigs.images.apiEndpoint;\r\n  }\r\n\r\n  postImage(image: File): Observable<any> {\r\n    const requestOptions: RequestOptions = { headers: this.httpHeaders.getHeaders() };\r\n    console.log(requestOptions);\r\n    requestOptions.headers = requestOptions.headers.delete('Content-Type');\r\n    const formData = new FormData();\r\n    formData.append('image', image);\r\n    return this.http.post<any>(this.baseUrl, formData, requestOptions);\r\n  }\r\n}\r\n"],"sourceRoot":""}