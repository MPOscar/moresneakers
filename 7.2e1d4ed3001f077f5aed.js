(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2Qrt":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("67Y/"),r=n("9Z1F"),o=n("F/XL"),l=n("pZIk"),a=n("oMNB"),s=n("CcnG"),u=n("A7o+"),p=function(){function t(t,e,n){this.dealsService=t,this.translate=e,this.errorHandlingService=n}return t.prototype.resolve=function(t){var e=this;return this.dealsService.getAllDeals().pipe(Object(i.a)(function(t){return t}),Object(r.a)(function(t){return e.errorHandlingService.handleUiError("Error",t),Object(o.a)(null)}))},t.ngInjectableDef=s.defineInjectable({factory:function(){return new t(s.inject(a.a),s.inject(u.k),s.inject(l.a))},token:t,providedIn:"root"}),t}()},"4IU8":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("aq+k"),r=n("26FU"),o=n("67Y/"),l=n("cmSp"),a=n("CcnG"),s=function(){function t(t,e){this.configService=t,this.http=e,this.previousFilter={},this.previousSortColumn="url",this.previousSortDirection="asc",this.previousPageIndex=0,this.previousPageSize=10,this.urlsList=new r.a({dataCount:0,data:[]}),this.apiEndpoint=this.configService.apiUrl+this.configService.config.apiConfigs.urls.apiEndpoint}return t.prototype.getUrls=function(t,e,n,i,r){this.previousFilter=t,this.previousSortColumn=e,this.previousSortDirection=n,this.previousPageIndex=i,this.previousPageSize=r;var o=this.formatQueryParams(t,e,n,i,r);return this.http.get(this.apiEndpoint+o)},t.prototype.reloadUrls=function(){return this.getUrls(this.previousFilter,this.previousSortColumn,this.previousSortDirection,this.previousPageIndex,this.previousPageSize)},t.prototype.postUrl=function(t){return this.http.post(this.apiEndpoint,JSON.stringify(t))},t.prototype.getUrl=function(t){return this.http.get(this.apiEndpoint+t+"/")},t.prototype.putUrl=function(t){return this.http.put(this.apiEndpoint+t.id+"/",JSON.stringify(t))},t.prototype.deleteUrl=function(t){return this.http.delete(this.apiEndpoint+t+"/")},t.prototype.formatQueryParams=function(t,e,n,i,r){var o="";if(t.url&&t.url.length>0&&(o+=o.length>0?"&":"?",o+="url="+t.url),e){var l="";"desc"===n&&(l="-"),o+=o.length>0?"&":"?",o+="ordering="+(l+=e)}return void 0!==i&&(o+=o.length>0?"&":"?",o+="offset="+i*r),void 0!==r&&(o+=o.length>0?"&":"?",o+="limit="+r),o},t.prototype.getAllUrls=function(){return this.http.get(this.apiEndpoint).pipe(Object(o.a)(function(t){return t.data}))},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(l.a),a.inject(i.a))},token:t,providedIn:"root"}),t}()},"5OrO":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("67Y/"),r=n("9Z1F"),o=n("F/XL"),l=n("pZIk"),a=n("4IU8"),s=n("CcnG"),u=n("A7o+"),p=function(){function t(t,e,n){this.urlsService=t,this.translate=e,this.errorHandlingService=n}return t.prototype.resolve=function(t){var e=this;return this.urlsService.getAllUrls().pipe(Object(i.a)(function(t){return t}),Object(r.a)(function(t){return e.errorHandlingService.handleUiError("Error",t),Object(o.a)(null)}))},t.ngInjectableDef=s.defineInjectable({factory:function(){return new t(s.inject(a.a),s.inject(u.k),s.inject(l.a))},token:t,providedIn:"root"}),t}()},Yf4f:function(t,e,n){"use strict";var i=n("CcnG");function r(t,e){return t/e}n.d(e,"a",function(){return o});var o=function(){function t(t){this.hostElement=t,this.imageBestFit={height:null,width:null}}return t.prototype.ngOnInit=function(){if(void 0===this.srcImage)throw new Error("Please you need to provide a valid image, file or url");this.container&&this.container instanceof i.ElementRef&&(this.container=this.container.nativeElement)},t.prototype.ngOnChanges=function(t){this.initializeImage()},Object.defineProperty(t.prototype,"loadImage",{get:function(){return null==this._loadImage&&(this._loadImage=this.hostElement.nativeElement),this._loadImage},set:function(t){this._loadImage=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.initializeImage()},t.prototype.initializeImage=function(){var t=this;if(this.loadImage.onload=function(){var e,n,i,o,l,a;t.imageAspectRatio=r(t.loadImage.naturalHeight,t.loadImage.naturalWidth),t.imageBestFit=(e=t.loadImage,n=t.container,i={height:null,width:null},o=t.imageAspectRatio||r(e.naturalHeight,e.naturalWidth),l=Math.ceil(n.clientWidth*o),a=Math.ceil(n.clientHeight/o),l>n.clientHeight||n.clientWidth>n.clientWidth?(i.height=n.clientHeight,i.width=a):(i.height=l,i.width=n.clientWidth),i),t.hostElement.nativeElement.width=t.imageBestFit.width,t.hostElement.nativeElement.height=t.imageBestFit.height},"string"==typeof this.srcImage)this.loadImage.src=this.srcImage;else{var e=new FileReader;e.onloadend=function(){t.loadImage.src=e.result},e.readAsDataURL(this.srcImage)}},t.prototype.imageIsBiggestThanAvailableSpace=function(){return this.loadImage.naturalHeight>this.container.clientHeight&&this.loadImage.naturalWidth>this.container.clientWidth},t}()},oMNB:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("aq+k"),r=n("26FU"),o=n("67Y/"),l=n("cmSp"),a=n("CcnG"),s=function(){function t(t,e){this.configService=t,this.http=e,this.previousFilter={},this.previousSortColumn="url",this.previousSortDirection="asc",this.previousPageIndex=0,this.previousPageSize=10,this.dealsList=new r.a({dataCount:0,data:[]}),this.apiEndpoint=this.configService.apiUrl+this.configService.config.apiConfigs.deals.apiEndpoint}return t.prototype.getDeals=function(t,e,n,i,r){this.previousFilter=t,this.previousSortColumn=e,this.previousSortDirection=n,this.previousPageIndex=i,this.previousPageSize=r;var o=this.formatQueryParams(t,e,n,i,r);return this.http.get(this.apiEndpoint+o)},t.prototype.reloadDeals=function(){return this.getDeals(this.previousFilter,this.previousSortColumn,this.previousSortDirection,this.previousPageIndex,this.previousPageSize)},t.prototype.postDeal=function(t){return this.http.post(this.apiEndpoint,JSON.stringify(t))},t.prototype.getDeal=function(t){return this.http.get(this.apiEndpoint+t+"/")},t.prototype.putDeal=function(t){return this.http.put(this.apiEndpoint+t.id+"/",JSON.stringify(t))},t.prototype.deleteDeal=function(t){return this.http.delete(this.apiEndpoint+t+"/")},t.prototype.formatQueryParams=function(t,e,n,i,r){var o="";if(t.url&&t.url.length>0&&(o+=o.length>0?"&":"?",o+="url="+t.url),t.shopId&&t.shopId.length>0&&(o+=o.length>0?"&":"?",o+="shopId="+t.shopId),e){var l="";"desc"===n&&(l="-"),o+=o.length>0?"&":"?",o+="ordering="+(l+=e)}return void 0!==i&&(o+=o.length>0?"&":"?",o+="offset="+i*r),void 0!==r&&(o+=o.length>0?"&":"?",o+="limit="+r),o},t.prototype.getAllDeals=function(){return this.http.get(this.apiEndpoint).pipe(Object(o.a)(function(t){return t.data}))},t.prototype.getAllDealsBy=function(t){return this.http.get(this.apiEndpoint+t).pipe(Object(o.a)(function(t){return t.data}))},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(l.a),a.inject(i.a))},token:t,providedIn:"root"}),t}()},sULy:function(t,e,n){"use strict";var i=n("CcnG"),r=n("Yf4f"),o=n("Ip0R"),l=n("ted9"),a=n("I8Xq"),s=n("bujt"),u=n("UodH"),p=n("dWZg"),c=n("lLAP"),h=n("wFw1"),f=n("A7o+"),d=n("Mr+X"),g=n("SMsm"),m=n("lzlj"),v=n("FVSy");n("gIcY"),n("y1OX"),n.d(e,"a",function(){return y}),n.d(e,"b",function(){return E});var y=i["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column}.mat-card-principal[_ngcontent-%COMP%]{padding:0;align-self:flex-start;height:150px;width:120px;margin-left:2px;margin-right:15px;margin-bottom:15px}.mat-card-images[_ngcontent-%COMP%]{padding:0;align-self:flex-start;height:100px;width:100px;margin-left:2px;margin-right:15px;margin-bottom:30px}mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.card-container[_ngcontent-%COMP%]{flex-wrap:wrap;margin-top:25px}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:250px}.image-card-btns[_ngcontent-%COMP%]{justify-content:flex-end}.img[_ngcontent-%COMP%]{width:100px;height:100px}.align-items-center[_ngcontent-%COMP%]{align-items:center}.mat-radio-label[_ngcontent-%COMP%]{height:40px!important}.width-250px[_ngcontent-%COMP%]{width:250px!important}.align-self-center[_ngcontent-%COMP%]{align-self:center!important}"]],data:{}});function I(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"img",[["class","height-100-pc width-100-pc"],["imageLoad",""],["src",""]],null,null,null,null,null)),i["\u0275did"](1,4800512,null,0,r.a,[i.ElementRef],{container:[0,"container"],srcImage:[1,"srcImage"]},null)],function(t,e){var n=e.component;t(e,1,0,i["\u0275nov"](e.parent,4),n.principal.imgUrl?n.principal.imgUrl:n.principal.file)},null)}function b(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[["class","display-flex justify-content-center width-100-pc"],["drop-files",""]],null,[[null,"filesOver"],[null,"filesChange"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"change"]],function(t,e,n){var r=!0,o=t.component;return"dragenter"===e&&(r=!1!==i["\u0275nov"](t,3).onDragEnter(n)&&r),"dragleave"===e&&(r=!1!==i["\u0275nov"](t,3).onDragLeave(n)&&r),"dragover"===e&&(r=!1!==i["\u0275nov"](t,3).onDragOver(n)&&r),"drop"===e&&(r=!1!==i["\u0275nov"](t,3).onDrop(n)&&r),"change"===e&&(r=!1!==i["\u0275nov"](t,3).onChangeFileInput(n.target.files)&&r),"filesOver"===e&&(r=!1!==o.fileOverDropZone(n)&&r),"filesChange"===e&&(r=!1!==o.filesChange(n)&&r),r},null,null)),i["\u0275did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"border-dotted":0,"border-dotted-drop":1}),i["\u0275did"](3,16384,[[1,4]],0,l.a,[i.ElementRef,a.a],{faceItems:[0,"faceItems"]},{filesOver:"filesOver",filesChange:"filesChange"}),(t()(),i["\u0275eld"](4,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,9,"div",[["class","padding-bottom-10px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Drop Files Here"])),(t()(),i["\u0275eld"](8,0,null,null,6,"button",[["class","border-none border-radius-5px"],["mat-stroked-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i["\u0275nov"](t,15).click()&&r),r},s.b,s.a)),i["\u0275did"](9,180224,null,0,u.b,[i.ElementRef,p.a,c.h,[2,h.a]],null,null),(t()(),i["\u0275ted"](10,0,[" "," "])),i["\u0275pid"](131072,f.j,[f.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](12,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,d.b,d.a)),i["\u0275did"](13,638976,null,0,g.a,[i.ElementRef,g.c,[8,null]],null,null),(t()(),i["\u0275ted"](-1,0,["add"])),(t()(),i["\u0275eld"](15,0,[["fileInput",1]],null,0,"input",[["accept","image/*"],["class","file-input glyphicon glyphicon-plus"],["multiple",""],["name","files"],["style","display:none"],["type","file"]],null,null,null,null,null))],function(t,e){var n=e.component,i=t(e,2,0,!n.fileIsOver,n.fileIsOver);t(e,1,0,"display-flex justify-content-center width-100-pc",i),t(e,3,0,n.faceItems),t(e,13,0)},function(t,e){t(e,8,0,i["\u0275nov"](e,9).disabled||null,"NoopAnimations"===i["\u0275nov"](e,9)._animationMode),t(e,10,0,i["\u0275unv"](e,10,0,i["\u0275nov"](e,11).transform("Select File"))),t(e,12,0,i["\u0275nov"](e,13).inline)})}function E(t){return i["\u0275vid"](0,[i["\u0275qud"](671088640,1,{dropFilesDirective:0}),(t()(),i["\u0275eld"](1,0,null,null,8,"div",[["class","display-flex flex-grow-1 flex-shrink-1 flex-direction-column padding-0px-25px-25px-25px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","align-self-center display-flex width-250px  flex-shrink-1 flex-direction-row card-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,3,"mat-card",[["class","border-2px-solid-black box-shadow-none flex-grow-1 margin-0 mat-card-principal mat-card"]],null,null,null,m.b,m.a)),i["\u0275did"](4,49152,[["imageContainer",4]],0,v.a,[],null,null),(t()(),i["\u0275and"](16777216,null,0,1,null,I)),i["\u0275did"](6,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[["class","display-flex flex-grow-1 flex-shrink-1 flex-direction-row card-container justify-content-initial"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,b)),i["\u0275did"](9,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,6,0,n.principal),t(e,9,0,!n.disabled)},null)}},ted9:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("CcnG"),r=n("wsWC"),o=(n("I8Xq"),function(){function t(t,e){this.hostElement=t,this.toastr=e,this.faceItems=[],this.filesOver=new i.EventEmitter,this.filesChange=new i.EventEmitter}return t.prototype.onDragEnter=function(t){this.filesOver.emit(!0)},t.prototype.onDragLeave=function(t){this.filesOver.emit(!1)},t.prototype.onDragOver=function(t){this.getTarnsfer(t).dropEffect="copy",this.preventAndStop(t),this.filesOver.emit(!0)},t.prototype.onDrop=function(t){this.preventAndStop(t);var e=this.getTarnsfer(t);e&&(console.log("drop"),this.addFiles(e.files),this.filesOver.emit(!1))},t.prototype.onChangeFileInput=function(t){console.log("change"),this.addFiles(t)},t.prototype.getTarnsfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype.preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.addFiles=function(t){for(var e in console.log(t),Object.getOwnPropertyNames(t)){var n=t[e];if(this.fileCanBeLoad(n)){var i=new r.a(n);this.faceItems&&(this.faceItems=[i],this.filesChange.emit(this.faceItems));break}}},t.prototype.fileIsInFiles=function(t){for(var e in this.faceItems){var n=this.faceItems[e];if(n.state===r.b.New&&n.file.name===t)return console.log("Existe"),!1}return!0},t.prototype.validateImage=function(t){var e=!0;return t&&t.size>0&&t.size>20971520?(e=!1,this.toastr.error("Image Size Error")):"image/jpeg"!==t.type&&"image/jpg"!==t.type&&"image/jp2"!==t.type&&"image/tiff"!==t.type&&"image/png"!==t.type&&"image/pgm"!==t.type&&"image/bmp"!==t.type&&(e=!1,this.toastr.error("Image Type Error")),e},t.prototype.fileCanBeLoad=function(t){return!(!this.fileIsInFiles(t.name)||!this.validateImage(t))},t.prototype.addImages=function(t){if(t.target.files&&t.target.files.length>0){for(var e=0,n=t.target.files;e<n.length;e++){var i=n[e];if(this.validateImage(i)){console.log("adding.......");var o={file:i,state:r.b.New,status:r.c.Pending,mainImage:!1};this.faceItems=this.faceItems?this.faceItems.concat([o]):[o]}break}t.target.value=""}},t}())},wsWC:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o});var i=function(t){return t[t.New=0]="New",t[t.Edited=1]="Edited",t[t.Deleted=2]="Deleted",t}({}),r=function(t){return t[t.Pending=0]="Pending",t[t.Uploading=1]="Uploading",t[t.Uploaded=2]="Uploaded",t[t.Error=3]="Error",t}({}),o=function(){return function(t){this.file=t,this.fileName=t.name,this.state=i.New,this.status=r.Pending}}()},y1OX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("CcnG"),r=(n("I8Xq"),n("ted9"),n("wsWC")),o=function(){function t(t,e){this.translate=t,this.toastr=e,this.disabled=!1,this.imageWidth=100,this.imageHeight=100,this._faceItems=[],this.fileIsOver=!1,this.deletedFace=new i.EventEmitter,this.propagateChange=function(t){}}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"faceItems",{get:function(){return this._faceItems},set:function(t){this._faceItems=t,this.propagateChange(this._faceItems)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){null!=t&&t.length>0&&(this._faceItems=t)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(){},t.prototype.validateImage=function(t){var e=!0;return t&&t.size>0&&t.size>20971520?(e=!1,this.toastr.error("Image Size Error")):"image/jpeg"!==t.type&&"image/jpg"!==t.type&&"image/jp2"!==t.type&&"image/tiff"!==t.type&&"image/png"!==t.type&&"image/pgm"!==t.type&&"image/bmp"!==t.type&&(e=!1,this.toastr.error("Image Type Error")),e},t.prototype.checkUploadStatusUploading=function(t){return t===r.c.Uploading},t.prototype.checkUploadStatusUploaded=function(t){return void 0===t||t===r.c.Uploaded},t.prototype.checkUploadStatusError=function(t){return t===r.c.Error},t.prototype.checkUploadStatusPending=function(t){return t===r.c.Pending},t.prototype.trackByFn=function(t,e){return this.trackByKey&&e[this.trackByKey]?e[this.trackByKey]:t},t.prototype.deleteFace=function(t){var e=this.faceItems.splice(t,1).pop();this.faceItems=this.faceItems.slice(),this.deletedFace.emit(e)},t.prototype.fileOverDropZone=function(t){this.fileIsOver=t},t.prototype.filesChange=function(t){console.log("here.."),this.faceItems=t,this.principal=this.faceItems[0]},t.prototype.setMainImage=function(t){this.principal=t,t.mainImage=!0,this.faceItems.forEach(function(t){t.mainImage=!1}),t.mainImage=!0},t.prototype.initialize=function(t){t?(this.principal=t,this.faceItems.push(t)):(this.principal=null,this.faceItems=[])},t}()}}]);