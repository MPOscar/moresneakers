{"version":3,"sources":["webpack:///./src/app/ms-back-office/modules/ms-offers/components/delete-offer/delete-offer.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/delete-offer/delete-offer.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/delete-offer/delete-offer.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/edit-offer/edit-offer.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/edit-offer/edit-offer.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/edit-offer/edit-offer.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/link-offers-collection/link-offers-collection-modal.component.css","webpack:///./src/app/ms-back-office/modules/ms-offers/components/link-offers-collection/link-offers-collection-modal.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/link-offers-collection/link-offers-collection-modal.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/new-offer/new-offer.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/new-offer/new-offer.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/new-offer/new-offer.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offer-form/offer-form.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offer-form/offer-form.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offer-form/offer-form.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-collection-table/offers-collection-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-collection-table/offers-collection-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-collection-table/offers-collection-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-release-table/offers-release-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-release-table/offers-release-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-release-table/offers-release-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-table/offers-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-table/offers-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-offers/components/offers-table/offers-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/models/shipping.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/models/status.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/models/time-zone.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/ms-offers-routing.module.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/ms-offers.module.ts","webpack:///./src/app/ms-back-office/modules/ms-offers/services/offers.service.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/models/releases.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/services/releases-resolve.service.ts","webpack:///./src/app/ms-back-office/modules/ms-releases/services/releases.service.ts"],"names":[],"mappings":"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","file":"default~ms-collections-ms-collections-module~ms-offers-ms-offers-module~ms-releases-ms-releases-modu~9021e546.js","sourcesContent":["module.exports = \"\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtb2ZmZXJzL2NvbXBvbmVudHMvZGVsZXRlLW9mZmVyL2RlbGV0ZS1vZmZlci5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\n\n\n//import { setTranslations } from '../../../../../ngx-translate';\n//import { TRANSLATIONS } from './i18n/delete-user.component.translations';\nimport { Offer } from '../../models/offer';\nimport { OffersService } from '../../services/offers.service';\n\nconst titleKey = 'Delete';\n\nconst deleteBtnKey = 'Delete';\n\nconst messageKey = 'Are you sure you want to delete this Offer?';\n\nconst errorKey = 'Error';\n\nconst deletedMessageKey = 'Deleted';\n\n@Component({\n  selector: 'delete-offer',\n  templateUrl: './delete-offer.component.html',\n  styleUrls: ['./delete-offer.component.scss']\n})\nexport class DeleteOfferComponent implements AfterViewInit, OnInit {\n\n  data: Offer;\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  offerId: string;\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    private dialog: MatDialog,\n    public offersService: OffersService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngAfterViewInit() {\n    this.getOffer(this.offerId);\n  }\n\n  ngOnInit() {\n    this.offerId = this.activatedRoute.snapshot.data.OfferId;\n  }\n\n  getOffer(offerId: string) {\n    this.offersService.getOffer(this.offerId).subscribe(response => {\n      this.data = response.data;\n      this.confirmDeleteOffer();\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n    )\n  }\n\n  close(){\n    this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, {relativeTo: this.activatedRoute});\n  }\n\n  confirmDeleteOffer() {\n    this.modalRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        titleKey: titleKey,\n        okBtnKey: deleteBtnKey,\n        messageKey: messageKey,\n        messageParam: { param: this.data.name }\n      }\n    });\n   \n    this.modalRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.deleteOffer();\n      } else {\n        this.close();\n      }\n    });\n  }\n\n  deleteOffer(): void {\n    this.offersService.deleteOffer(this.data.id).subscribe(response => {\n      this.offersService.reloadOffers().subscribe(response => {\n        this.offersService.offersList.next(response);\n        this.toastr.success(deletedMessageKey);\n        this.close();\n      },\n        (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.close();\n      }\n    )\n  }\n}\n\n\n\n","module.exports = \"<h1>EDIT OFFER</h1>\\r\\n<offer-form *ngIf=\\\"data\\\"\\r\\n    [data]=\\\"data\\\"\\r\\n    [shops]=\\\"dialogData.shops\\\"\\r\\n    [shopSlected]=\\\"shop\\\"\\r\\n    [releaseId]=\\\"dialogData.releaseId\\\" \\r\\n    (accept)=\\\"submit($event)\\\"\\r\\n    [validationErrors]=\\\"validationErrors\\\"\\r\\n    (cancel)=\\\"cancel()\\\"\\r\\n    (dataChange)=\\\"dataChanged()\\\">\\r\\n</offer-form>\\r\\n\\r\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n.mat-dialog-container {\\n  padding: 10px; }\\n\\n.mat-dialog-content {\\n  height: 60%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n.max-width-60-pct {\\n  max-width: 60% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9lZGl0LW9mZmVyL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLW9mZmVyc1xcY29tcG9uZW50c1xcZWRpdC1vZmZlclxcZWRpdC1vZmZlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYixhQUFZO0VBQ1osdUJBQXNCO0VBQ3RCLGFBQ0YsRUFBQzs7QUFFRDtFQUNFLGNBQWEsRUFDZDs7QUFFRDtFQUNFLFlBQVc7RUFDWCxpQkFBZ0I7RUFDaEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWUsRUFDaEI7O0FBRUQ7RUFDRSxhQUFZO0VBQ1osdUJBQXNCO0VBQ3RCLGNBQWE7RUFDYixhQUFZO0VBQ1osaUJBQWdCO0VBQ2hCLG1CQUFrQjtFQUNsQixvQkFBbUIsRUFDcEI7O0FBRUQ7RUFDRSxnQkFBZTtFQUNmLFlBQVc7RUFDWCxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSwwQkFBeUIsRUFDMUIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLW9mZmVycy9jb21wb25lbnRzL2VkaXQtb2ZmZXIvZWRpdC1vZmZlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgaGVpZ2h0OiAxMDAlXHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGhlaWdodDogNjAlO1xyXG4gICAgbWF4LWhlaWdodDogODJ2aDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZGlhbG9nLWFjdGlvbnMge1xyXG4gICAgcGFkZGluZzogMTBweCAwO1xyXG4gIH1cclxuICBcclxuICBtYXQtY2FyZCB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gICAgaGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiAxNTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICBtYXQtaWNvbiB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICB3aWR0aDogMjRweDtcclxuICAgIGhlaWdodDogMjRweDtcclxuICB9XHJcbiAgXHJcbiAgLm1heC13aWR0aC02MC1wY3R7XHJcbiAgICBtYXgtd2lkdGg6IDYwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICBcclxuIl19 */\"","import { Component, AfterViewInit, Inject, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { Observable } from 'rxjs';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef, MatSnackBar } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { Offer } from '../../models/offer';\nimport { Shop } from '../../../ms-shops/models/shops';\nimport { OffersService } from '../../services/offers.service';\n//import { setTranslations } from '@c/ngx-translate';\n\nconst errorKey = 'Error';\n\nconst updatedBrandMessageKey = 'Updated';\n\n@Component({\n  selector: 'edit-offer',\n  templateUrl: './edit-offer.component.html',\n  styleUrls: ['./edit-offer.component.scss']\n})\n\n@Mixin([CanDeactivateMixin])\nexport class EditOfferComponent implements AfterViewInit, CanDeactivateMixin {\n\n  data: Offer;\n\n  validationErrors: ValidationErrors;\n\n  offers: Array<Offer>;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard';\n\n  saveMessageKey = 'Discard ';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  offerId: string;\n\n  shop: Shop;\n\n  constructor(\n    public dialogRef: MatDialogRef<EditOfferComponent>,\n    public activatedRoute: ActivatedRoute,\n    public dialog: MatDialog,\n    public offersService: OffersService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    public snackBar: MatSnackBar,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    @Inject(MAT_DIALOG_DATA) public dialogData: any\n  ) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngOnInit() {\n    this.offerId = this.dialogData.offerId;\n  }\n  ngAfterViewInit() {\n    this.getOffer();\n  }\n\n  getOffer() {\n    this.offersService.getOffer(this.offerId).subscribe(response => {\n      this.data = response.data;\n      this.shop = this.dialogData.shops? this.dialogData.shops.find((shop) => shop.id === this.data.shopId): new Shop;\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n    )\n    \n    \n\n  }\n\n  submit(data: Offer) {\n    delete data.updatedAt;\n    delete data.createdAt;\n    this.updateOffer(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  updateOffer(data: Offer) {\n    this.offersService.putOffer(data).subscribe(response => {\n      this.unsavedChanges = false;\n      this.close();\n      this.toastr.success(updatedBrandMessageKey);\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.validationErrors = error.formErrors;\n      });\n  }\n}","module.exports = \":host {\\r\\n  display: flex;\\r\\n  flex-grow: 1;\\r\\n  flex-direction: column;\\r\\n  height: 100%\\r\\n}\\r\\n\\r\\n.mat-dialog-container {\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-actions {\\r\\n  padding: 10px 0;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9saW5rLW9mZmVycy1jb2xsZWN0aW9uL2xpbmstb2ZmZXJzLWNvbGxlY3Rpb24tbW9kYWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLFlBQVk7Q0FDYjs7QUFFRDtFQUNFLGNBQWM7Q0FDZjs7QUFFRDtFQUNFLGdCQUFnQjtDQUNqQiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtb2ZmZXJzL2NvbXBvbmVudHMvbGluay1vZmZlcnMtY29sbGVjdGlvbi9saW5rLW9mZmVycy1jb2xsZWN0aW9uLW1vZGFsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBoZWlnaHQ6IDEwMCVcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1hY3Rpb25zIHtcclxuICBwYWRkaW5nOiAxMHB4IDA7XHJcbn1cclxuIl19 */\"","module.exports = \"<h1>Link New Offers</h1>\\r\\n<!--mat-toolbar class=\\\"margin-right-25px margin-bottom-10px width-auto flex-shrink-0 background-color-secondary color-primary mat-elevation-z2\\\"\\r\\n  [formGroup]=\\\"filter\\\">\\r\\n\\r\\n  <mat-icon matPrefix color=\\\"primary\\\">search</mat-icon-->\\r\\n<!--mat-form-field>\\r\\n    <input matInput formControlName=\\\"name\\\" placeholder=\\\"Name\\\">\\r\\n  </mat-form-field-->\\r\\n\\r\\n<!--mat-form-field>\\r\\n    <mat-label>Collection</mat-label>\\r\\n    <mat-select placeholder=\\\"Collection\\\" formControlName=\\\"collection\\\">\\r\\n        <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\r\\n          {{collection.name}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n  </mat-form-field-->\\r\\n\\r\\n<!--span class=\\\"flex-grow-1\\\"></span>\\r\\n  <button mat-raised-button color=\\\"primary\\\" (click)=\\\"addNewOfferModal()\\\">CREATE A OFFER</button>\\r\\n</mat-toolbar-->\\r\\n\\r\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\r\\n\\r\\n  <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"offers\\\" matSort [matSortActive]=\\\"offersService.previousSortColumn\\\"\\r\\n    [matSortDirection]=\\\"offersService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\r\\n\\r\\n\\r\\n    <ng-container matColumnDef=\\\"linked\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\">\\r\\n        <mat-checkbox [checked]=\\\"element.checked\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Link' | translate }}\\\" (click)=\\\"linked(element)\\\"></mat-checkbox>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"sku\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        SKU\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseSku(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"RELEASE NAME\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        RELEASE NAME\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseName(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"COLLECTION\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        COLLECTION\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getCollectionNameRelease(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"COLOR\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        COLOR\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseColor(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"OFFICIAL RELEASE\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        OFFICIAL RELEASE\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseDate(element.releaseId) | date: 'dd/MM/yyyy' }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"SHOP\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        SHOP\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getShop(element.shopId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"STATUS\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        STATUS\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.status }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"ACTION\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Edit\\\" (click)=\\\"editOfferModal(element.id)\\\">\\r\\n          <mat-icon>edit</mat-icon>\\r\\n        </button>\\r\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Delete\\\" (click)=\\\"getOfferToDelete(element)\\\">\\r\\n          <mat-icon>delete</mat-icon>\\r\\n        </button>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\r\\n    </tr>\\r\\n\\r\\n  </table>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"margin-right-25px padding-top-15px padding-bottom-15px flex-shrink-0 display-flex\\\">\\r\\n  <span class=\\\"flex-grow-1\\\"></span>\\r\\n  <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\r\\n    (page)=\\\"onPage()\\\">\\r\\n  </mat-paginator>\\r\\n</div>\\r\\n<div class=\\\"margin-right-25px padding-top-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n  <button mat-raised-button type=\\\"buttom\\\" color=\\\"primary\\\" (click)=\\\"save()\\\">{{ 'Save' | translate }}</button>\\r\\n\\r\\n  <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"close()\\\">{{ 'Cancel' | translate }}</button>\\r\\n\\r\\n</div>\"","import { AfterViewInit, Component, Inject, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n//\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { timeout } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//import { setTranslations } from '@cognitec/ngx-translate';\r\n//import { TRANSLATIONS } from './i18n/annotation-tool-modal.component.translations';\r\nimport { MatPaginator, MatSort } from '@angular/material';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\n//\r\nimport { Offer } from '../../models/offer';\r\n//import { Landmarks } from '../../models/landmarks';\r\nimport { ElementRef } from '@angular/core';\r\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\r\n//\r\nimport { OffersService } from \"../../services/offers.service\";\r\nimport { OffersListResponse } from \"../../models/offer\";\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\nimport { Release } from '../../../ms-releases/models/releases';\r\nimport { Shop } from '../../../ms-shops/models/shops';\r\nimport { CollectionsService } from '../../../ms-collections/services/collections.service';\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Component({\r\n  selector: 'link-offers-collection-modal',\r\n  templateUrl: './link-offers-collection-modal.component.html',\r\n  styleUrls: ['./link-offers-collection-modal.component.css'],\r\n})\r\n\r\nexport class LinkOffersCollentionModalComponent implements OnInit, AfterViewInit {\r\n\r\n  displayedColumns: string[] = [\r\n    'linked',\r\n    'sku',\r\n    'RELEASE NAME',\r\n    'COLLECTION',\r\n    'COLOR',\r\n    'OFFICIAL RELEASE',\r\n    'SHOP',\r\n    'STATUS', \r\n    ];\r\n\r\n  collections: Array<Collection>;\r\n\r\n  filter: FormGroup;\r\n\r\n  filterValueChanges: Subscription;\r\n\r\n  //modalRef: MatDialogRef<NewOfferComponent | EditOfferComponent | ConfirmDialogComponent>;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  totalLength: number = 0;\r\n\r\n  offersList: Subscription;\r\n\r\n  offers: Array<Offer> = [];\r\n\r\n  releases: Array<Release>;\r\n\r\n  shops: Array<Shop>;\r\n\r\n  @Input() releaseId: string;\r\n\r\n  answer = false;\r\n\r\n  flag: boolean = true;\r\n\r\n  imageSrc: any = null;\r\n\r\n  linkedOffers: Array<string> = [];\r\n\r\n  oldLinkedOffers: Array<string> = [];\r\n\r\n  constructor(element: ElementRef,\r\n    breakpointObserver: BreakpointObserver,\r\n    public dialogRef: MatDialogRef<LinkOffersCollentionModalComponent>,\r\n    public errorHandlingService: ErrorHandlingService,\r\n    public offersService: OffersService,\r\n    private toastr: ToastrService,\r\n    private translateService: TranslateService,\r\n    public collectionsService: CollectionsService,\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: any) {\r\n    //setTranslations(this.translateService, TRANSLATIONS);\r\n    breakpointObserver.observe([\r\n      Breakpoints.Medium,\r\n      Breakpoints.Large,\r\n      Breakpoints.HandsetLandscape,\r\n      Breakpoints.HandsetPortrait\r\n    ]).subscribe(result => {\r\n      if (result.matches) {\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.filter = this.createFilterFormGroup();\r\n    this.collectionsService.getCollectionLinkedOffers(this.dialogData.collectionId).subscribe(response => {\r\n      this.linkedOffers = response.data; \r\n      this.offers.forEach((offer) => {\r\n        this.isLinked(offer.id);\r\n      });  \r\n    },\r\n      (error: HandledError) => {\r\n        this.errorHandlingService.handleUiError(errorKey, error);\r\n      });\r\n\r\n    // Begin observing style list changes.\r\n    this.offersList = this.offersService.offersList.subscribe((offersList: any) => {\r\n      this.totalLength = offersList.dataCount;\r\n      this.offers = offersList.data;\r\n      this.offers.forEach((offer) => {\r\n        this.isLinked(offer.id);\r\n      }); \r\n      if (this.offers.length === 0 && this.totalLength > 0 && this.offersService.previousPageSize > 0) {\r\n        this.offersService.previousPageIndex =\r\n          Math.ceil(this.totalLength / this.offersService.previousPageSize) - 1;\r\n        this.offersService.reloadOffers().subscribe(response => {\r\n          this.offersService.offersList.next(response);\r\n        },\r\n          (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.loadPage();\r\n  }\r\n\r\n  onAccept() {\r\n    this.answer = true;\r\n    this.close();\r\n  }\r\n\r\n  onCancel() {\r\n    this.answer = false;\r\n    this.close();\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.close();\r\n  }\r\n\r\n  createFilterFormGroup() {\r\n    let group: any = {};\r\n    group['releaseId'] = new FormControl('');\r\n    //group['collection'] = new FormControl('');\r\n    return new FormGroup(group);\r\n  }\r\n\r\n  loadPage() {\r\n    this.offersService.getOffers(\r\n      Object.assign({}, this.filter.value),\r\n      this.sort.active, this.sort.direction,\r\n      this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: OffersListResponse) => {\r\n        this.offersService.offersList.next(response);\r\n      },\r\n        (err: HandledError) => {\r\n          this.errorHandlingService.handleUiError(errorKey, err)\r\n        });\r\n  }\r\n\r\n  linked(offer: Offer) {\r\n    offer.linked = !offer.linked;\r\n    if (offer.linked) {\r\n      this.linkedOffers = [...this.linkedOffers, offer.id];\r\n    } else {\r\n      let indexLinked = this.linkedOffers.findIndex((val) => val === offer.id);\r\n      if (indexLinked > -1) {\r\n        let linked: Array<string> = [];\r\n        this.linkedOffers.forEach((OfferId, index) => {\r\n          if (index != indexLinked) {\r\n            linked = [...linked, OfferId]\r\n          }\r\n        });\r\n        this.linkedOffers = linked;\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  save() {\r\n    this.collectionsService.postCollectionLinkedOffers(this.dialogData.collectionId, this.linkedOffers).subscribe(response => {\r\n      this.close();\r\n      this.toastr.success(\"Saved\");\r\n    },\r\n      (error: HandledError) => {\r\n        this.errorHandlingService.handleUiError(errorKey, error);\r\n      });\r\n  }\r\n\r\n  isLinked(id: string) {\r\n    let isLinked = this.linkedOffers.findIndex(offerId => offerId === id) > -1;\r\n    if (isLinked) {\r\n      let index = this.offers.findIndex(offer => offer.id === id);\r\n      this.offers[index].linked = true;\r\n      this.offers[index].checked = true;\r\n    } else {\r\n      let index = this.offers.findIndex(offer => offer.id === id);\r\n      this.offers[index].linked = false;\r\n      this.offers[index].checked = false;\r\n    }\r\n  }\r\n\r\n  getReleaseName(id: string) {\r\n    try {\r\n        return this.dialogData.releases.find(release => {\r\n            return release.id === id;\r\n        }).name;\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n\r\n}\r\n\r\ngetReleaseSku(id: string) {\r\n    try {\r\n        return this.dialogData.releases.find(release => {\r\n            return release.id === id;\r\n        }).sku;\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n\r\n}\r\n\r\ngetReleaseDate(id: string) {\r\n    try {\r\n        return this.dialogData.releases.find(release => {\r\n            return release.id === id;\r\n        }).updatedAt;\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n\r\n}\r\n\r\ngetReleaseColor(id: string) {\r\n    try {\r\n        return this.dialogData.releases.find(release => {\r\n            return release.id === id;\r\n        }).color;\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n\r\n}\r\n\r\ngetCollectionNameRelease(id: string) {\r\n    try {\r\n        let collectionId = this.dialogData.releases.find(release => {\r\n            return release.id === id;\r\n        }).collectionId;\r\n\r\n        return this.dialogData.collections.find(collection => {\r\n            return collection.id === collectionId;\r\n        }).name;\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n\r\n}\r\n\r\n  getShop(id: string) {\r\n    try {\r\n      return this.dialogData.shops.find(shop => {\r\n        return shop.id === id;\r\n      }).name;\r\n    }\r\n    catch (err) {\r\n      return;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","module.exports = \"<h1>OFFER CREATOR</h1>\\n<offer-form class=\\\"flex-grow-1\\\"\\n    [data]=\\\"data\\\"  \\n    [customized]=\\\"dialogData.customized\\\"\\n    [shops]=\\\"dialogData.shops\\\" \\n    [releases]=\\\"dialogData.releases\\\"  \\n    [releaseId]=\\\"dialogData.releaseId\\\"     \\n    (accept)=\\\"submit($event)\\\"\\n    (cancel)=\\\"cancel()\\\"\\n    [validationErrors]=\\\"validationErrors\\\"\\n    (dataChange)=\\\"dataChanged()\\\">\\n</offer-form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 99%; }\\n\\n.mat-dialog-content {\\n  height: 100%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9uZXctb2ZmZXIvRTpcXFBST0dSQU1BQ0lPTiBJSUlcXG1vcmVzbmVha2Vycy1iYWNrb2ZmaWNlL3NyY1xcYXBwXFxtcy1iYWNrLW9mZmljZVxcbW9kdWxlc1xcbXMtb2ZmZXJzXFxjb21wb25lbnRzXFxuZXctb2ZmZXJcXG5ldy1vZmZlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYixhQUFZO0VBQ1osdUJBQXNCO0VBQ3RCLFlBQ0YsRUFBQzs7QUFFRDtFQUNFLGFBQVk7RUFDWixpQkFBZ0I7RUFDaEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWUsRUFDaEIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLW9mZmVycy9jb21wb25lbnRzL25ldy1vZmZlci9uZXctb2ZmZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGhlaWdodDogOTklXHJcbiAgfVxyXG4gICAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MnZoO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctYWN0aW9ucyB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgfSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent, } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { Offer } from '../../models/offer';\nimport { OffersService } from '../../services/offers.service';\nimport { BaseRouteComponent } from '../../../../../routing/components/base-route-component';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { Shop } from '../../../ms-shops/models/shops';\n\n\nconst errorKey = 'Error';\n\nconst savedMessageKey = 'Saved';\n\n@Component({\n  selector: 'new-offer',\n  templateUrl: './new-offer.component.html',\n  styleUrls: ['./new-offer.component.scss']\n})\n@Mixin([CanDeactivateMixin])\nexport class NewOfferComponent implements CanDeactivateMixin, OnInit {\n\n  data: Offer = {\n    name: \"\",\n    description: \"\",\n    raffle: true\n\n  };\n\n  shops: Array<Shop>;\n\n  releases: Array<Release>;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n\n  validationErrors: ValidationErrors;\n\n  constructor(\n    public dialogRef: MatDialogRef<NewOfferComponent>,\n    public activatedRoute: ActivatedRoute,\n    public offersService: OffersService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    public dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public dialogData: any\n  ) {\n  }\n\n  ngOnInit() {\n    this.shops = this.activatedRoute.snapshot.data.shops;\n    this.releases = this.activatedRoute.snapshot.data.releases;\n  }\n  submit(data: Offer) {\n    this.createOffer(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  createOffer(data: Offer) {\n    this.offersService.postOffer(data).subscribe(response => {\n      this.unsavedChanges = false;\n      this.close();\n      this.toastr.success(savedMessageKey);\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.validationErrors = error.formErrors;\n      });\n  }\n\n}\n","module.exports = \"<form class=\\\"flex-grow-1 min-height-0 display-flex flex-direction-column\\\" [askBeforeRefresh]=\\\"formGroup.dirty\\\" [formGroup]=\\\"formGroup\\\"\\r\\n  novalidate role=\\\"form\\\" (ngSubmit)=\\\"submitClicked()\\\" autocomplete=\\\"off\\\" inputFocus>\\r\\n\\r\\n  <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column padding-bottom-25px\\\">\\r\\n\\r\\n    <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n      <div [fxFlex]=\\\"100\\\" fxLayout=\\\"row\\\" class=\\\"padding-top-10px\\\">\\r\\n\\r\\n        <div [fxFlex]=\\\"25\\\" class=\\\"margin-right-25px\\\">\\r\\n\\r\\n          <mat-radio-group *ngIf=\\\"!customized\\\" formControlName=\\\"raffle\\\">\\r\\n\\r\\n            <div class=\\\"display-flex padding-bottom-25px\\\" fxLayout=\\\"row\\\">\\r\\n\\r\\n              <div class=\\\"display-flex margin-right-25px\\\">\\r\\n\\r\\n                <mat-radio-button value=\\\"true\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\">Release</mat-radio-button>\\r\\n\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"display-flex\\\">\\r\\n\\r\\n                <mat-radio-button value=\\\"false\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\">Rafle</mat-radio-button>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </mat-radio-group>\\r\\n\\r\\n          <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n            <mat-label>Shops</mat-label>\\r\\n\\r\\n            <mat-select placeholder=\\\"Select Shop\\\" formControlName=\\\"shopId\\\" required>\\r\\n\\r\\n              <mat-option *ngFor=\\\"let shop of shops\\\" [value]=\\\"shop.id\\\" (click)=\\\"changeShop(shop)\\\">\\r\\n\\r\\n                {{shop.name}}\\r\\n\\r\\n              </mat-option>\\r\\n\\r\\n            </mat-select>\\r\\n\\r\\n          </mat-form-field>\\r\\n\\r\\n          <mat-form-field class=\\\"width-100pc\\\" *ngIf=\\\"!releaseId\\\">\\r\\n\\r\\n            <mat-label>Releases</mat-label>\\r\\n\\r\\n            <mat-select placeholder=\\\"Select Release\\\" formControlName=\\\"releaseId\\\" required>\\r\\n\\r\\n              <mat-option *ngFor=\\\"let release of releases\\\" [value]=\\\"release.id\\\">\\r\\n\\r\\n                {{release.name}}\\r\\n\\r\\n              </mat-option>\\r\\n\\r\\n            </mat-select>\\r\\n\\r\\n          </mat-form-field>\\r\\n\\r\\n\\r\\n\\r\\n          <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n            <mat-label>Shipping</mat-label>\\r\\n\\r\\n            <mat-select placeholder=\\\"Select Status\\\" formControlName=\\\"shipping\\\" required>\\r\\n\\r\\n              <mat-option *ngFor=\\\"let _shipping of shipping\\\" [value]=\\\"_shipping.id\\\">\\r\\n\\r\\n                {{_shipping.name}}\\r\\n\\r\\n              </mat-option>\\r\\n\\r\\n            </mat-select>\\r\\n\\r\\n          </mat-form-field>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div [fxFlex]=\\\"75\\\" fxLayout=\\\"column\\\" class=\\\"margin-left-10px\\\">\\r\\n\\r\\n          <div fxLayout=\\\"row\\\">\\r\\n\\r\\n            <div [fxFlex]=\\\"25\\\" fxLayout=\\\"column\\\">\\r\\n\\r\\n              <mat-card class=\\\"display-flex background-color-secondary flex-direction-column flex-shrink-1\\\">\\r\\n                <div class=\\\"image-container flex-grow-1\\\" #imageContainer>\\r\\n                  <img class=\\\"img\\\" imageLoad [srcImage]=\\\"shopSlected.mainImage? shopSlected.mainImage : ''\\\" [container]=\\\"imageContainer\\\" src=\\\"\\\">\\r\\n                </div>\\r\\n              </mat-card>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div [fxFlex]=\\\"60\\\" fxLayout=\\\"row\\\" class=\\\"margin-left-25px\\\">\\r\\n\\r\\n              <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                <h3>{{ shopSlected.name }}</h3>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div [fxFlex]=\\\"100\\\" fxLayout=\\\"row\\\">\\r\\n\\r\\n            <div [fxFlex]=\\\"30\\\" fxLayout=\\\"column\\\" class=\\\"margin-right-25px\\\">\\r\\n\\r\\n              <div fxLayout=\\\"row\\\" class=\\\"margin-top-18px flex-grow-0\\\">\\r\\n\\r\\n                <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                  <mat-form-field class=\\\"width-90pct\\\">\\r\\n\\r\\n                    <mat-label>Retail Price</mat-label>\\r\\n\\r\\n                    <input matInput type=\\\"number\\\" formControlName=\\\"price\\\" required>\\r\\n\\r\\n                  </mat-form-field>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                  <mat-form-field class=\\\"width-100pct\\\">\\r\\n\\r\\n                    <mat-label>Currency</mat-label>\\r\\n\\r\\n                    <mat-select placeholder=\\\"Select Shop\\\">\\r\\n\\r\\n                      <mat-option *ngFor=\\\"let _currency of currency\\\" [value]=\\\"_currency.id\\\">\\r\\n\\r\\n                        {{_currency.name}}\\r\\n\\r\\n                      </mat-option>\\r\\n\\r\\n                    </mat-select>\\r\\n\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pc\\\">\\r\\n\\r\\n                <mat-label>Status</mat-label>\\r\\n\\r\\n                <mat-select placeholder=\\\"Select Status\\\" formControlName=\\\"status\\\" required>\\r\\n\\r\\n                  <mat-option *ngFor=\\\"let state of status\\\" [value]=\\\"state.id\\\">\\r\\n\\r\\n                    {{state.name}}\\r\\n\\r\\n                  </mat-option>\\r\\n\\r\\n                </mat-select>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <div *ngIf=\\\"formGroup.get('raffle').value === 'true'\\\" fxLayout=\\\"column\\\" class=\\\"margin-top-18px flex-grow-0\\\">\\r\\n\\r\\n                <mat-label>Release Time</mat-label>\\r\\n\\r\\n                <div fxLayout=\\\"row\\\" class=\\\"margin-top-18px flex-grow-0\\\">\\r\\n\\r\\n                  <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                    <mat-form-field class=\\\"width-90pct\\\">\\r\\n\\r\\n                      <mat-label>Time</mat-label>\\r\\n\\r\\n                      <input matInput atp-time-picker class=\\\"cursor-pointer\\\" value=\\\"00:00\\\" />\\r\\n\\r\\n                    </mat-form-field>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                  <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                    <mat-form-field class=\\\"width-100pct\\\">\\r\\n\\r\\n                      <mat-label>Time Zone</mat-label>\\r\\n\\r\\n                      <mat-select placeholder=\\\"Select Shop\\\">\\r\\n\\r\\n                        <mat-option *ngFor=\\\"let _timeZone of timeZone\\\" [value]=\\\"_timeZone.id\\\">\\r\\n\\r\\n                          {{_timeZone.name}}\\r\\n\\r\\n                        </mat-option>\\r\\n\\r\\n                      </mat-select>\\r\\n\\r\\n                    </mat-form-field>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n\\r\\n              <div *ngIf=\\\"formGroup.get('raffle').value === 'false'\\\" fxLayout=\\\"column\\\" class=\\\"margin-top-18px flex-grow-0\\\">\\r\\n\\r\\n                <mat-label>Raffle Time</mat-label>\\r\\n\\r\\n                <div fxLayout=\\\"row\\\" class=\\\"margin-top-18px flex-grow-0\\\">\\r\\n\\r\\n                  <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                    <mat-form-field class=\\\"width-90pct\\\">\\r\\n\\r\\n                      <mat-label>Start</mat-label>\\r\\n\\r\\n                      <input matInput atp-time-picker class=\\\"cursor-pointer\\\" value=\\\"00:00\\\" />\\r\\n\\r\\n                    </mat-form-field>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                  <div [fxFlex]=\\\"50\\\">\\r\\n\\r\\n                    <mat-form-field class=\\\"width-100pct\\\">\\r\\n\\r\\n                      <mat-label>End</mat-label>\\r\\n\\r\\n                      <input matInput atp-time-picker class=\\\"cursor-pointer\\\" value=\\\"00:00\\\" />\\r\\n\\r\\n                    </mat-form-field>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pct\\\">\\r\\n\\r\\n                <mat-label>Sale Price</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"text\\\">\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-form-field class=\\\"width-100pct\\\">\\r\\n\\r\\n                <mat-label>Sale Percentage</mat-label>\\r\\n\\r\\n                <input matInput type=\\\"number\\\" formControlName=\\\"salePercentage\\\" required>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <div>\\r\\n\\r\\n                <mat-checkbox value=\\\"primary\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Display on Whats New' | translate }}\\\">Display on What's New</mat-checkbox>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div [fxFlex]=\\\"50\\\" fxLayout=\\\"column\\\" class=\\\"margin-right-25px margin-left-25px\\\">\\r\\n\\r\\n              <mat-form-field>\\r\\n\\r\\n                <mat-label>Description</mat-label>\\r\\n\\r\\n                <textarea matInput formControlName=\\\"description\\\"></textarea>\\r\\n\\r\\n              </mat-form-field>\\r\\n\\r\\n              <h3>Links</h3>\\r\\n\\r\\n              <div fxLayout=\\\"column\\\" class=\\\"border flex-grow-1 overflow-auto display-flex max-height-350px\\\">\\r\\n\\r\\n                <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column padding-bottom-25px\\\">\\r\\n\\r\\n                  <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n                    <!--table class=\\\"width-100pct\\\" mat-table [dataSource]=\\\"links\\\" matSort matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\r\\n\\r\\n                      <ng-container matColumnDef=\\\"checkbox\\\">\\r\\n\\r\\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n\\r\\n                            <mat-checkbox value=\\\"primary\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\"></mat-checkbox>\\r\\n\\r\\n                          </td>\\r\\n\\r\\n                      </ng-container>\\r\\n\\r\\n                      <ng-container matColumnDef=\\\"text\\\">\\r\\n\\r\\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n                          Text\\r\\n                        </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element\\\"> {{ element.text }} </td>\\r\\n\\r\\n                      </ng-container>\\r\\n\\r\\n                      <ng-container matColumnDef=\\\"url\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n                          Url\\r\\n                        </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element\\\"> {{ element.url }} </td>\\r\\n                      </ng-container>\\r\\n\\r\\n                      <ng-container matColumnDef=\\\"actions\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n                        </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n                          <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\" [routerLink]=\\\"['../edit', element.id]\\\">\\r\\n                            <mat-icon>edit</mat-icon>\\r\\n                          </button>\\r\\n                          <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\" [routerLink]=\\\"['../delete', element.id]\\\">\\r\\n                            <mat-icon>delete</mat-icon>\\r\\n                          </button>\\r\\n                        </td>\\r\\n                      </ng-container>\\r\\n\\r\\n                      <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n                      <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\r\\n                      </tr>\\r\\n\\r\\n                    </table-->\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"margin-left-25px margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n                  <mat-checkbox class=\\\"margin-top-10px margin-right-25px\\\" value=\\\"primary\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\">Check All</mat-checkbox>\\r\\n\\r\\n                  <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\">\\r\\n                    <mat-icon>edit</mat-icon>\\r\\n                  </button>\\r\\n\\r\\n                  <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Delete\\\">\\r\\n                    <mat-icon>delete</mat-icon>\\r\\n                  </button>\\r\\n\\r\\n                  <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Delete\\\">\\r\\n                    <mat-icon>delete</mat-icon>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"margin-right-25px padding-top-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n    <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save' | translate }}</button>\\r\\n\\r\\n    <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"cancelClicked()\\\">{{ 'Cancel' | translate }}</button>\\r\\n\\r\\n  </div>\\r\\n</form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n.height-34px {\\n  height: 34px !important; }\\n\\n.width-100pc {\\n  width: 100%; }\\n\\ntd.mat-cell {\\n  border: none !important; }\\n\\nth.mat-header-cell {\\n  border: none !important; }\\n\\ntr.mat-header-row {\\n  background-color: #f1f1f1; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlci1mb3JtL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLW9mZmVyc1xcY29tcG9uZW50c1xcb2ZmZXItZm9ybVxcb2ZmZXItZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsYUFBWSxFQUNmOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksMEJBQXlCLEVBQzVCOztBQUVEO0VBQ0ksd0JBQXVCO0VBQ3ZCLHdCQUF1QixFQUMxQiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtb2ZmZXJzL2NvbXBvbmVudHMvb2ZmZXItZm9ybS9vZmZlci1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuXHJcbi5oZWlnaHQtMzRweHtcclxuICAgIGhlaWdodDogMzRweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ud2lkdGgtMTAwcGN7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxudGQubWF0LWNlbGwge1xyXG4gICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbnRoLm1hdC1oZWFkZXItY2VsbCB7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxudHIubWF0LWhlYWRlci1yb3cge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTsgXHJcbn1cclxuXHJcbmltZ3tcclxuICAgIGhlaWdodDogNjBweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuIl19 */\"","import { ChangeDetectionStrategy, Component, Input, OnInit, } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\r\nimport { formatDate } from '@angular/common';\r\n//\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//\r\nimport { BaseReactiveFormComponent } from '../../../../../ui/components/base-reactive-form/base-reactive-form-component';\r\nimport { Offer } from '../../models/offer';\r\nimport { Release } from '../../../ms-releases/models/releases';\r\nimport { Shop } from '../../../ms-shops/models/shops';\r\nimport { CURRENCY, Currency } from '../../../ms-shops/models/currency';\r\nimport { STATUS, Status } from '../../models/status';\r\nimport { SHIPPING, Shipping } from '../../models/shipping';\r\nimport { TIMEZONE, TimeZone } from '../../models/time-zone';\r\n\r\n@Component({\r\n    selector: 'offer-form',\r\n    templateUrl: './offer-form.component.html',\r\n    styleUrls: ['./offer-form.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class OfferFormComponent extends BaseReactiveFormComponent<Offer> implements OnInit {\r\n\r\n    currency: Currency[] = CURRENCY;\r\n\r\n    release: FormControl;\r\n\r\n    @Input() customized: boolean;\r\n\r\n    @Input() releases: Array<Release>;\r\n\r\n    @Input() releaseId: string;\r\n\r\n    @Input() shops: Array<Shop>;\r\n\r\n    status: Array<Status> = STATUS;\r\n\r\n    shipping: Array<Shipping> = SHIPPING;\r\n\r\n    timeZone: Array<TimeZone> = TIMEZONE;\r\n\r\n    raffle: boolean;\r\n\r\n    @Input() shopSlected: Shop = {\r\n        name:'',\r\n        mainImage: ''\r\n    };\r\n\r\n    displayedColumns: string[] = [\r\n        'checkbox',\r\n        'text',\r\n        'url',\r\n        'actions'\r\n    ];\r\n\r\n    links: any[] = [{ text: \"lalala\", url: \"url\" }, { text: \"lalala\", url: \"url\" }, { text: \"lalala\", url: \"url\" }, { text: \"lalala\", url: \"url\" }, { text: \"lalala\", url: \"url\" }]\r\n\r\n    constructor(\r\n        public formBuilder: FormBuilder,\r\n        translateService: TranslateService) {\r\n        super(translateService);\r\n        //setTranslations(this.translateService, TRANSLATIONS);TODO\r\n    }\r\n\r\n    ngOnInit() {\r\n        let validationsErrors: any[] = [\r\n            {\r\n                type: 'required',\r\n                key: 'Required Field',\r\n                params: null,\r\n                translation: ''\r\n            }\r\n        ];\r\n\r\n        this.validationErrorMessages = validationsErrors;\r\n\r\n        this.createFormGroup();\r\n    }\r\n\r\n    createFormGroup() {\r\n        this.raffle = this.data.raffle;\r\n        this.formGroup = new FormGroup({\r\n            releaseId: new FormControl(this.releaseId?this.releaseId: this.data.releaseId, [Validators.required]),\r\n            shopId: new FormControl(this.data.shopId, [Validators.required]),\r\n            price: new FormControl(this.data.price, [Validators.required]),\r\n            salePercentage: new FormControl(this.data.salePercentage, [Validators.required]),\r\n            status: new FormControl(this.data.status, [Validators.required]),\r\n            shipping: new FormControl(this.data.shipping, [Validators.required]),\r\n            raffle: new FormControl(this.data.raffle.toString(), [Validators.required]),\r\n            currency: new FormControl(this.data.raffle.toString(), [Validators.required]),\r\n            description: new FormControl(this.data.description),\r\n        });\r\n\r\n    }\r\n\r\n    submitClicked() {\r\n        if (this.formGroup.valid) {\r\n            //this.data.offerDate = new Date(\"2015/1/12\");\r\n            if (this.data.raffle === \"true\") {\r\n                this.data.raffle = true;               \r\n            } else if (this.data.raffle === \"false\") {\r\n                this.data.raffle = false;\r\n            }\r\n            this.accept.emit(this.data);\r\n        } else {\r\n            console.log('invalid');\r\n            this.triggerValidation();\r\n        }\r\n    }\r\n\r\n    changeShop(shop: Shop){\r\n        this.shopSlected = shop;\r\n    }\r\n}\r\n\r\n","module.exports = \"<!--mat-toolbar class=\\\"margin-right-25px margin-bottom-10px width-auto flex-shrink-0 background-color-secondary color-primary mat-elevation-z2\\\"\\n  [formGroup]=\\\"filter\\\">\\n\\n  <mat-icon matPrefix color=\\\"primary\\\">search</mat-icon>\\n  <!--mat-form-field>\\n    <input matInput formControlName=\\\"name\\\" placeholder=\\\"Name\\\">\\n  </mat-form-field-->\\n\\n  <!--mat-form-field>\\n    <mat-label>Collection</mat-label>\\n    <mat-select placeholder=\\\"Collection\\\" formControlName=\\\"collection\\\">\\n        <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\n          {{collection.name}}\\n        </mat-option>\\n      </mat-select>\\n  </mat-form-field-->\\n\\n  <!--span class=\\\"flex-grow-1\\\"></span>\\n  <button mat-raised-button color=\\\"primary\\\" (click)=\\\"addNewOfferModal()\\\">CREATE A OFFER</button>\\n</mat-toolbar-->\\n\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\n\\n  <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"offers\\\" matSort [matSortActive]=\\\"offersService.previousSortColumn\\\"\\n    [matSortDirection]=\\\"offersService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\n\\n    <ng-container matColumnDef=\\\"SKU\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        SKU\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseSku(element.releaseId) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"RELEASE NAME\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        RELEASE NAME\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseName(element.releaseId) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"COLLECTION\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        COLLECTION\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getCollectionNameRelease(element.releaseId) }} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"COLOR\\\">\\n        <th mat-header-cell *matHeaderCellDef>\\n            COLOR\\n        </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseColor(element.releaseId) }} </td>\\n      </ng-container>\\n\\n    <ng-container matColumnDef=\\\"OFFICIAL RELEASE\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n          OFFICIAL RELEASE\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseDate(element.releaseId) | date: 'dd/MM/yyyy' }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"SHOP\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n          SHOP\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getShop(element.shopId) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"STATUS\\\" >\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n          STATUS\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.status }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"SHIPING\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n          SHIPING\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.shipping }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"UPDATED\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n          UPDATED\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.updatedAt | date: 'dd/MM/yyyy' }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"ACTION\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Edit\\\" (click)=\\\"editOfferModal(element.id)\\\">\\n          <mat-icon>edit</mat-icon>\\n        </button>\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Delete\\\" (click)=\\\"getOfferToDelete(element)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\n    </tr>\\n\\n  </table>\\n\\n</div>\\n\\n<div class=\\\"margin-right-25px padding-top-15px padding-bottom-15px flex-shrink-0 display-flex\\\">\\n  <span class=\\\"flex-grow-1\\\"></span>\\n  <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\n    (page)=\\\"onPage()\\\">\\n  </mat-paginator>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtY29sbGVjdGlvbi10YWJsZS9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1vZmZlcnNcXGNvbXBvbmVudHNcXG9mZmVycy1jb2xsZWN0aW9uLXRhYmxlXFxvZmZlcnMtY29sbGVjdGlvbi10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsYUFBWSxFQUNmOztBQUVEO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0ksZ0JBQWU7RUFDZixtQkFBa0I7RUFDbEIsd0JBQXVCLEVBQzFCOztBQUVEOztFQUVJLFdBQVUsRUFDYjs7QUFFRDtFQUNJLHFCQUNKLEVBQUM7O0FBRUQ7RUFDSSx3QkFBdUI7RUFDdkIsd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixjQUFhO0VBQ2IsYUFBWTtFQUNaLGlCQUFnQjtFQUNoQixtQkFBa0I7RUFDbEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWU7RUFDZixZQUFXO0VBQ1gsYUFBWSxFQUNiIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtY29sbGVjdGlvbi10YWJsZS9vZmZlcnMtY29sbGVjdGlvbi10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLm1hdC1mb3JtLWZpZWxkIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgIHdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG50ZCxcclxudGgge1xyXG4gICAgd2lkdGg6IDI1JTtcclxufVxyXG5cclxuLnBhZGRpbmctYm90dG9tLTEwe1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHhcclxufVxyXG5cclxuaW1ne1xyXG4gICAgaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxubWF0LWNhcmQge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICB3aWR0aDogMTUwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgbWF0LWljb24ge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgd2lkdGg6IDI0cHg7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgfSJdfQ== */\"","import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { MatPaginator, MatSort } from '@angular/material';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n//\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\n//\nimport { OffersService } from \"../../services/offers.service\";\nimport { Offer, OffersListResponse } from \"../../models/offer\";\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { Shop } from '../../../ms-shops/models/shops';\n\nimport { NewOfferComponent } from '../new-offer/new-offer.component';\nimport { EditOfferComponent } from '../edit-offer/edit-offer.component';\nimport { DeleteOfferComponent } from '../delete-offer/delete-offer.component';\n\nconst titleKey = 'Title Delete Offer';\n\nconst deleteBtnKey = 'Delete Offer';\n\nconst messageKey = 'Delete Offer';\n\nconst errorKey = 'Error';\n\nconst deletedOfferMessageKey = 'Deleted Offer';\n\n@Component({\n    selector: 'offers-collection-table',\n    templateUrl: './offers-collection-table.component.html',\n    styleUrls: ['./offers-collection-table.component.scss']\n})\nexport class OffersCollectionTableComponent implements AfterViewInit, OnInit {\n\n    displayedColumns: string[] = [\n        'SKU',\n        'RELEASE NAME',\n        'COLLECTION',\n        'COLOR',\n        'OFFICIAL RELEASE',\n        'SHOP',\n        'STATUS',\n        'SHIPING',\n        'UPDATED',\n        //'ACTION'\n    ];\n\n    \n\n    filter: FormGroup;\n\n    filterValueChanges: Subscription;\n\n    modalRef: MatDialogRef<NewOfferComponent | EditOfferComponent | ConfirmDialogComponent>;\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n\n    @ViewChild(MatSort) sort: MatSort;\n\n    @ViewChild(DeleteOfferComponent) deleteOfferComponent: DeleteOfferComponent;\n\n    totalLength: number = 0;\n\n    offersList: Subscription;\n\n    offers: Array<Offer> = [];\n\n    @Input() collections: Array<Collection>;\n\n    @Input() releases: Array<Release>;\n\n    @Input() shops: Array<Shop>;\n\n    @Input() releaseId: string;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public dialog: MatDialog,\n        public offersService: OffersService,\n        public errorHandlingService: ErrorHandlingService,\n        private toastr: ToastrService\n    ) {\n    }\n\n    ngOnInit() {\n        this.filter = this.createFilterFormGroup();\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\n        this.paginator.pageIndex = 0;\n\n        this.collections = this.activatedRoute.snapshot.data.collections;\n        this.releases = this.activatedRoute.snapshot.data.releases;\n        this.shops = this.activatedRoute.snapshot.data.shops;\n\n        // Begin observing style list changes.\n        this.offersList = this.offersService.offersList.subscribe((offersList: any) => {\n            this.totalLength = offersList.dataCount;\n            this.offers = offersList.data;\n            if (this.offers.length === 0 && this.totalLength > 0 && this.offersService.previousPageSize > 0) {\n                this.offersService.previousPageIndex =\n                    Math.ceil(this.totalLength / this.offersService.previousPageSize) - 1;\n                this.offersService.reloadOffers().subscribe(response => {\n                    this.offersService.offersList.next(response);\n                },\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n            }\n        });\n    }\n\n    ngAfterViewInit() {\n        this.loadPage();\n    }\n\n    ngOnDestroy() {\n        this.offersList.unsubscribe();\n        this.filterValueChanges.unsubscribe();\n    }\n\n    createFilterFormGroup() {\n        let group: any = {};\n        //group['name'] = new FormControl('');\n        //group['collection'] = new FormControl('');\n        return new FormGroup(group);\n    }\n\n    loadPage() {\n        this.offersService.getOffers(\n            Object.assign({}, this.filter.value),\n            this.sort.active, this.sort.direction,\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: OffersListResponse) => {\n                this.offersService.offersList.next(response);\n            },\n                (err: HandledError) => {\n                    this.errorHandlingService.handleUiError(errorKey, err)\n                });\n    }\n\n    onFilter() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onSort() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onPage() {\n        this.loadPage();\n    }\n\n    getReleaseName(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseSku(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).sku;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseDate(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).updatedAt;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseColor(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).color;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getCollectionNameRelease(id: string) {\n        try {\n            let collectionId = this.releases.find(release => {\n                return release.id === id;\n            }).collectionId;\n\n            return this.collections.find(collection => {\n                return collection.id === collectionId;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getShop(id: string) {\n        try {\n            return this.shops.find(shop => {\n                return shop.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n\n    addNewOfferModal() {\n        this.modalRef = this.dialog.open(NewOfferComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                shops: this.shops,\n                releaseId: this.releaseId,\n            }\n        });\n        this.modalRef.afterClosed().subscribe(() => {\n            this.loadPage();\n        });\n    }\n\n    editOfferModal(offerId: string) {\n        this.modalRef = this.dialog.open(EditOfferComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                offerId: offerId,\n                shops: this.shops,\n                releaseId: this.releaseId,\n            }\n        });\n        this.modalRef.afterClosed().subscribe(() => {\n            this.loadPage();\n        });\n    }\n\n    //delete\n    getOfferToDelete(data: Offer) {\n        this.offersService.getOffer(data.id).subscribe(response => {\n            data = response.data;\n            this.confirmDeleteOffer(data);\n        },\n            (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n        )\n    }\n\n    confirmDeleteOffer(data: Offer) {\n        this.modalRef = this.dialog.open(ConfirmDialogComponent, {\n            data: {\n                titleKey: titleKey,\n                okBtnKey: deleteBtnKey,\n                messageKey: messageKey,\n                messageParam: { param: data.name }\n            }\n        });\n\n        this.modalRef.afterClosed().subscribe(result => {\n            if (result) {\n                this.deleteOffer(data);\n            } \n        });\n    }\n\n    deleteOffer(data: Offer): void {\n        this.offersService.deleteOffer(data.id).subscribe(response => {\n            this.offersService.reloadOffers().subscribe(response => {\n                this.offersService.offersList.next(response);\n                this.toastr.success(deletedOfferMessageKey);\n                this.loadPage();\n            },\n                (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n        },\n            (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n            }\n        )\n    }\n}\n\n","module.exports = \"<div class=\\\"display-flex justify-content-center\\\">\\n\\n  <button mat-stroked-button type=\\\"button\\\" class=\\\"max-width-480px\\\" (click)=\\\"addNewOfferModal()\\\">Add an offer to this Release</button>\\n\\n</div>\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\n\\n  <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"offers\\\" matSort [matSortActive]=\\\"offersService.previousSortColumn\\\"\\n    [matSortDirection]=\\\"offersService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\n\\n    <ng-container matColumnDef=\\\"sku\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        SKU\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ release.sku }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"releaseId\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        RELEASE NAME\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ release.name }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"collection\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        COLLECTION\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ getCollectionNameRelease(release.collectionId) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"color\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n        COLOR\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ release.color }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"officialRelease\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        OFFICIAL RELEASE\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ release.updatedAt | date: 'dd/MM/yyyy' }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"shopId\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        SHOP\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ getShop(element.shopId) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"status\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        STATUS\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ element.status }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"shiping\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        SHIPING\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ element.shipping }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"updatedAt\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        UPDATED\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\"> {{ element.updatedAt | date: 'dd/MM/yyyy' }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"actions\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" [ngClass]=\\\"{'background-td': element.id === offerId}\\\">\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Edit\\\" (click)=\\\"editOfferModal(element.id)\\\">\\n          <mat-icon>edit</mat-icon>\\n        </button>\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Delete\\\" (click)=\\\"getOfferToDelete(element)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\n    </tr>\\n\\n  </table>\\n\\n</div>\\n\\n<div class=\\\"margin-right-25px padding-top-15px padding-bottom-15px flex-shrink-0 display-flex\\\">\\n  <span class=\\\"flex-grow-1\\\"></span>\\n  <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\n    (page)=\\\"onPage()\\\">\\n  </mat-paginator>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtcmVsZWFzZS10YWJsZS9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1vZmZlcnNcXGNvbXBvbmVudHNcXG9mZmVycy1yZWxlYXNlLXRhYmxlXFxvZmZlcnMtcmVsZWFzZS10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsYUFBWSxFQUNmOztBQUVEO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0ksZ0JBQWU7RUFDZixtQkFBa0I7RUFDbEIsd0JBQXVCLEVBQzFCOztBQUVEOztFQUVJLFdBQVUsRUFDYjs7QUFFRDtFQUNJLHFCQUNKLEVBQUM7O0FBRUQ7RUFDSSx3QkFBdUI7RUFDdkIsd0JBQXVCLEVBQzFCIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtcmVsZWFzZS10YWJsZS9vZmZlcnMtcmVsZWFzZS10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLm1hdC1mb3JtLWZpZWxkIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgIHdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG50ZCxcclxudGgge1xyXG4gICAgd2lkdGg6IDI1JTtcclxufVxyXG5cclxuLnBhZGRpbmctYm90dG9tLTEwe1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHhcclxufVxyXG5cclxuaW1ne1xyXG4gICAgaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuIl19 */\"","import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { MatPaginator, MatSort } from '@angular/material';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n//\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\n//\nimport { OffersService } from \"../../services/offers.service\";\nimport { Offer, OffersListResponse } from \"../../models/offer\";\nimport { Collection } from '../../../ms-collections/models/collection';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { Shop } from '../../../ms-shops/models/shops';\n\nimport { NewOfferComponent } from '../new-offer/new-offer.component';\nimport { EditOfferComponent } from '../edit-offer/edit-offer.component';\nimport { DeleteOfferComponent } from '../delete-offer/delete-offer.component';\n\nconst titleKey = 'Delete';\n\nconst deleteBtnKey = 'Delete';\n\nconst messageKey = 'Are you sure you want to delete this Offer?';\n\nconst errorKey = 'Error';\n\nconst deletedMessageKey = 'Deleted';\n\n@Component({\n    selector: 'offers-release-table',\n    templateUrl: './offers-release-table.component.html',\n    styleUrls: ['./offers-release-table.component.scss']\n})\nexport class OffersReleaseTableComponent implements AfterViewInit, OnInit {\n\n    displayedColumns: string[] = [\n        'sku',\n        //'releaseId',\n        'collection',\n        'color',\n        'officialRelease',\n        'shopId',\n        'status',\n        'shiping',\n        'updatedAt',\n        'actions'\n    ];\n\n    @Input() collections: Array<Collection>;\n\n    @Input() customized: boolean;\n\n    filter: FormGroup;\n\n    filterValueChanges: Subscription;\n\n    modalRef: MatDialogRef<NewOfferComponent | EditOfferComponent | ConfirmDialogComponent>;\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n\n    @ViewChild(MatSort) sort: MatSort;\n\n    @ViewChild(DeleteOfferComponent) deleteOfferComponent: DeleteOfferComponent;\n\n    totalLength: number = 0;\n\n    offersList: Subscription;\n\n    offers: Array<Offer> = [];\n\n    @Input() release: Release;\n\n    @Input() releases: Array<Release>;\n\n    @Input() shops: Array<Shop>;\n\n    @Input() releaseId: string;\n\n    @Input() offerId: string;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public dialog: MatDialog,\n        public offersService: OffersService,\n        public errorHandlingService: ErrorHandlingService,\n        private toastr: ToastrService\n    ) {\n    }\n\n    ngOnInit() {\n        this.filter = this.createFilterFormGroup();\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\n        this.paginator.pageIndex = 0;\n\n        this.collections = this.activatedRoute.snapshot.data.collections;\n        this.releases = this.activatedRoute.snapshot.data.releases;\n        this.shops = this.activatedRoute.snapshot.data.shops;\n\n        // Begin observing style list changes.\n        this.offersList = this.offersService.offersList.subscribe((offersList: any) => {\n            this.totalLength = offersList.dataCount;\n            this.offers = offersList.data;\n            if (this.offers.length === 0 && this.totalLength > 0 && this.offersService.previousPageSize > 0) {\n                this.offersService.previousPageIndex =\n                    Math.ceil(this.totalLength / this.offersService.previousPageSize) - 1;\n                this.offersService.reloadOffers().subscribe(response => {\n                    this.offersService.offersList.next(response);\n                },\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n            }\n        });\n    }\n\n    ngAfterViewInit() {\n        this.loadPage();\n    }\n\n    ngOnDestroy() {\n        this.offersList.unsubscribe();\n        this.filterValueChanges.unsubscribe();\n    }\n\n    createFilterFormGroup() {\n        let group: any = {};\n        group['releaseId'] = new FormControl(this.releaseId);\n        //group['collection'] = new FormControl('');\n        return new FormGroup(group);\n    }\n\n    loadPage() {\n        this.offersService.getOffers(\n            Object.assign({}, this.filter.value),\n            this.sort.active, this.sort.direction,\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: OffersListResponse) => {\n                this.offersService.offersList.next(response);\n            },\n                (err: HandledError) => {\n                    this.errorHandlingService.handleUiError(errorKey, err)\n                });\n    }\n\n    onFilter() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onSort() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onPage() {\n        this.loadPage();\n    }\n\n    getReleaseName(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseSku(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).sku;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseDate(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).updatedAt;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getReleaseColor(id: string) {\n        try {\n            return this.releases.find(release => {\n                return release.id === id;\n            }).color;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getCollectionNameRelease(id: string) {\n        try {\n            return this.collections.find(collection => {\n                return collection.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getCollection(id: string) {\n        try {\n            return this.collections.find(collection => {\n                return collection.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n    getShop(id: string) {\n        try {\n            return this.shops.find(shop => {\n                return shop.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n\n    addNewOfferModal() {\n        this.modalRef = this.dialog.open(NewOfferComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                shops: this.shops,\n                releaseId: this.releaseId,\n                customized: this.customized\n            }\n        });\n        this.modalRef.afterClosed().subscribe(() => {\n            this.loadPage();\n        });\n    }\n\n    editOfferModal(offerId: string) {\n        this.modalRef = this.dialog.open(EditOfferComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                offerId: offerId,\n                shops: this.shops,\n                releaseId: this.releaseId,\n            }\n        });\n        this.modalRef.afterClosed().subscribe(() => {\n            this.loadPage();\n        });\n    }\n\n    //delete\n    getOfferToDelete(data: Offer) {\n        this.offersService.getOffer(data.id).subscribe(response => {\n            data = response.data;\n            this.confirmDeleteOffer(data);\n        },\n            (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n        )\n    }\n\n    confirmDeleteOffer(data: Offer) {\n        this.modalRef = this.dialog.open(ConfirmDialogComponent, {\n            data: {\n                titleKey: titleKey,\n                okBtnKey: deleteBtnKey,\n                messageKey: messageKey,\n                messageParam: { param: data.name }\n            }\n        });\n\n        this.modalRef.afterClosed().subscribe(result => {\n            if (result) {\n                this.deleteOffer(data);\n            }\n        });\n    }\n\n    deleteOffer(data: Offer): void {\n        this.offersService.deleteOffer(data.id).subscribe(response => {\n            this.offersService.reloadOffers().subscribe(response => {\n                this.offersService.offersList.next(response);\n                this.toastr.success(deletedMessageKey);\n                this.loadPage();\n            },\n                (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n        },\n            (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n            }\n        )\n    }\n}\n\n","module.exports = \"<h1>Offers Table</h1>\\r\\n\\r\\n<mat-toolbar class=\\\"margin-right-25px margin-bottom-10px width-auto flex-shrink-0 background-color-secondary color-primary mat-elevation-z2\\\"\\r\\n  [formGroup]=\\\"filter\\\">\\r\\n\\r\\n  <mat-icon matPrefix color=\\\"primary\\\">search</mat-icon>\\r\\n  <!--mat-form-field>\\r\\n    <input matInput formControlName=\\\"name\\\" placeholder=\\\"Name\\\">\\r\\n  </mat-form-field-->\\r\\n\\r\\n  <!--mat-form-field>\\r\\n    <mat-label>Collection</mat-label>\\r\\n    <mat-select placeholder=\\\"Collection\\\" formControlName=\\\"collection\\\">\\r\\n        <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\">\\r\\n          {{collection.name}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n  </mat-form-field-->\\r\\n\\r\\n  <span class=\\\"flex-grow-1\\\"></span>\\r\\n  <button mat-raised-button color=\\\"primary\\\" (click)=\\\"addNewOfferModal()\\\">CREATE A OFFER</button>\\r\\n</mat-toolbar>\\r\\n\\r\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\r\\n\\r\\n  <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"offers\\\" matSort [matSortActive]=\\\"offersService.previousSortColumn\\\"\\r\\n    [matSortDirection]=\\\"offersService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\r\\n\\r\\n    <ng-container matColumnDef=\\\"sku\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        SKU\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseSku(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"releaseId\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        RELEASE NAME\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseName(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"collectionId\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        COLLECTION\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getCollectionNameRelease(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"color\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        COLOR\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseColor(element.releaseId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"offerDate\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        OFFICIAL RELEASE\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getReleaseDate(element.releaseId) | date: 'dd/MM/yyyy' }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"shopId\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        SHOP\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getShop(element.shopId) }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"status\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        STATUS\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\">\\r\\n        <div>\\r\\n          {{ element.status }}\\r\\n          <mat-slide-toggle *ngIf=\\\"element.status === 'sold_out'\\\" class=\\\"margin-bottom-25px margin-top-25px margin-left-5px\\\" [checked]=\\\"false\\\"\\r\\n            (click)=\\\"changeStatus(element)\\\"></mat-slide-toggle>\\r\\n        </div>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"shiping\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        SHIPING\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.shipping }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"updatedAt\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n        UPDATED\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.updatedAt | date: 'dd/MM/yyyy' }} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"actions\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef>\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Edit\\\" [routerLink]=\\\"['../../releases/edit', element.releaseId]\\\" [queryParams]=\\\"{offerId: element.id, returnUrl: location.path()}\\\">\\r\\n          <mat-icon>edit</mat-icon>\\r\\n        </button>\\r\\n        <button mat-icon-button color=\\\"primary\\\" type=\\\"button\\\" [matTooltip]=\\\"Delete\\\" (click)=\\\"getOfferToDelete(element)\\\">\\r\\n          <mat-icon>delete</mat-icon>\\r\\n        </button>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\r\\n    </tr>\\r\\n\\r\\n  </table>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"margin-right-25px padding-top-15px padding-bottom-15px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n  <span class=\\\"flex-grow-1\\\"></span>\\r\\n  <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\r\\n    (page)=\\\"onPage()\\\">\\r\\n  </mat-paginator>\\r\\n</div>\\r\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtdGFibGUvRTpcXFBST0dSQU1BQ0lPTiBJSUlcXG1vcmVzbmVha2Vycy1iYWNrb2ZmaWNlL3NyY1xcYXBwXFxtcy1iYWNrLW9mZmljZVxcbW9kdWxlc1xcbXMtb2ZmZXJzXFxjb21wb25lbnRzXFxvZmZlcnMtdGFibGVcXG9mZmVycy10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsYUFBWSxFQUNmOztBQUVEO0VBQ0ksWUFBVyxFQUNkOztBQUVEO0VBQ0ksZ0JBQWU7RUFDZixtQkFBa0I7RUFDbEIsd0JBQXVCLEVBQzFCOztBQUVEOztFQUVJLFdBQVUsRUFDYjs7QUFFRDtFQUNJLHFCQUNKLEVBQUM7O0FBRUQ7RUFDSSx3QkFBdUI7RUFDdkIsd0JBQXVCLEVBQzFCIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1vZmZlcnMvY29tcG9uZW50cy9vZmZlcnMtdGFibGUvb2ZmZXJzLXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbnRkLFxyXG50aCB7XHJcbiAgICB3aWR0aDogMjUlO1xyXG59XHJcblxyXG4ucGFkZGluZy1ib3R0b20tMTB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweFxyXG59XHJcblxyXG5pbWd7XHJcbiAgICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4iXX0= */\"","import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n//\r\nimport { MatDialog, MatDialogRef } from '@angular/material';\r\nimport { MatPaginator, MatSort } from '@angular/material';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n//\r\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\r\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\r\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\r\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\r\n//\r\nimport { OffersService } from \"../../services/offers.service\";\r\nimport { Offer, OffersListResponse } from \"../../models/offer\";\r\nimport { Collection } from '../../../ms-collections/models/collection';\r\nimport { Release } from '../../../ms-releases/models/releases';\r\nimport { Shop } from '../../../ms-shops/models/shops';\r\n\r\nimport { NewOfferComponent } from '../new-offer/new-offer.component';\r\nimport { EditOfferComponent } from '../edit-offer/edit-offer.component';\r\nimport { DeleteOfferComponent } from '../delete-offer/delete-offer.component';\r\n\r\nconst titleKey = 'Delete';\r\n\r\nconst deleteBtnKey = 'Delete';\r\n\r\nconst messageKey = 'Are you sure you want to delete this Offer?';\r\n\r\nconst errorKey = 'Error';\r\n\r\nconst deletedMessageKey = 'Deleted';\r\n\r\n@Component({\r\n    selector: 'offers-table',\r\n    templateUrl: './offers-table.component.html',\r\n    styleUrls: ['./offers-table.component.scss']\r\n})\r\nexport class OffersTableComponent implements AfterViewInit, OnInit {\r\n\r\n    displayedColumns: string[] = [\r\n        'sku',\r\n        'releaseId',\r\n        'collectionId',\r\n        'color',\r\n        'offerDate',\r\n        'shopId',\r\n        'status',\r\n        'shiping',\r\n        'updatedAt',\r\n        'actions'\r\n    ];\r\n\r\n    collections: Array<Collection>;\r\n\r\n    filter: FormGroup;\r\n\r\n    filterValueChanges: Subscription;\r\n\r\n    modalRef: MatDialogRef<NewOfferComponent | EditOfferComponent | ConfirmDialogComponent>;\r\n\r\n    @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n    @ViewChild(MatSort) sort: MatSort;\r\n\r\n    @ViewChild(DeleteOfferComponent) deleteOfferComponent: DeleteOfferComponent;\r\n\r\n    totalLength: number = 0;\r\n\r\n    offersList: Subscription;\r\n\r\n    offers: Array<Offer> = [];\r\n\r\n    releases: Array<Release>;\r\n\r\n    shops: Array<Shop>;\r\n\r\n    @Input() releaseId: string;\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public dialog: MatDialog,\r\n        public offersService: OffersService,\r\n        public errorHandlingService: ErrorHandlingService,\r\n        public location: Location,\r\n        private toastr: ToastrService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.filter = this.createFilterFormGroup();\r\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\r\n        this.paginator.pageIndex = 0;\r\n\r\n        this.collections = this.activatedRoute.snapshot.data.collections;\r\n        this.releases = this.activatedRoute.snapshot.data.releases;\r\n        this.shops = this.activatedRoute.snapshot.data.shops;\r\n\r\n        // Begin observing style list changes.\r\n        this.offersList = this.offersService.offersList.subscribe((offersList: any) => {\r\n            this.totalLength = offersList.dataCount;\r\n            this.offers = offersList.data;\r\n            if (this.offers.length === 0 && this.totalLength > 0 && this.offersService.previousPageSize > 0) {\r\n                this.offersService.previousPageIndex =\r\n                    Math.ceil(this.totalLength / this.offersService.previousPageSize) - 1;\r\n                this.offersService.reloadOffers().subscribe(response => {\r\n                    this.offersService.offersList.next(response);\r\n                },\r\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.loadPage();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.offersList.unsubscribe();\r\n        this.filterValueChanges.unsubscribe();\r\n    }\r\n\r\n    createFilterFormGroup() {\r\n        let group: any = {};\r\n        //group['name'] = new FormControl('');\r\n        //group['collection'] = new FormControl('');\r\n        return new FormGroup(group);\r\n    }\r\n\r\n    changeStatus(offerData: Offer) {\r\n        offerData.status = 'available';\r\n        this.offersService.putOffer(offerData).subscribe(response => {\r\n            this.loadPage();\r\n        },\r\n            (error: HandledError) => {\r\n                this.errorHandlingService.handleUiError(errorKey, error);\r\n            });\r\n    }\r\n\r\n    loadPage() {\r\n        this.offersService.getOffers(\r\n            Object.assign({}, this.filter.value),\r\n            this.sort.active, this.sort.direction,\r\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: OffersListResponse) => {\r\n                this.offersService.offersList.next(response);\r\n            },\r\n                (err: HandledError) => {\r\n                    this.errorHandlingService.handleUiError(errorKey, err)\r\n                });\r\n    }\r\n\r\n    onFilter() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onSort() {\r\n        this.paginator.pageIndex = 0;\r\n        this.loadPage();\r\n    }\r\n\r\n    onPage() {\r\n        this.loadPage();\r\n    }\r\n\r\n    getReleaseName(id: string) {\r\n        try {\r\n            return this.releases.find(release => {\r\n                return release.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getReleaseSku(id: string) {\r\n        try {\r\n            return this.releases.find(release => {\r\n                return release.id === id;\r\n            }).sku;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getReleaseDate(id: string) {\r\n        try {\r\n            return this.releases.find(release => {\r\n                return release.id === id;\r\n            }).updatedAt;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getReleaseColor(id: string) {\r\n        try {\r\n            return this.releases.find(release => {\r\n                return release.id === id;\r\n            }).color;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getCollectionNameRelease(id: string) {\r\n        try {\r\n            let collectionId = this.releases.find(release => {\r\n                return release.id === id;\r\n            }).collectionId;\r\n\r\n            return this.collections.find(collection => {\r\n                return collection.id === collectionId;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    getShop(id: string) {\r\n        try {\r\n            return this.shops.find(shop => {\r\n                return shop.id === id;\r\n            }).name;\r\n        }\r\n        catch (err) {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    addNewOfferModal() {\r\n        this.modalRef = this.dialog.open(NewOfferComponent, {\r\n            height: '90%',\r\n            width: '90%',\r\n            data: {\r\n                shops: this.shops,\r\n                releaseId: this.releaseId,\r\n                releases: this.releases, \r\n            }\r\n        });\r\n        this.modalRef.afterClosed().subscribe(() => {\r\n            this.loadPage();\r\n        });\r\n    }\r\n\r\n    editOfferModal(offerId: string) {\r\n        this.modalRef = this.dialog.open(EditOfferComponent, {\r\n            height: '90%',\r\n            width: '90%',\r\n            data: {\r\n                offerId: offerId,\r\n                shops: this.shops,\r\n                releaseId: this.releaseId,\r\n            }\r\n        });\r\n        this.modalRef.afterClosed().subscribe(() => {\r\n            this.loadPage();\r\n        });\r\n    }\r\n\r\n    //delete\r\n    getOfferToDelete(data: Offer) {\r\n        this.offersService.getOffer(data.id).subscribe(response => {\r\n            data = response.data;\r\n            this.confirmDeleteOffer(data);\r\n        },\r\n            (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\r\n        )\r\n    }\r\n\r\n    confirmDeleteOffer(data: Offer) {\r\n        this.modalRef = this.dialog.open(ConfirmDialogComponent, {\r\n            data: {\r\n                titleKey: titleKey,\r\n                okBtnKey: deleteBtnKey,\r\n                messageKey: messageKey,\r\n                messageParam: { param: data.name }\r\n            }\r\n        });\r\n\r\n        this.modalRef.afterClosed().subscribe(result => {\r\n            if (result) {\r\n                this.deleteOffer(data);\r\n            } \r\n        });\r\n    }\r\n\r\n    deleteOffer(data: Offer): void {\r\n        this.offersService.deleteOffer(data.id).subscribe(response => {\r\n            this.offersService.reloadOffers().subscribe(response => {\r\n                this.offersService.offersList.next(response);\r\n                this.toastr.success(deletedMessageKey);\r\n                this.loadPage();\r\n            },\r\n                (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\r\n        },\r\n            (error: HandledError) => {\r\n                this.errorHandlingService.handleUiError(errorKey, error);\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n","export class Shipping {\r\n    id?: string;\r\n    name?: string;\r\n};\r\n\r\nexport const SHIPPING: Shipping[] = [\r\n    { id: 'worldwide', name: 'Worldwide' },\r\n    { id: 'unavailable', name: 'Unavailable' },\r\n];\r\n","export class Status {\r\n    id?: string;\r\n    name?: string;\r\n};\r\n\r\nexport const STATUS: Status[] = [\r\n    { id: 'sold_out', name: 'Sold Out' },\r\n    { id: 'available', name: 'Available' },\r\n    { id: 'on_sale', name: 'On Sale' },\r\n];\r\n","export class TimeZone {\r\n    id?: string;\r\n    name?: string;\r\n};\r\n\r\nexport const TIMEZONE: TimeZone[] = [\r\n    { id: 'UTC', name: 'UTC' },\r\n];\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n//\nimport { OffersTableComponent } from './components/offers-table/offers-table.component';\nimport { DeleteOfferComponent } from './components/delete-offer/delete-offer.component';\nimport { EditOfferComponent } from './components/edit-offer/edit-offer.component';\nimport { NewOfferComponent } from './components/new-offer/new-offer.component';\n//\nimport { ConfigResolveService } from '../../../config/services/config-resolve.service';\nimport { BrandsResolveService } from '../ms-brands/services/brands-resolve.service';\nimport { CollectionsResolveService } from '../ms-collections/services/collections-resolve.service';\nimport { CategoriesResolveService } from '../ms-categories/services/categories-resolve.service';\nimport { ReleasesResolveService } from '../ms-releases/services/releases-resolve.service';\nimport { ShopsResolveService } from '../ms-shops/services/shops-resolve.service';\nimport { IdResolveService } from '../../../routing/services/id-resolve.service';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: OffersTableComponent,\n        resolve: {\n            config: ConfigResolveService,\n            collections: CollectionsResolveService,\n            shops: ShopsResolveService,\n            releases: ReleasesResolveService\n        }\n    },\n    {\n        path: 'create',\n        component: NewOfferComponent,\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n            categories: CategoriesResolveService,\n            shops: ShopsResolveService,\n            releases: ReleasesResolveService\n        },\n        data: { closeRouteCommand: ['../'] }\n    },\n    {\n        path: 'edit/:id',\n        component: EditOfferComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            styleId: IdResolveService\n        },\n        data: { closeRouteCommand: ['../../'] }\n    },\n    {\n        path: 'delete/:id',\n        component: DeleteOfferComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            brandId: IdResolveService,\n        },\n        data: { closeRouteCommand: ['../../'] }\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class MsOffersRoutingModule { }\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DatePipe } from '@angular/common';\r\n//\r\nimport { AmazingTimePickerModule } from 'amazing-time-picker';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule, MatPaginatorModule } from '@angular/material';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport {\r\n  MatAutocompleteModule, MatCheckboxModule, MatDatepickerModule, MatDialogModule,\r\n  MatNativeDateModule, MatRadioModule, MatSliderModule, MatSlideToggleModule\r\n} from '@angular/material';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n//\r\nimport { ImagesCardModule } from '../../../ui/modules/images-card/images-card.module';\r\nimport { AskBeforeRefreshModule } from '../../../ui/modules/ask-before-refresh/ask-before-refresh.module';\r\n\r\nimport { OffersTableComponent } from './components/offers-table/offers-table.component';\r\nimport { OffersCollectionTableComponent } from './components/offers-collection-table/offers-collection-table.component';\r\nimport { OffersReleaseTableComponent } from './components/offers-release-table/offers-release-table.component';\r\nimport { LinkOffersCollentionModalComponent } from './components/link-offers-collection/link-offers-collection-modal.component';\r\nimport { MsOffersRoutingModule } from './ms-offers-routing.module';\r\nimport { OfferFormComponent } from './components/offer-form/offer-form.component';\r\nimport { NewOfferComponent } from './components/new-offer/new-offer.component';\r\nimport { EditOfferComponent } from './components/edit-offer/edit-offer.component';\r\nimport { DeleteOfferComponent } from './components/delete-offer/delete-offer.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AmazingTimePickerModule,\r\n    FlexLayoutModule,\r\n    MatAutocompleteModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatDialogModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatPaginatorModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatSlideToggleModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    TranslateModule,\r\n    MsOffersRoutingModule,\r\n    AskBeforeRefreshModule,\r\n    ImagesCardModule\r\n  ],\r\n  declarations: [\r\n    OffersCollectionTableComponent,\r\n    OffersTableComponent,\r\n    OfferFormComponent,\r\n    OffersReleaseTableComponent,\r\n    LinkOffersCollentionModalComponent,\r\n    NewOfferComponent,\r\n    EditOfferComponent,\r\n    DeleteOfferComponent\r\n  ],\r\n  exports: [\r\n    OffersCollectionTableComponent,\r\n    OffersTableComponent,\r\n    OfferFormComponent,\r\n    OffersReleaseTableComponent,\r\n    LinkOffersCollentionModalComponent,\r\n    NewOfferComponent,\r\n    EditOfferComponent,\r\n    DeleteOfferComponent\r\n  ],\r\n  providers: [\r\n    DatePipe\r\n  ],\r\n  entryComponents: [\r\n    NewOfferComponent,\r\n    EditOfferComponent,\r\n    LinkOffersCollentionModalComponent\r\n  ]\r\n})\r\nexport class MsOffersModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { ErrorHandlingHttpService } from '../../../../error-handling/services/error-handling-http.service';\r\n//\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { Offer, OffersListResponse, OfferResponse } from '../models/offer';\r\n\r\nexport const ASCENDING = 'asc';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OffersService {\r\n\r\n    apiEndpoint: string;\r\n\r\n    previousFilter: any = {};\r\n\r\n    previousSortColumn: string = '';\r\n\r\n    previousSortDirection: string = 'asc';\r\n\r\n    previousPageIndex: number = 0;\r\n\r\n    previousPageSize: number = 10;\r\n\r\n    public offersList = new BehaviorSubject<OffersListResponse>({ dataCount: 0, data: [] });\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private http: ErrorHandlingHttpService) {\r\n            this.apiEndpoint = this.configService.config.apiConfigs.offers.apiEndpoint;\r\n    }\r\n\r\n    //\r\n    // Begin functions that most services have.\r\n    //\r\n\r\n    getOffers(filter: any, sortColumn: string, sortDirection: string, pageIndex: number, pageSize: number): Observable<OffersListResponse> {\r\n        this.previousFilter = filter;\r\n        this.previousSortColumn = sortColumn;\r\n        this.previousSortDirection = sortDirection;\r\n        this.previousPageIndex = pageIndex;\r\n        this.previousPageSize = pageSize;\r\n\r\n        let queryParams = this.formatQueryParams(\r\n            filter,\r\n            sortColumn, sortDirection,\r\n            pageIndex, pageSize);\r\n\r\n        return this.http.get<OffersListResponse>(this.apiEndpoint + queryParams);\r\n    }\r\n\r\n    //\r\n    // Call this function to repeat the previous query, after deleting\r\n    // a Offer for example.\r\n    //\r\n\r\n    reloadOffers(): Observable<OffersListResponse> {\r\n        return this.getOffers(\r\n            this.previousFilter,\r\n            this.previousSortColumn, this.previousSortDirection,\r\n            this.previousPageIndex, this.previousPageSize);\r\n    }\r\n\r\n    postOffer(data: Offer): Observable<Offer> {\r\n        return this.http.post<Offer>(this.apiEndpoint, JSON.stringify(data));\r\n    }\r\n\r\n    getOffer(id: string): Observable<OfferResponse> {\r\n        return this.http.get<OfferResponse>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    putOffer(data: Offer): Observable<Offer> {\r\n        return this.http.put<Offer>(this.apiEndpoint + data.id + '/', JSON.stringify(data));\r\n    }\r\n\r\n    deleteOffer(id: string): Observable<any> {\r\n        return this.http.delete<any>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    formatQueryParams(filter?: any, sortColumn?: string, sortDirection?: string, pageIndex?: number, pageSize?: number): string {\r\n        let queryParams = '';\r\n\r\n        if (filter.releaseId && filter.releaseId.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `releaseId=${filter.releaseId}`;\r\n        }\r\n\r\n        if (sortColumn) {\r\n            let ordering = '';\r\n\r\n            if (sortDirection === 'desc') {\r\n                ordering = '-';\r\n            }\r\n            ordering += sortColumn;\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `ordering=${ordering}`;\r\n        }\r\n\r\n        if (pageIndex !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `offset=${pageIndex * pageSize}`;\r\n        }\r\n\r\n        if (pageSize !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `limit=${pageSize}`;\r\n        }\r\n\r\n        return queryParams;\r\n    }\r\n\r\n    //\r\n    // End functions that most services have.\r\n    //\r\n\r\n    //\r\n    // Begin special functions specific to only this service.\r\n    //\r\n\r\n    getAllOffers(): Observable<Offer[]> {\r\n        return this.http.get<{ data: Offer[] }>(this.apiEndpoint)\r\n            .pipe(map(response => {\r\n                return response.data;\r\n            }));\r\n    }\r\n\r\n    //\r\n    // End special functions specific to only this service.\r\n    //\r\n\r\n}\r\n\r\n","import { Face, State, Status } from '../../../../ui/modules/images-card/models/face';\r\n\r\nexport class MainImage {\r\n    mainImage: string\r\n}\r\n\r\nexport class ReleaseImage {\r\n    id?: string;\r\n\r\n    createdBy?: string;\r\n\r\n    updatedBy?: string;\r\n\r\n    createdAt?: string;\r\n\r\n    updatedAt?: string;\r\n\r\n    fileName?: string;\r\n\r\n    imgUrl?: string\r\n\r\n    state?: State;\r\n\r\n    status?: Status;\r\n\r\n    file?: File;\r\n\r\n    mainImage?: boolean;\r\n}\r\n\r\nexport class Release {\r\n    id?: string;\r\n\r\n    name: string;\r\n\r\n    collectionId?: string;\r\n\r\n    children?: boolean;\r\n\r\n    color?: any;\r\n\r\n    description?: string;\r\n\r\n    sku?: string;\r\n\r\n    images?: ReleaseImage[];\r\n\r\n    gender?: string;\r\n\r\n    hot?: boolean;\r\n\r\n    mainImage?: string;\r\n\r\n    price?: number;\r\n\r\n    releaseDate?: Date;\r\n\r\n    updatedAt?: Date;\r\n\r\n    createdAt?: Date;\r\n\r\n    faces?: Array<Face>;\r\n\r\n    supplierColor?: string;\r\n\r\n    upcoming?: boolean;\r\n\r\n    customized?: boolean;\r\n}\r\n\r\nexport class ReleasesListResponse {\r\n    data: Release[];\r\n    dataCount: number;\r\n}\r\n\r\nexport class ReleasesImagesListResponse {\r\n    data: ReleaseImage[];\r\n    dataCount: number;\r\n}\r\n\r\nexport class ReleaseResponse {\r\n    data: Release;\r\n}\r\n\r\nexport class ReleaseImagesResponse {\r\n    data: ReleaseImage;\r\n}\r\n\r\nexport class EditReleaseModel extends Release {\r\n\r\n    deletedFaces?: Array<string>;\r\n}","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n//\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n//\r\nimport { ErrorHandlingService } from '../../../../error-handling/services/error-handling.service';\r\nimport { ReleasesService } from './releases.service';\r\n//import { setTranslationsstyles.service\r\n\r\nconst errorKey = 'Error';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ReleasesResolveService implements Resolve<any> {\r\n    constructor(\r\n        private releasesService: ReleasesService,\r\n        private translate: TranslateService,\r\n        private errorHandlingService: ErrorHandlingService) {\r\n        //setTranslations(this.translate, TRANSLATIONS);\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n        return this.releasesService.getAllReleases().pipe(\r\n            map(brands => brands),\r\n            catchError((err) => {\r\n                this.errorHandlingService.handleUiError(errorKey, err);\r\n                return of(null);\r\n            }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n//\r\nimport { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n//\r\nimport { ConfigService } from '../../../../config/services/config.service';\r\nimport { Release, ReleasesListResponse, ReleaseResponse } from '../models/releases';\r\nimport { ErrorHandlingHttpService } from '../../../../error-handling/services/error-handling-http.service';\r\n\r\nexport const ASCENDING = 'asc';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ReleasesService {\r\n\r\n    apiEndpoint: string;\r\n\r\n    previousFilter: any = {};\r\n\r\n    previousSortColumn: string = 'name';\r\n\r\n    previousSortDirection: string = 'asc';\r\n\r\n    previousPageIndex: number = 0;\r\n\r\n    previousPageSize: number = 10;\r\n\r\n    public releasesList = new BehaviorSubject<ReleasesListResponse>({ dataCount: 0, data: [] });\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private http: ErrorHandlingHttpService) {\r\n        this.apiEndpoint = this.configService.config.apiConfigs.releases.apiEndpoint;\r\n    }\r\n\r\n    getReleases(filter: any, sortColumn: string, sortDirection: string, pageIndex: number, pageSize: number): Observable<ReleasesListResponse> {\r\n        this.previousFilter = filter;\r\n        this.previousSortColumn = sortColumn;\r\n        this.previousSortDirection = sortDirection;\r\n        this.previousPageIndex = pageIndex;\r\n        this.previousPageSize = pageSize;\r\n\r\n        let queryParams = this.formatQueryParams(\r\n            filter,\r\n            sortColumn, sortDirection,\r\n            pageIndex, pageSize);\r\n        return this.http.get<ReleasesListResponse>(this.apiEndpoint + queryParams);\r\n    }\r\n\r\n    reloadReleases(): Observable<ReleasesListResponse> {\r\n        console.log(\"reload\");\r\n        return this.getReleases(\r\n            this.previousFilter,\r\n            this.previousSortColumn, this.previousSortDirection,\r\n            this.previousPageIndex, this.previousPageSize);\r\n    }\r\n\r\n    postRelease(data: Release): Observable<ReleaseResponse> {\r\n        return this.http.post<ReleaseResponse>(this.apiEndpoint, JSON.stringify(data));\r\n    }\r\n\r\n    getRelease(id: string): Observable<ReleaseResponse> {\r\n        return this.http.get<ReleaseResponse>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    putRelease(data: Release): Observable<Release> {\r\n        return this.http.put<Release>(this.apiEndpoint + data.id + '/', JSON.stringify(data));\r\n    }\r\n\r\n    deleteRelease(id: string): Observable<any> {\r\n        return this.http.delete<any>(this.apiEndpoint + id + '/');\r\n    }\r\n\r\n    formatQueryParams(filter?: any, sortColumn?: string, sortDirection?: string, pageIndex?: number, pageSize?: number): string {\r\n        let queryParams = '';\r\n\r\n        if (filter.sku && filter.sku.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `sku=${filter.sku}`;\r\n        }\r\n\r\n        if (filter.name && filter.name.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `name=${filter.name}`;\r\n        }\r\n\r\n        if (filter.brandId && filter.brandId.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `brandId=${filter.brandId}`;\r\n        }\r\n\r\n        if (filter.collectionId && filter.collectionId.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `collectionId=${filter.collectionId}`;\r\n        }\r\n\r\n        if (filter.category && filter.category.length > 0) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `category=${filter.category}`;\r\n        }\r\n\r\n        if (sortColumn) {\r\n            let ordering = '';\r\n\r\n            if (sortDirection === 'desc') {\r\n                ordering = '-';\r\n            }\r\n            ordering += sortColumn;\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `ordering=${ordering}`;\r\n        }\r\n\r\n        if (pageIndex !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `offset=${pageIndex * pageSize}`;\r\n        }\r\n\r\n        if (pageSize !== undefined) {\r\n            queryParams += queryParams.length > 0 ? '&' : '?';\r\n            queryParams += `limit=${pageSize}`;\r\n        }\r\n\r\n        return queryParams;\r\n    }\r\n\r\n    getAllReleases(): Observable<Release[]> {\r\n        return this.http.get<{ data: Release[] }>(this.apiEndpoint)\r\n            .pipe(map(response => {\r\n                return response.data;\r\n            }));\r\n    }\r\n\r\n}\r\n\r\n"],"sourceRoot":""}