{"version":3,"sources":["webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-creator/collection-creator.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-creator/collection-creator.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-creator/collection-creator.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-form/collection-form.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-form/collection-form.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collection-form/collection-form.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collections-table/collections-table.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collections-table/collections-table.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/collections-table/collections-table.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/delete-collection/delete-collection.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/delete-collection/delete-collection.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/delete-collection/delete-collection.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection-form/edit-collection-form.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection-form/edit-collection-form.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection-form/edit-collection-form.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection/edit-collection.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection/edit-collection.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/edit-collection/edit-collection.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/components/new-collection/new-collection.component.html","webpack:///./src/app/ms-back-office/modules/ms-collections/components/new-collection/new-collection.component.scss","webpack:///./src/app/ms-back-office/modules/ms-collections/components/new-collection/new-collection.component.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/ms-collections-routing.module.ts","webpack:///./src/app/ms-back-office/modules/ms-collections/ms-collections.module.ts"],"names":[],"mappings":"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","file":"ms-collections-ms-collections-module.js","sourcesContent":["module.exports = \"<div class=\\\"\\\" [fxFlex]=\\\"100\\\" fxLayout=\\\"column\\\">\\n    <div fxLayout=\\\"column\\\" class=\\\"padding-bottom-25px\\\">\\n        <h1>COLLECTION CREATOR</h1>\\n    </div>\\n    <div class=\\\"flex-grow-1 display-flex flex-direction-column padding-10px overflow-auto border-top-width-2px border-top-color-grey\\\">\\n\\n        <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\n\\n            <div class=\\\"\\\" [fxFlex]=\\\"100\\\" fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\n\\n                <div [fxFlex]=\\\"40\\\" class=\\\"margin-right-10px\\\">\\n\\n                    <button mat-stroked-button type=\\\"submit\\\" class=\\\"width-90pct max-width-480px\\\" (click)=\\\"showModal()\\\">Add a New Collection</button>\\n\\n                    <mat-form-field class=\\\"width-90pct padding-top-20px\\\">\\n\\n                        <mat-label>COLLECTION LIST</mat-label>\\n\\n                        <mat-select placeholder=\\\"Select\\\" panelOpen=\\\"true\\\" matNativeControl  [formControl]=\\\"selectedCollection\\\">\\n\\n                            <mat-option (click)=\\\"changeCollection(null)\\\">...</mat-option>\\n\\n                            <mat-option *ngFor=\\\"let collection of collections\\\" [value]=\\\"collection.id\\\" (click)=\\\"changeCollection(collection.id)\\\">\\n\\n                                {{collection.name}}\\n\\n                            </mat-option>\\n\\n                        </mat-select>\\n\\n                    </mat-form-field>\\n\\n                </div>\\n\\n                <div [fxFlex]=\\\"60\\\" fxLayout=\\\"row\\\" class=\\\"border-2px-solid-black margin-bottom-25px liked-shops margin-right-10px padding-10px\\\">\\n                    \\n                    <div fxLayout=\\\"column\\\" class=\\\"flex-grow-1\\\">\\n                        \\n                        <div class=\\\"margin-right-25px padding-top-10px padding-bottom-10px flex-shrink-0 display-flex\\\">\\n\\n                            <mat-form-field class=\\\"width-90pct\\\">\\n\\n                                <mat-label>SELECT BRAND</mat-label>\\n\\n                                <mat-select placeholder=\\\"Select\\\" panelOpen=\\\"true\\\">\\n\\n                                    <mat-option>...</mat-option>\\n\\n                                    <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\">\\n\\n                                        {{brand.name}}\\n\\n                                    </mat-option>\\n\\n                                </mat-select>\\n\\n                            </mat-form-field>\\n\\n                        </div>\\n                        <h3>Linked Stores</h3>\\n                        <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column padding-10px border-top-width-2px border-top-color-grey\\\">\\n\\n                            <!--div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\"-->\\n                            <div class=\\\"flex-wrap-wrap display-flex flex-grow-1 flex-shrink-1 flex-direction-row card-container justify-content-initial margin-top-10px\\\">\\n                                <mat-card *ngFor=\\\"let shop of shops\\\" class=\\\"display-flex background-color-secondary flex-direction-column flex-shrink-1\\\">\\n                                    <div class=\\\"image-container margin-10px flex-grow-1\\\" #imageContainer>\\n                                        <img class=\\\"img\\\" imageLoad [srcImage]=\\\"shop.mainImage? shop.mainImage : ''\\\" [container]=\\\"imageContainer\\\" src=\\\"\\\">\\n                                    </div>\\n                                    <div class=\\\"image-card-btns display-flex margin-left-10px margin-right-10px margin-bottom-10px\\\">\\n                                        <mat-checkbox [checked]=\\\"shop.checked\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\" (click)=\\\"linked(shop)\\\">{{ shop.name }}</mat-checkbox>\\n                                    </div>\\n                                </mat-card>\\n                                <!--/div-->\\n                            </div>\\n\\n                        </div>\\n                        <div class=\\\"justify-content-flex-end margin-right-25px padding-top-10px padding-bottom-10px flex-shrink-0 display-flex border-top-width-2px border-top-color-grey\\\">\\n\\n                            <button mat-stroked-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\">Remove Selection</button>\\n\\n                            <button mat-raised-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\" color=\\\"primary\\\" class=\\\"margin-left-10px\\\" (click)=\\\"linkShopsModal()\\\">{{ 'Link New Stores' | translate }}</button>\\n\\n                        </div>\\n                        <h3>Linked Offers</h3>\\n                        <div class=\\\"mb-20\\\" fxFlex fxLayout=\\\"column\\\" fxLayout.lt-md=\\\"column\\\">\\n\\n                            <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column\\\">\\n\\n                                <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\n\\n                                    <offers-collection-table [releases]=\\\"releases\\\" [collections]=\\\"collections\\\"></offers-collection-table>\\n\\n                                </div>\\n\\n                            </div>\\n                            <div class=\\\"justify-content-flex-end margin-right-25px padding-top-10px padding-bottom-10px flex-shrink-0 display-flex border-top-width-2px border-top-color-grey\\\">\\n\\n                                <button mat-stroked-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\">Remove Selection</button>\\n\\n                                <button mat-raised-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\" color=\\\"primary\\\" class=\\\"margin-left-10px\\\" (click)=\\\"linkOffersModal()\\\">{{ 'Link New Offers' | translate }}</button>\\n\\n                            </div>\\n\\n                        </div>\\n\\n                    </div>\\n\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n\\n    </div>\\n\\n    <div class=\\\"margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\n\\n        <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save Changes' | translate }}</button>\\n\\n        <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"close()\\\">{{ 'Cancel' | translate }}</button>\\n\\n    </div>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n@media screen and (max-width: 959px) {\\n  .liked-shops {\\n    max-width: 480px !important; } }\\n\\n.mat-dialog-container {\\n  padding: 10px; }\\n\\n.mat-dialog-content {\\n  height: 60%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nimg {\\n  height: 130px !important;\\n  width: 100% !important; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n.max-width-60-pct {\\n  max-width: 60% !important; }\\n\\n.border {\\n  border: 1px solid #f1f1f1; }\\n\\ntd.mat-cell {\\n  border: none !important; }\\n\\nth.mat-header-cell {\\n  border: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL2NvbGxlY3Rpb24tY3JlYXRvci9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1jb2xsZWN0aW9uc1xcY29tcG9uZW50c1xcY29sbGVjdGlvbi1jcmVhdG9yXFxjb2xsZWN0aW9uLWNyZWF0b3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixhQUNGLEVBQUM7O0FBR0Q7RUFDRTtJQUNJLDRCQUEyQixFQUM5QixFQUFBOztBQUdIO0VBQ0UsY0FBYSxFQUNkOztBQUVEO0VBQ0UsWUFBVztFQUNYLGlCQUFnQjtFQUNoQixvQkFBbUIsRUFDcEI7O0FBRUQ7RUFDRSxnQkFBZSxFQUNoQjs7QUFFRDtFQUNFLGFBQVk7RUFDWix1QkFBc0I7RUFDdEIsY0FBYTtFQUNiLGFBQVk7RUFDWixpQkFBZ0I7RUFDaEIsbUJBQWtCO0VBQ2xCLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLHlCQUF3QjtFQUN4Qix1QkFBcUIsRUFDdEI7O0FBRUQ7RUFDRSxnQkFBZTtFQUNmLFlBQVc7RUFDWCxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSwwQkFBeUIsRUFDMUI7O0FBRUQ7RUFDRSwwQkFBeUIsRUFDMUI7O0FBRUQ7RUFDRSx3QkFBdUIsRUFDeEI7O0FBQ0Q7RUFDRSx3QkFBdUIsRUFDeEIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLWNvbGxlY3Rpb25zL2NvbXBvbmVudHMvY29sbGVjdGlvbi1jcmVhdG9yL2NvbGxlY3Rpb24tY3JlYXRvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgaGVpZ2h0OiAxMDAlXHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1OXB4KSB7XHJcbiAgICAubGlrZWQtc2hvcHMge1xyXG4gICAgICAgIG1heC13aWR0aDogNDgwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuICAubWF0LWRpYWxvZy1jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBoZWlnaHQ6IDYwJTtcclxuICAgIG1heC1oZWlnaHQ6IDgydmg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAubWF0LWRpYWxvZy1hY3Rpb25zIHtcclxuICAgIHBhZGRpbmc6IDEwcHggMDtcclxuICB9XHJcbiAgXHJcbiAgbWF0LWNhcmQge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICB3aWR0aDogMTUwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgaW1ne1xyXG4gICAgaGVpZ2h0OiAxMzBweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUhaW1wb3J0YW50O1xyXG4gIH1cclxuICBcclxuICBtYXQtaWNvbiB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICB3aWR0aDogMjRweDtcclxuICAgIGhlaWdodDogMjRweDtcclxuICB9XHJcbiAgXHJcbiAgLm1heC13aWR0aC02MC1wY3R7XHJcbiAgICBtYXgtd2lkdGg6IDYwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICBcclxuICAuYm9yZGVye1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2YxZjFmMTtcclxuICB9XHJcbiAgXHJcbiAgdGQubWF0LWNlbGx7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcbiAgdGgubWF0LWhlYWRlci1jZWxse1xyXG4gICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ValidationErrors, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent, } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { Collection } from '../../models/collection';\nimport { CollectionsService } from '../../services/collections.service';\nimport { BaseRouteComponent } from '../../../../../routing/components/base-route-component';\nimport { NewCollectionComponent } from '../new-collection/new-collection.component';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { Shop } from '../../../ms-shops/models/shops';\nimport { LinkOffersCollentionModalComponent } from '../../../ms-offers/components/link-offers-collection/link-offers-collection-modal.component';\nimport { LinkShopsCollentionModalComponent } from '../../../ms-shops/components/link-shops-collection/link-shops-collection-modal.component';\n\nconst errorKey = 'Error';\n\nconst savedMessageKey = 'Saved';\n\n@Component({\n  selector: 'collection-creator',\n  templateUrl: './collection-creator.component.html',\n  styleUrls: ['./collection-creator.component.scss']\n})\n@Mixin([CanDeactivateMixin])\nexport class CollectionCreatorComponent implements CanDeactivateMixin, OnInit {\n\n  brands: Array<Brand>;\n\n  data: Collection = {\n    name: \"\",\n    brand: \"\"\n  };\n\n  collections: Array<Collection>;\n\n  shops: Array<Shop>;\n\n  releases: Array<Release>;\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  //modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  modalRef: MatDialogRef<NewCollectionComponent | LinkShopsCollentionModalComponent | LinkOffersCollentionModalComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  linkedShops: Array<string>;\n\n  validationErrors: ValidationErrors;\n\n  collectionId: string;\n\n  selectedCollection = new FormControl();\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    public collectionsService: CollectionsService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    public dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.collections = this.activatedRoute.snapshot.data.collections;\n    this.brands = this.activatedRoute.snapshot.data.brands;\n    this.releases = this.activatedRoute.snapshot.data.releases;\n    this.shops = this.activatedRoute.snapshot.data.shops;    \n  }\n\n  submit(data: Collection) {\n    this.createUser(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, { relativeTo: this.activatedRoute });\n  }\n\n  createUser(data: Collection) {\n\n    this.collectionsService.postCollection(data).subscribe(response => {\n      this.unsavedChanges = false;\n      //this.close.emit();TODO\n      this.close();\n      this.toastr.success(savedMessageKey);\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.validationErrors = error.formErrors;\n      });\n  }\n\n  showModal() {\n    this.modalRef = this.dialog.open(NewCollectionComponent, {\n      height: '90%',\n      width: '90%',\n      data: { brands: this.brands }\n    });\n    this.modalRef.afterClosed().subscribe(() => {\n      this.collectionsService.getAllCollections().subscribe((response) => {\n        this.collections = response;\n        this.selectedCollection.setValue(this.collections[0].id);\n        this.changeCollection(this.collections[0].id);\n      });\n    });\n  }\n\n  linkShopsModal() {\n    this.modalRef = this.dialog.open(LinkShopsCollentionModalComponent, {\n      height: '90%',\n      width: '90%',\n      data: {\n        collectionId: this.collectionId,\n        shops: this.shops,\n      }\n    });\n    this.modalRef.afterClosed().subscribe(() => {\n      this.changeCollection(this.selectedCollection.value);\n    });\n  }\n\n  linkOffersModal() {\n    this.modalRef = this.dialog.open(LinkOffersCollentionModalComponent, {\n      height: '90%',\n      width: '90%',\n      data: {\n        collectionId: this.collectionId,\n        shops: this.shops,\n      }\n    });\n  }\n\n  linked(shop: Shop) {\n    shop.linked = !shop.linked;\n    if (shop.linked) {\n      this.linkedShops = [...this.linkedShops, shop.id];\n    } else {\n      let indexLinked = this.linkedShops.findIndex((val) => val === shop.id);\n      if (indexLinked > -1) {\n        let linked: Array<string> = [];\n        this.linkedShops.forEach((shopId, index) => {\n          if (index != indexLinked) {\n            linked = [...linked, shopId]\n          }\n        });\n        this.linkedShops = linked;\n\n      }\n    }\n  }\n\n  isLinked(id: string) {\n    let isLinked = this.linkedShops.findIndex(shopId => shopId === id) > -1;\n    if (isLinked) {\n      let index = this.shops.findIndex(shop => shop.id === id);\n      this.shops[index].linked = true;\n      this.shops[index].checked = true;\n    } else {\n      let index = this.shops.findIndex(shop => shop.id === id);\n      this.shops[index].linked = false;\n      this.shops[index].checked = false;\n    }\n\n  }\n\n  changeCollection(collectionId: string) {\n    this.collectionId = collectionId;\n    if (collectionId) {\n      this.collectionsService.getCollectionLinkedShops(collectionId).subscribe(response => {\n        this.linkedShops = response.data;\n        this.shops.forEach((shop) => {\n          this.isLinked(shop.id);\n        });\n      },\n        (error: HandledError) => {\n          this.errorHandlingService.handleUiError(errorKey, error);\n        });\n    }\n\n  }\n\n  save() {\n    this.collectionsService.postCollectionLinkedShops(this.collectionId, this.linkedShops).subscribe(response => {\n      this.toastr.success(\"Saved\");\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n      });\n  }\n\n}\n","module.exports = \"<form class=\\\"flex-grow-1 min-height-0 display-flex flex-direction-column\\\" [askBeforeRefresh]=\\\"formGroup.dirty\\\" [formGroup]=\\\"formGroup\\\"\\n  novalidate role=\\\"form\\\" (ngSubmit)=\\\"submitClicked()\\\" autocomplete=\\\"off\\\" inputFocus>\\n\\n  <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column\\\">\\n\\n    <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\n\\n      <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\n\\n        <mat-label>Name</mat-label>\\n\\n        <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required>\\n\\n      </mat-form-field>\\n\\n      <mat-form-field>\\n        <mat-label>Brand</mat-label>\\n        <mat-select placeholder=\\\"Brand\\\" formControlName=\\\"brand\\\" required>\\n          <mat-option>...</mat-option>\\n          <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\">\\n            {{brand.name}}\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n\\n      <div [fxFlex]=\\\"50\\\" class=\\\"border width-480px\\\">\\n\\n        <image-card class=\\\"flex-grow-1 padding-10px\\\" formControlName=\\\"faces\\\" [principal]=\\\"principal\\\"></image-card>\\n\\n      </div>\\n\\n      <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\n\\n        <mat-label>Description</mat-label>\\n\\n        <textarea matInput formControlName=\\\"description\\\"></textarea>\\n\\n      </mat-form-field>\\n\\n    </div>\\n  </div>\\n  <div class=\\\"margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\n\\n    <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save' | translate }}</button>\\n\\n    <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"cancelClicked()\\\">{{ 'Cancel' | translate }}</button>\\n\\n  </div>\\n</form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n.height-34px {\\n  height: 34px !important; }\\n\\n.width-100pc {\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL2NvbGxlY3Rpb24tZm9ybS9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1jb2xsZWN0aW9uc1xcY29tcG9uZW50c1xcY29sbGVjdGlvbi1mb3JtXFxjb2xsZWN0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZjs7QUFFRDtFQUNJLHdCQUF1QixFQUMxQjs7QUFFRDtFQUNJLFlBQVcsRUFDZCIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtY29sbGVjdGlvbnMvY29tcG9uZW50cy9jb2xsZWN0aW9uLWZvcm0vY29sbGVjdGlvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuXHJcbi5oZWlnaHQtMzRweHtcclxuICAgIGhlaWdodDogMzRweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ud2lkdGgtMTAwcGN7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuIl19 */\"","import { ChangeDetectionStrategy, Component, Input, OnInit, } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\n//\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { Face, State } from '../../../../../ui/modules/images-card/models/face';\nimport { BaseReactiveFormComponent } from '../../../../../ui/components/base-reactive-form/base-reactive-form-component';\nimport { Collection } from '../../models/collection';\nimport { Brand } from '../../../ms-brands/models/brand';\n\n@Component({\n    selector: 'collection-form',\n    templateUrl: './collection-form.component.html',\n    styleUrls: ['./collection-form.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class CollectionFormComponent extends BaseReactiveFormComponent<Collection> implements OnInit {\n\n    @Input() brands: Array<Brand>;\n\n    @Input() faceList: Array<Face> = [];\n\n    @Input() principal: Face;\n\n    faces: FormControl;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        translateService: TranslateService) {\n        super(translateService);\n        //setTranslations(this.translateService, TRANSLATIONS);TODO\n    }\n\n    ngOnInit() {\n        let validationsErrors: any[] = [\n            {\n                type: 'required',\n                key: 'Required Field',\n                params: null,\n                translation: ''\n            }\n        ];\n\n        this.validationErrorMessages = validationsErrors;\n\n        this.createFormGroup();\n    }\n\n    createFormGroup() {\n        this.faces = this.formBuilder.control(this.faceList);\n        this.formGroup = new FormGroup({\n            faces: this.faces,\n            name: new FormControl(this.data.name, [Validators.required]),\n            description: new FormControl(this.data.description),\n            brand: new FormControl(this.data.brand, [Validators.required]),\n            //updatedAt: new FormControl(this.data.updatedAt)            \n        });\n    }\n\n    submitClicked() {\n        if (this.formGroup.valid) {\n            this.accept.emit(this.data);\n        } else {\n            this.triggerValidation();\n        }\n    }\n}\n\n","module.exports = \"<h1>Collections Table</h1>\\n\\n<mat-toolbar class=\\\"margin-right-25px margin-bottom-10px width-auto flex-shrink-0 background-color-secondary color-primary mat-elevation-z2\\\"\\n  [formGroup]=\\\"filter\\\">\\n\\n  <mat-icon matPrefix color=\\\"primary\\\">search</mat-icon>\\n  <mat-form-field>\\n    <input matInput formControlName=\\\"name\\\" placeholder=\\\"Name\\\">\\n  </mat-form-field>\\n\\n  <mat-form-field>\\n    <mat-label>Brand</mat-label>\\n    <mat-select placeholder=\\\"Brand\\\" formControlName=\\\"brand\\\">\\n      <mat-option>...</mat-option>\\n      <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\">\\n        {{brand.name}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n\\n  <span class=\\\"flex-grow-1\\\"></span>\\n  <button mat-raised-button color=\\\"primary\\\" [routerLink]=\\\"['../create']\\\">CREATE A NEW COLLECTION</button>\\n</mat-toolbar>\\n\\n<div class=\\\"flex-grow-1 overflow-auto display-flex\\\">\\n\\n  <table class=\\\"margin-top-10px margin-right-25px width-100pct\\\" mat-table [dataSource]=\\\"collections\\\" matSort [matSortActive]=\\\"collectionsService.previousSortColumn\\\"\\n    [matSortDirection]=\\\"collectionsService.previousSortDirection\\\" matSortDisableClear (matSortChange)=\\\"onSort()\\\">\\n\\n    <ng-container matColumnDef=\\\"name\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        NAME\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ element.name }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"thumbnail\\\">\\n      <th mat-header-cell *matHeaderCellDef></th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"display-flex flex-grow-1 height-100pct padding-left-0px width-100pct\\\">\\n        <div class=\\\"position-relative margin-top-5px\\\">\\n          <img [src]=\\\"element.imgUrl\\\" class=\\\"height-90pct width-90pct margin-auto\\\" alt=\\\"50\\\">\\n        </div>\\n      </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"brand\\\">\\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\\n        BRAND\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"padding-table-td\\\"> {{ getBrand(element.brand) }} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"action\\\">\\n      <th mat-header-cell *matHeaderCellDef>\\n      </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" class=\\\"min-width-80px\\\">\\n        <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Edit\\\" [routerLink]=\\\"['../edit', element.id]\\\">\\n          <mat-icon>edit</mat-icon>\\n        </button>\\n        <button mat-icon-button color=\\\"primary\\\" [matTooltip]=\\\"Delete\\\" [routerLink]=\\\"['../delete', element.id]\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" [ngClass]=\\\"row.is_active ? '' : 'text-decoration-line-through'\\\">\\n    </tr>\\n\\n  </table>\\n\\n</div>\\n\\n<div class=\\\"margin-right-25px padding-top-5px padding-bottom-5px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\n  <span class=\\\"flex-grow-1\\\"></span>\\n  <mat-paginator [length]=\\\"totalLength\\\" [pageSizeOptions]=\\\"[5, 10, 20, 50, 100]\\\" [pageIndex]=\\\"\\\" [pageSize]=\\\"50\\\" showFirstLastButtons\\n    (page)=\\\"onPage()\\\">\\n  </mat-paginator>\\n</div>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\ntable {\\n  width: 100%; }\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  padding-right: 5px;\\n  width: 100px !important; }\\n\\ntd,\\nth {\\n  width: 25%; }\\n\\n.padding-bottom-10 {\\n  padding-bottom: 10px; }\\n\\nimg {\\n  height: 60px !important;\\n  width: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL2NvbGxlY3Rpb25zLXRhYmxlL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLWNvbGxlY3Rpb25zXFxjb21wb25lbnRzXFxjb2xsZWN0aW9ucy10YWJsZVxcY29sbGVjdGlvbnMtdGFibGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZjs7QUFFRDtFQUNJLFlBQVcsRUFDZDs7QUFFRDtFQUNJLGdCQUFlO0VBQ2YsbUJBQWtCO0VBQ2xCLHdCQUF1QixFQUMxQjs7QUFFRDs7RUFFSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxxQkFDSixFQUFDOztBQUVEO0VBQ0ksd0JBQXVCO0VBQ3ZCLHdCQUF1QixFQUMxQiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtY29sbGVjdGlvbnMvY29tcG9uZW50cy9jb2xsZWN0aW9ucy10YWJsZS9jb2xsZWN0aW9ucy10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLm1hdC1mb3JtLWZpZWxkIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgIHdpZHRoOiAxMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG50ZCxcclxudGgge1xyXG4gICAgd2lkdGg6IDI1JTtcclxufVxyXG5cclxuLnBhZGRpbmctYm90dG9tLTEwIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4XHJcbn1cclxuXHJcbmltZ3tcclxuICAgIGhlaWdodDogNjBweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuIl19 */\"","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\n//\nimport { MatPaginator, MatSort } from '@angular/material';\nimport { Observable } from 'rxjs/Observable';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n//\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\n//\nimport { CollectionsService } from \"../../services/collections.service\";\nimport { Collection, CollectionsListResponse } from \"../../models/collection\";\nimport { Brand } from '../../../ms-brands/models/brand';\n\nconst errorKey = 'Error';\n\n@Component({\n    selector: 'collections-table',\n    templateUrl: './collections-table.component.html',\n    styleUrls: ['./collections-table.component.scss']\n})\nexport class CollectionsTableComponent implements OnDestroy, OnInit {\n\n    displayedColumns: string[] = [\n        'name',\n        'thumbnail',\n        'brand',\n        'action'\n    ];\n\n    brands: Array<Brand>;\n\n    filter: FormGroup;\n\n    filterValueChanges: Subscription;\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n\n    @ViewChild(MatSort) sort: MatSort;\n\n    totalLength: number = 0;\n\n    collectionsList: Subscription;\n\n    collections: Array<Collection> = [];\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public collectionsService: CollectionsService,\n        public errorHandlingService: ErrorHandlingService\n    ) {\n    }\n\n    ngOnInit() {\n        this.filter = this.createFilterFormGroup();\n        this.filterValueChanges = this.filter.valueChanges.pipe(debounceTime(500)).subscribe(change => this.onFilter());\n        this.paginator.pageIndex = 0;\n\n        this.brands = this.activatedRoute.snapshot.data.brands;\n\n        this.collectionsList = this.collectionsService.collectionsList.subscribe((brandsList: any) => {\n            this.totalLength = brandsList.dataCount;\n            this.collections = brandsList.data;\n            if (this.collections.length === 0 && this.totalLength > 0 && this.collectionsService.previousPageSize > 0) {\n                this.collectionsService.previousPageIndex =\n                    Math.ceil(this.totalLength / this.collectionsService.previousPageSize) - 1;\n                this.collectionsService.reloadCollections().subscribe(response => {\n                    this.collectionsService.collectionsList.next(response);\n                },\n                    (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n            }\n        });\n    }\n\n\n    ngAfterViewInit() {\n        this.loadPage();\n    }\n\n    ngOnDestroy() {\n        this.collectionsList.unsubscribe();\n        this.filterValueChanges.unsubscribe();\n    }\n\n    createFilterFormGroup() {\n        let group: any = {};\n        group['name'] = new FormControl('');\n        group['brand'] = new FormControl('');\n        return new FormGroup(group);\n    }\n\n    loadPage() {\n        this.collectionsService.getCollections(\n            Object.assign({}, this.filter.value),\n            this.sort.active, this.sort.direction,\n            this.paginator.pageIndex, this.paginator.pageSize).subscribe((response: CollectionsListResponse) => {\n                this.collectionsService.collectionsList.next(response);\n            },\n                (err: HandledError) => {\n                    this.errorHandlingService.handleUiError(errorKey, err)\n                });\n    }\n\n    onFilter() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onSort() {\n        this.paginator.pageIndex = 0;\n        this.loadPage();\n    }\n\n    onPage() {\n        this.loadPage();\n    }\n\n    getBrand(id: string) {\n        try {\n            return this.brands.find(brand => {\n                return brand.id === id;\n            }).name;\n        }\n        catch (err) {\n            return;\n        }\n\n    }\n\n}\n\n","module.exports = \"\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtY29sbGVjdGlvbnMvY29tcG9uZW50cy9kZWxldGUtY29sbGVjdGlvbi9kZWxldGUtY29sbGVjdGlvbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\n\n\n//import { setTranslations } from '../../../../../ngx-translate';\n//import { TRANSLATIONS } from './i18n/delete-user.component.translations';\nimport { Collection } from '../../models/collection';\nimport { CollectionsService } from '../../services/collections.service';\n\nconst titleKey = 'Delete';\n\nconst deleteBtnKey = 'Delete';\n\nconst messageKey = 'Are you sure you want to delete this Collection?';\n\nconst errorKey = 'Error';\n\nconst deletedMessageKey = 'Deleted';\n\n@Component({\n  selector: 'delete-collection',\n  templateUrl: './delete-collection.component.html',\n  styleUrls: ['./delete-collection.component.scss']\n})\nexport class DeleteCollectionComponent implements AfterViewInit, OnInit {\n\n  data: Collection;\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  collectionId: string;\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    private dialog: MatDialog,\n    public collectionsService: CollectionsService,\n    private errorHandlingService: ErrorHandlingService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngAfterViewInit() {\n    this.getCollection();\n  }\n\n  ngOnInit() {\n    this.collectionId = this.activatedRoute.snapshot.data.collectionId;\n  }\n\n  getCollection() {\n    this.collectionsService.getCollection(this.collectionId).subscribe(response => {\n      this.data = response.data;\n      this.confirmDeleteCollection();\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n    )\n  }\n\n  close(){\n    this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, {relativeTo: this.activatedRoute});\n  }\n\n  confirmDeleteCollection() {\n    this.modalRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        titleKey: titleKey,\n        okBtnKey: deleteBtnKey,\n        messageKey: messageKey,\n        messageParam: { param: this.data.name }\n      }\n    });\n   \n    this.modalRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.deleteCollection();\n      } else {\n        this.close();\n      }\n    });\n  }\n\n  deleteCollection(): void {\n    this.collectionsService.deleteCollection(this.data.id).subscribe(response => {\n      this.collectionsService.reloadCollections().subscribe(response => {\n        this.collectionsService.collectionsList.next(response);\n        this.toastr.success(deletedMessageKey);\n        this.close();\n      },\n        (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error));\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.close();\n      }\n    )\n  }\n}\n\n","module.exports = \"<form class=\\\"flex-grow-1 min-height-0 display-flex flex-direction-column\\\" [askBeforeRefresh]=\\\"formGroup.dirty\\\" [formGroup]=\\\"formGroup\\\"\\r\\n    novalidate role=\\\"form\\\" (ngSubmit)=\\\"submitClicked()\\\" autocomplete=\\\"off\\\" inputFocus>\\r\\n\\r\\n\\r\\n\\r\\n    <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column padding-top-25px\\\">\\r\\n\\r\\n        <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n            <mat-tab-group>\\r\\n\\r\\n                <mat-tab label=\\\"Collection\\\">\\r\\n\\r\\n                    <div fxLayout=\\\"column\\\" class=\\\"flex-grow-1 padding-top-25px\\\">\\r\\n\\r\\n                        <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\r\\n\\r\\n                            <mat-label>Name</mat-label>\\r\\n\\r\\n                            <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n\\r\\n                        </mat-form-field>\\r\\n\\r\\n                        <mat-form-field>\\r\\n                            <mat-label>Brand</mat-label>\\r\\n                            <mat-select placeholder=\\\"Brand\\\" formControlName=\\\"brand\\\" required>\\r\\n                                <mat-option>...</mat-option>\\r\\n                                <mat-option *ngFor=\\\"let brand of brands\\\" [value]=\\\"brand.id\\\">\\r\\n                                    {{brand.name}}\\r\\n                                </mat-option>\\r\\n                            </mat-select>\\r\\n                        </mat-form-field>\\r\\n\\r\\n                        <div [fxFlex]=\\\"50\\\" class=\\\"border width-480px\\\">\\r\\n\\r\\n                            <image-card class=\\\"flex-grow-1 padding-10px\\\" formControlName=\\\"faces\\\" [principal]=\\\"principal\\\"></image-card>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <mat-form-field class=\\\"width-100pc margin-left-16px\\\">\\r\\n\\r\\n                            <mat-label>Description</mat-label>\\r\\n\\r\\n                            <textarea matInput formControlName=\\\"description\\\"></textarea>\\r\\n\\r\\n                        </mat-form-field>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                </mat-tab>\\r\\n\\r\\n                <mat-tab label=\\\"Link\\\" class=\\\"width-50pc\\\">\\r\\n\\r\\n                    <div fxLayout=\\\"row\\\" class=\\\"margin-bottom-25px liked-shops margin-right-10px padding-10px\\\">\\r\\n                        <div fxLayout=\\\"column\\\" class=\\\"flex-grow-1\\\">\\r\\n\\r\\n                            <h3>Linked Stores</h3>\\r\\n                            <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column padding-10px border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n                                <!--div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\"-->\\r\\n                                <div class=\\\"flex-wrap-wrap display-flex flex-grow-1 flex-shrink-1 flex-direction-row card-container justify-content-initial margin-top-10px\\\">\\r\\n                                    <mat-card *ngFor=\\\"let shop of shops\\\" class=\\\"display-flex background-color-secondary flex-direction-column flex-shrink-1\\\">\\r\\n                                        <div class=\\\"image-container margin-10px flex-grow-1\\\" #imageContainer>\\r\\n                                            <img class=\\\"img\\\" imageLoad [srcImage]=\\\"shop.mainImage? shop.mainImage : ''\\\" [container]=\\\"imageContainer\\\" src=\\\"\\\">\\r\\n                                        </div>\\r\\n                                        <div class=\\\"image-card-btns display-flex margin-left-10px margin-right-10px margin-bottom-10px\\\">\\r\\n                                            <mat-checkbox [checked]=\\\"shop.checked\\\" class=\\\"margin-top-10px\\\" matTooltip=\\\"{{ 'Principal' | translate }}\\\" (click)=\\\"linked(shop)\\\">{{ shop.name }}</mat-checkbox>\\r\\n                                        </div>\\r\\n                                    </mat-card>\\r\\n                                    <!--/div-->\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n                            <div class=\\\"justify-content-flex-end margin-right-25px padding-top-10px padding-bottom-10px flex-shrink-0 display-flex border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n                                <button mat-stroked-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\">Remove Selection</button>\\r\\n\\r\\n                                <button mat-raised-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\" color=\\\"primary\\\" class=\\\"margin-left-10px\\\" (click)=\\\"linkShopsModal()\\\">{{ 'Link New Stores' | translate }}</button>\\r\\n\\r\\n                            </div>\\r\\n                            <h3>Linked Offers</h3>\\r\\n                            <div class=\\\"mb-20\\\" fxFlex fxLayout=\\\"column\\\" fxLayout.lt-md=\\\"column\\\">\\r\\n\\r\\n                                <div class=\\\"flex-grow-1 overflow-auto display-flex flex-direction-column\\\">\\r\\n\\r\\n                                    <div class=\\\"flex-grow-1 flex-shrink-0 display-flex flex-direction-column\\\">\\r\\n\\r\\n                                        <offers-collection-table [collections]=\\\"collections\\\" [releases]=\\\"releases\\\"></offers-collection-table>\\r\\n\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"justify-content-flex-end margin-right-25px padding-top-10px padding-bottom-10px flex-shrink-0 display-flex border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n                                    <button mat-stroked-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\">Remove Selection</button>\\r\\n\\r\\n                                    <button mat-raised-button type=\\\"button\\\" [disabled]=\\\"!collectionId\\\" color=\\\"primary\\\" class=\\\"margin-left-10px\\\" (click)=\\\"linkOffersModal()\\\">{{ 'Link New Offers' | translate }}</button>\\r\\n\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                </mat-tab>\\r\\n\\r\\n                <mat-tab label=\\\"Releases\\\" class=\\\"width-50pc\\\">\\r\\n\\r\\n                    <releases-collection-table [collectionId]=\\\"collectionId\\\"></releases-collection-table>\\r\\n\\r\\n                </mat-tab>\\r\\n            </mat-tab-group>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"margin-right-25px padding-top-25px padding-bottom-25px flex-shrink-0 display-flex border-top-style-solid border-top-width-2px border-top-color-grey\\\">\\r\\n\\r\\n        <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\">{{ 'Save' | translate }}</button>\\r\\n\\r\\n        <button mat-raised-button type=\\\"button\\\" class=\\\"margin-left-10px\\\" (click)=\\\"cancelClicked()\\\">{{ 'Cancel' | translate }}</button>\\r\\n\\r\\n    </div>\\r\\n</form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n.height-34px {\\n  height: 34px !important; }\\n\\n.width-100pc {\\n  width: 100%; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nimg {\\n  height: 130px !important;\\n  width: 100% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL2VkaXQtY29sbGVjdGlvbi1mb3JtL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLWNvbGxlY3Rpb25zXFxjb21wb25lbnRzXFxlZGl0LWNvbGxlY3Rpb24tZm9ybVxcZWRpdC1jb2xsZWN0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZjs7QUFFRDtFQUNJLHdCQUF1QixFQUMxQjs7QUFFRDtFQUNJLFlBQVcsRUFDZDs7QUFHRDtFQUNJLGFBQVk7RUFDWix1QkFBc0I7RUFDdEIsY0FBYTtFQUNiLGFBQVk7RUFDWixpQkFBZ0I7RUFDaEIsbUJBQWtCO0VBQ2xCLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLHlCQUF3QjtFQUN4Qix1QkFBcUIsRUFDeEIiLCJmaWxlIjoic3JjL2FwcC9tcy1iYWNrLW9mZmljZS9tb2R1bGVzL21zLWNvbGxlY3Rpb25zL2NvbXBvbmVudHMvZWRpdC1jb2xsZWN0aW9uLWZvcm0vZWRpdC1jb2xsZWN0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxufVxyXG5cclxuLmhlaWdodC0zNHB4e1xyXG4gICAgaGVpZ2h0OiAzNHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi53aWR0aC0xMDBwY3tcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxubWF0LWNhcmQge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICB3aWR0aDogMTUwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcblxyXG4gIGltZ3tcclxuICAgIGhlaWdodDogMTMwcHggIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAxMDAlIWltcG9ydGFudDtcclxufVxyXG5cclxuXHJcbiJdfQ== */\"","import { ChangeDetectionStrategy, Component, Input, OnInit, } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { Face, State } from '../../../../../ui/modules/images-card/models/face';\nimport { BaseReactiveFormComponent } from '../../../../../ui/components/base-reactive-form/base-reactive-form-component';\nimport { Collection } from '../../models/collection';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { Shop } from '../../../ms-shops/models/shops';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { CollectionsService } from '../../services/collections.service';\nimport { LinkOffersCollentionModalComponent } from '../../../ms-offers/components/link-offers-collection/link-offers-collection-modal.component';\nimport { LinkShopsCollentionModalComponent } from '../../../ms-shops/components/link-shops-collection/link-shops-collection-modal.component';\n\nconst errorKey = 'Error';\n\n@Component({\n    selector: 'edit-collection-form',\n    templateUrl: './edit-collection-form.component.html',\n    styleUrls: ['./edit-collection-form.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class EditCollectionFormComponent extends BaseReactiveFormComponent<Collection> implements OnInit {\n\n    @Input() brands: Array<Brand>;\n\n    @Input() faceList: Array<Face> = [];\n\n    @Input() principal: Face;\n\n    @Input() collectionId: string;\n\n    @Input() releases: Array<Release>;\n\n    @Input() collections: Array<Collection>;\n\n    faces: FormControl;\n\n    linkedShops: Array<string>;\n\n    modalRef: MatDialogRef<LinkShopsCollentionModalComponent | LinkOffersCollentionModalComponent>;\n\n    shops: Array<Shop>;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        private formBuilder: FormBuilder,\n        public collectionsService: CollectionsService,\n        private errorHandlingService: ErrorHandlingService,\n        private toastr: ToastrService,\n        public dialog: MatDialog,\n        translateService: TranslateService) {\n        super(translateService);\n        //setTranslations(this.translateService, TRANSLATIONS);TODO\n    }\n\n    ngOnInit() {\n        this.shops = this.activatedRoute.snapshot.data.shops;        \n        let validationsErrors: any[] = [\n            {\n                type: 'required',\n                key: 'Required Field',\n                params: null,\n                translation: ''\n            }\n        ];\n\n        this.validationErrorMessages = validationsErrors;\n\n        this.createFormGroup();\n    }\n\n    createFormGroup() {\n        this.faces = this.formBuilder.control(this.faceList);\n        this.formGroup = new FormGroup({\n            faces: this.faces,\n            name: new FormControl(this.data.name, [Validators.required]),\n            description: new FormControl(this.data.description),\n            brand: new FormControl(this.data.brand, [Validators.required]),\n            //updatedAt: new FormControl(this.data.updatedAt)            \n        });\n    }\n\n    submitClicked() {\n        if (this.formGroup.valid) {\n            this.accept.emit(this.data);\n        } else {\n            this.triggerValidation();\n        }\n    }\n\n    linkShopsModal() {\n        this.modalRef = this.dialog.open(LinkShopsCollentionModalComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                collectionId: this.collectionId,\n                shops: this.shops,\n            }\n        });\n    }\n\n    linkOffersModal() {\n        this.modalRef = this.dialog.open(LinkOffersCollentionModalComponent, {\n            height: '90%',\n            width: '90%',\n            data: {\n                collectionId: this.collectionId,\n                shops: this.shops,\n                releases: this.releases,\n                collections: this.collections\n\n            }\n        });\n    }\n\n    linked(shop: Shop) {\n        shop.linked = !shop.linked;\n        if (shop.linked) {\n            this.linkedShops = [...this.linkedShops, shop.id];\n        } else {\n            let indexLinked = this.linkedShops.findIndex((val) => val === shop.id);\n            if (indexLinked > -1) {\n                let linked: Array<string> = [];\n                this.linkedShops.forEach((shopId, index) => {\n                    if (index != indexLinked) {\n                        linked = [...linked, shopId]\n                    }\n                });\n                this.linkedShops = linked;\n\n            }\n        }\n    }\n\n    isLinked(id: string) {\n        let isLinked = this.linkedShops.findIndex(shopId => shopId === id) > -1;\n        if (isLinked) {\n            let index = this.shops.findIndex(shop => shop.id === id);\n            this.shops[index].linked = true;\n            this.shops[index].checked = true;\n        } else {\n            let index = this.shops.findIndex(shop => shop.id === id);\n            this.shops[index].linked = false;\n            this.shops[index].checked = false;\n        }\n\n    }\n\n    changeCollection(collectionId: string) {\n        this.collectionId = collectionId;\n        this.collectionsService.getCollectionLinkedShops(collectionId).subscribe(response => {\n            this.linkedShops = response.data;\n            this.shops.forEach((shop) => {\n                this.isLinked(shop.id);\n            });\n        },\n            (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n            });\n    }\n\n    save() {\n        this.collectionsService.postCollectionLinkedShops(this.collectionId, this.linkedShops).subscribe(response => {\n            this.toastr.success(\"Saved\");\n        },\n            (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n            });\n    }\n}\n\n","module.exports = \"<h1>EDIT COLLECTION</h1>\\n\\n<edit-collection-form *ngIf=\\\"data\\\"\\n    [data]=\\\"data\\\"\\n    [brands]=\\\"brands\\\"\\n    [releases]=\\\"releases\\\"\\n    [collections]=\\\"collections\\\"\\n    [collectionId]=\\\"collectionId\\\"\\n    [faceList]=\\\"faceList\\\"\\n    [principal]=\\\"principal\\\"\\n    (accept)=\\\"submit($event)\\\"\\n    [validationErrors]=\\\"validationErrors\\\"\\n    (cancel)=\\\"cancel()\\\"\\n    (dataChange)=\\\"dataChanged()\\\">\\n</edit-collection-form>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL2VkaXQtY29sbGVjdGlvbi9FOlxcUFJPR1JBTUFDSU9OIElJSVxcbW9yZXNuZWFrZXJzLWJhY2tvZmZpY2Uvc3JjXFxhcHBcXG1zLWJhY2stb2ZmaWNlXFxtb2R1bGVzXFxtcy1jb2xsZWN0aW9uc1xcY29tcG9uZW50c1xcZWRpdC1jb2xsZWN0aW9uXFxlZGl0LWNvbGxlY3Rpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDZiIsImZpbGUiOiJzcmMvYXBwL21zLWJhY2stb2ZmaWNlL21vZHVsZXMvbXMtY29sbGVjdGlvbnMvY29tcG9uZW50cy9lZGl0LWNvbGxlY3Rpb24vZWRpdC1jb2xsZWN0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn0iXX0= */\"","import { Component, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { Observable } from 'rxjs';\nimport { MatDialog, MatDialogRef, MatSnackBar } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { Face, MainImage, State, Status } from '../../../../../ui/modules/images-card/models/face';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\n//\nimport { Collection } from '../../models/collection';\nimport { CollectionsService } from '../../services/collections.service';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { Release } from '../../../ms-releases/models/releases';\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\n//import { setTranslations } from '@c/ngx-translate';\n\nconst errorKey = 'Error';\n\nconst updatedGroupMessageKey = 'Updated';\n\n@Component({\n  selector: 'edit-collection',\n  templateUrl: './edit-collection.component.html',\n  styleUrls: ['./edit-collection.component.scss']\n})\n\n@Mixin([CanDeactivateMixin])\nexport class EditCollectionComponent implements AfterViewInit, CanDeactivateMixin {\n\n  brands: Array<Brand>;\n\n  data: Collection;\n\n  validationErrors: ValidationErrors;\n\n  collections: Array<Collection>;\n\n  releases: Array<Release>;\n\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n  faceList: Array<Face> = [];\n\n  principal: Face;\n\n  collectionId: string;\n\n  constructor(\n    public activatedRoute: ActivatedRoute,\n    public dialog: MatDialog,\n    public collectionsService: CollectionsService,\n    private errorHandlingService: ErrorHandlingService,\n    public imagesService: ImagesService,\n    public router: Router,\n    public snackBar: MatSnackBar,\n    private translate: TranslateService,\n    private toastr: ToastrService) {\n    //setTranslations(this.translate, TRANSLATIONS);\n  }\n\n  ngOnInit() {\n    this.collectionId = this.activatedRoute.snapshot.data.collectionId;\n    this.brands = this.activatedRoute.snapshot.data.brands;\n    this.collections = this.activatedRoute.snapshot.data.collections;\n    this.releases = this.activatedRoute.snapshot.data.releases;\n  }\n  ngAfterViewInit() {\n    this.getCollection();\n  }\n\n  getCollection() {\n    this.collectionsService.getCollection(this.collectionId).subscribe(response => {\n      this.data = response.data;\n      if (this.data.imgUrl) {\n        let face: Face = {\n          imgUrl: this.data.imgUrl,\n        };\n        this.faceList = [face];\n        this.principal = face;\n      }\n\n    },\n      (error: HandledError) => this.errorHandlingService.handleUiError(errorKey, error)\n    )\n  }\n\n  submit(data: Collection) {\n    delete data.updatedAt;\n    delete data.createdAt;\n    this.updateCollection(data);\n  }\n\n  cancel() {\n    this.close();\n  }\n\n  close() {\n    this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, { relativeTo: this.activatedRoute });\n  }\n\n  updateCollection(collectionData: Collection) {\n    if (collectionData.faces) {\n      for (const position in collectionData.faces) {\n        const face = collectionData.faces[position];\n        if (face.state === State.New) {\n          const subscription$ = this.imagesService.postImage(face.file).subscribe(response => {\n            collectionData.imgUrl = response.data.url;\n            this.collectionsService.putCollection(collectionData).subscribe(response => {\n              this.unsavedChanges = false;\n              this.close();\n              this.toastr.success(updatedGroupMessageKey);\n            },\n              (error: HandledError) => {\n                this.errorHandlingService.handleUiError(errorKey, error);\n                this.validationErrors = error.formErrors;\n              });\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n        } else {\n          this.collectionsService.putCollection(collectionData).subscribe(response => {\n            this.unsavedChanges = false;\n            this.close();\n            this.toastr.success(updatedGroupMessageKey);\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error);\n              this.validationErrors = error.formErrors;\n            });\n        }\n      }\n    } else {\n      this.collectionsService.putCollection(collectionData).subscribe(response => {\n        this.unsavedChanges = false;\n        this.close();\n        this.toastr.success(updatedGroupMessageKey);\n      },\n        (error: HandledError) => {\n          this.errorHandlingService.handleUiError(errorKey, error);\n          this.validationErrors = error.formErrors;\n        });\n    }\n  }\n}","module.exports = \"<h1>COLLECTION CREATOR</h1>\\n\\n<collection-form class=\\\"flex-grow-1\\\"\\n    [brands]=\\\"dialogData.brands\\\"\\n    [data]=\\\"data\\\"        \\n    (accept)=\\\"submit($event)\\\"\\n    (cancel)=\\\"cancel()\\\"\\n    [validationErrors]=\\\"validationErrors\\\"\\n    (dataChange)=\\\"dataChanged()\\\">\\n</collection-form>\"","module.exports = \":host {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n.mat-dialog-container {\\n  padding: 10px; }\\n\\n.mat-dialog-content {\\n  height: 60%;\\n  max-height: 82vh;\\n  margin-bottom: 10px; }\\n\\n.mat-dialog-actions {\\n  padding: 10px 0; }\\n\\nmat-card {\\n  padding: 0px;\\n  align-self: flex-start;\\n  height: 200px;\\n  width: 150px;\\n  margin-left: 2px;\\n  margin-right: 15px;\\n  margin-bottom: 15px; }\\n\\nmat-icon {\\n  font-size: 24px;\\n  width: 24px;\\n  height: 24px; }\\n\\n.max-width-60-pct {\\n  max-width: 60% !important; }\\n\\n.border {\\n  border: 1px solid #f1f1f1; }\\n\\ntd.mat-cell {\\n  border: none !important; }\\n\\nth.mat-header-cell {\\n  border: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL25ldy1jb2xsZWN0aW9uL0U6XFxQUk9HUkFNQUNJT04gSUlJXFxtb3Jlc25lYWtlcnMtYmFja29mZmljZS9zcmNcXGFwcFxcbXMtYmFjay1vZmZpY2VcXG1vZHVsZXNcXG1zLWNvbGxlY3Rpb25zXFxjb21wb25lbnRzXFxuZXctY29sbGVjdGlvblxcbmV3LWNvbGxlY3Rpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixhQUNGLEVBQUM7O0FBRUQ7RUFDRSxjQUFhLEVBQ2Q7O0FBRUQ7RUFDRSxZQUFXO0VBQ1gsaUJBQWdCO0VBQ2hCLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLGdCQUFlLEVBQ2hCOztBQUVEO0VBQ0UsYUFBWTtFQUNaLHVCQUFzQjtFQUN0QixjQUFhO0VBQ2IsYUFBWTtFQUNaLGlCQUFnQjtFQUNoQixtQkFBa0I7RUFDbEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsZ0JBQWU7RUFDZixZQUFXO0VBQ1gsYUFBWSxFQUNiOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUVEO0VBQ0Usd0JBQXVCLEVBQ3hCOztBQUNEO0VBQ0Usd0JBQXVCLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvbXMtYmFjay1vZmZpY2UvbW9kdWxlcy9tcy1jb2xsZWN0aW9ucy9jb21wb25lbnRzL25ldy1jb2xsZWN0aW9uL25ldy1jb2xsZWN0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IDEwMCVcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiA2MCU7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MnZoO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1kaWFsb2ctYWN0aW9ucyB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1jYXJkIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgd2lkdGg6IDE1MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxuICBcclxuICAubWF4LXdpZHRoLTYwLXBjdHtcclxuICAgIG1heC13aWR0aDogNjAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5ib3JkZXJ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xyXG4gIH1cclxuICBcclxuICB0ZC5tYXQtY2VsbHtcclxuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICB0aC5tYXQtaGVhZGVyLWNlbGx7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\nimport { ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n//\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n//\nimport { CanDeactivateMixin } from '../../../../../ui/helpers/component-can-deactivate';\nimport { ConfirmDialogComponent, } from '../../../../../ui/modules/confirm-dialog/components/confirm-dialog/confirm-dialog.component';\nimport { Mixin } from '../../../../../ui/helpers/mixin-decorator';\nimport { ErrorHandlingService } from '../../../../../error-handling/services/error-handling.service';\nimport { HandledError } from '../../../../../error-handling/models/handled-error';\nimport { ToastrService } from '../../../../../error-handling/services/toastr.service';\nimport { Collection } from '../../models/collection';\nimport { CollectionsService } from '../../services/collections.service';\nimport { Brand } from '../../../ms-brands/models/brand';\nimport { BaseRouteComponent } from '../../../../../routing/components/base-route-component';\nimport { ImagesService } from '../../../../../ui/modules/images-card/services/images.service';\n\nconst errorKey = 'Error';\n\nconst savedUserMessageKey = 'Saved User Message';\n\n@Component({\n  selector: 'new-collection',\n  templateUrl: './new-collection.component.html',\n  styleUrls: ['./new-collection.component.scss']\n})\n@Mixin([CanDeactivateMixin])\nexport class NewCollectionComponent implements CanDeactivateMixin {\n\n  data: Collection = {\n    name: '',\n    brand: ''\n  };\n\n  //brands: Array<Brand>;\n  // Begin Mixin code of the CanDeactivate class\n  unsavedChanges = false;\n\n  cancelBtnKey = 'No';\n\n  okBtnKey = 'Yes';\n\n  saveTitleKey = 'Discard Title';\n\n  saveMessageKey = 'Discard Message';\n\n  modalRef: MatDialogRef<ConfirmDialogComponent>;\n\n  canDeactivate: () => Observable<boolean> | boolean;\n\n  dataChanged: () => void;\n\n\n  validationErrors: ValidationErrors;\n\n  constructor(\n    public dialogRef: MatDialogRef<NewCollectionComponent>,\n    public activatedRoute: ActivatedRoute,\n    public collectionsService: CollectionsService,\n    private errorHandlingService: ErrorHandlingService,\n    public imagesService: ImagesService,\n    public router: Router,\n    private translate: TranslateService,\n    private toastr: ToastrService,\n    public dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public dialogData: any\n  ) {\n  }\n\n  ngOnInit() {\n    console.log(this.dialogData);\n    //this.brands = this.activatedRoute.snapshot.data.brands;\n  }\n\n  submit(data: Collection) {\n    this.createCollection(data);\n  }\n\n  cancel() {\n    //this.close.emit();TODO\n    this.close();\n  }\n\n  close() {\n    this.dialogRef.close();\n    //this.router.navigate(this.activatedRoute.snapshot.data.closeRouteCommand, {relativeTo: this.activatedRoute});\n  }\n\n  createCollection(data: Collection) {\n\n    this.collectionsService.postCollection(data).subscribe(response => {\n      this.unsavedChanges = false;\n      //this.close.emit();TODO\n      this.close();\n      this.toastr.success(savedUserMessageKey);\n    },\n      (error: HandledError) => {\n        this.errorHandlingService.handleUiError(errorKey, error);\n        this.validationErrors = error.formErrors;\n      });\n  }\n\n  createBrand(collectionData: Collection) {\n    console.log(\"create...........\")\n    if (collectionData.faces && collectionData.faces.length > 0) {\n      for (const position in collectionData.faces) {\n        const face = collectionData.faces[position];\n        const subscription$ = this.imagesService.postImage(face.file).subscribe(response => {\n          collectionData.imgUrl = response.data.url;\n          this.collectionsService.postCollection(collectionData).subscribe(response => {\n            this.unsavedChanges = false;\n            this.close();\n            this.toastr.success(savedUserMessageKey);\n          },\n            (error: HandledError) => {\n              this.errorHandlingService.handleUiError(errorKey, error, 'collection');\n              this.validationErrors = error.formErrors;\n            });\n        },\n          (error: HandledError) => {\n            this.errorHandlingService.handleUiError(errorKey, error);\n            this.validationErrors = error.formErrors;\n          });\n      }\n    } else {\n      this.collectionsService.postCollection(collectionData).subscribe(response => {\n        this.unsavedChanges = false;\n        this.close();\n        this.toastr.success(savedUserMessageKey);\n      },\n        (error: HandledError) => {\n          this.errorHandlingService.handleUiError(errorKey, error, 'collection');\n          this.validationErrors = error.formErrors;\n        });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n//\nimport { CollectionCreatorComponent } from './components/collection-creator/collection-creator.component';\nimport { DeleteCollectionComponent } from './components/delete-collection/delete-collection.component';\nimport { CollectionsTableComponent } from './components/collections-table/collections-table.component';\nimport { NewCollectionComponent } from './components/new-collection/new-collection.component';\nimport { EditCollectionComponent } from './components/edit-collection/edit-collection.component';\n//\nimport { CollectionsResolveService } from './services/collections-resolve.service';\nimport { ConfigResolveService } from '../../../config/services/config-resolve.service';\nimport { BrandsResolveService } from '../ms-brands/services/brands-resolve.service';\nimport { CategoriesResolveService } from '../ms-categories/services/categories-resolve.service';\nimport { IdResolveService } from '../../../routing/services/id-resolve.service';\nimport { ShopsResolveService } from '../ms-shops/services/shops-resolve.service';\nimport { ReleasesResolveService } from '../ms-releases/services/releases-resolve.service';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: CollectionsTableComponent,\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n        }\n    },\n    {\n        path: 'create',\n        component: CollectionCreatorComponent,\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n            categories: CategoriesResolveService,\n            collections: CollectionsResolveService,\n            releases: ReleasesResolveService,\n            shops: ShopsResolveService,          \n        },\n        data: { closeRouteCommand: ['../'] }\n    },\n    {\n        path: 'edit/:id',\n        component: EditCollectionComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            brands: BrandsResolveService,\n            collectionId: IdResolveService,\n            shops: ShopsResolveService,\n            collections: CollectionsResolveService,\n            releases: ReleasesResolveService\n            \n        },\n        data: { closeRouteCommand: ['../../'] }\n    },\n    {\n        path: 'delete/:id',\n        component: DeleteCollectionComponent,\n        //canActivate: [AuthGuardService],\n        resolve: {\n            config: ConfigResolveService,\n            collectionId: IdResolveService,\n        },\n        data: { closeRouteCommand: ['../../'] }\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class MsCollectionsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n//\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule, MatPaginatorModule } from '@angular/material';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatTableModule } from '@angular/material';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCardModule } from '@angular/material/card';\nimport {\n  MatAutocompleteModule, MatCheckboxModule, MatDatepickerModule, MatDialogModule,\n  MatNativeDateModule, MatRadioModule, MatSliderModule, MatSlideToggleModule, MatTabsModule\n} from '@angular/material';\n\nimport { TranslateModule } from '@ngx-translate/core';\n//\nimport { AskBeforeRefreshModule } from '../../../ui/modules/ask-before-refresh/ask-before-refresh.module';\nimport { ImageCardModule } from '../../../ui/modules/image-card/image-card.module';\n\nimport { MsOffersModule } from '../ms-offers/ms-offers.module';\nimport { MsShopsModule } from '../ms-shops/ms-shops.module';\nimport { MsReleasesModule } from '../ms-releases/ms-releases.module';\nimport { NewReleaseModalComponent } from '../ms-releases/components/new-release-modal/new-release-modal.component';\nimport { LinkShopsCollentionModalComponent } from '../ms-shops/components/link-shops-collection/link-shops-collection-modal.component';\nimport { LinkOffersCollentionModalComponent } from '../ms-offers/components/link-offers-collection/link-offers-collection-modal.component';\n\nimport { MsCollectionsRoutingModule } from './ms-collections-routing.module';\nimport { CollectionCreatorComponent } from './components/collection-creator/collection-creator.component';\nimport { CollectionsTableComponent } from './components/collections-table/collections-table.component';\nimport { CollectionFormComponent } from './components/collection-form/collection-form.component';\nimport { NewCollectionComponent } from './components/new-collection/new-collection.component';\nimport { EditCollectionComponent } from './components/edit-collection/edit-collection.component';\nimport { EditCollectionFormComponent } from './components/edit-collection-form/edit-collection-form.component';\nimport { DeleteCollectionComponent } from './components/delete-collection/delete-collection.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FlexLayoutModule,\n    MatAutocompleteModule,\n    MatBottomSheetModule,\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatPaginatorModule,\n    MatSelectModule,\n    MatSortModule,\n    MatTableModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    TranslateModule,\n    MsCollectionsRoutingModule,\n    AskBeforeRefreshModule,\n    ImageCardModule,\n    MsOffersModule,\n    MsReleasesModule,\n    MsShopsModule,\n  ],\n  declarations: [\n    CollectionCreatorComponent,\n    CollectionsTableComponent,\n    CollectionFormComponent,\n    NewCollectionComponent,\n    EditCollectionComponent,\n    EditCollectionFormComponent,\n    DeleteCollectionComponent\n  ],\n  exports: [\n    CollectionCreatorComponent,\n    CollectionsTableComponent,\n    CollectionFormComponent,\n    NewCollectionComponent,\n    EditCollectionComponent,\n    EditCollectionFormComponent,\n    DeleteCollectionComponent\n  ],\n  entryComponents: [\n    NewCollectionComponent,\n    LinkShopsCollentionModalComponent,\n    LinkOffersCollentionModalComponent,\n    NewReleaseModalComponent,\n  ]\n})\nexport class MsCollectionsModule { }\n"],"sourceRoot":""}